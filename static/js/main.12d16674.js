/*! For license information please see main.12d16674.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(m,e)||!h.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,_);v[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,_);v[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,_);v[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P,F=Object.assign;function V(e){if(void 0===P)try{throw Error()}catch(yc){var t=yc.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var z=!1;function H(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(_c){var r=_c}Reflect.construct(e,[],t)}else{try{t.call()}catch(_c){r=_c}e.call(t.prototype)}else{try{throw Error()}catch(_c){r=_c}e()}}catch(_c){if(_c&&r&&"string"===typeof _c.stack){for(var a=_c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function U(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case D:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(yc){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(mt){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function ie(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Se=null;function De(e){if(e=wa(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),Ee(e.stateNode,e.type,t))}}function ke(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Me=!1;function Ne(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==xe||null!==Se)&&(Ie(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Re=!1}function Oe(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(xc){this.onError(xc)}}var Pe=!1,Fe=null,Ve=!1,ze=null,He={onError:function(e){Pe=!0,Fe=e}};function Ue(e,t,n,r,a,i,s,o,l){Pe=!1,Fe=null,Oe.apply(He,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(Be(e)!==e)throw Error(i(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return je(a),e;if(s===r)return je(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Xe=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=ht(o):0!==(i&=s)&&(r=ht(i))}else 0!==(s=n&~a)?r=ht(s):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,xt,St,Dt,kt,Ct=!1,Tt=[],It=null,Mt=null,Nt=null,Lt=new Map,Rt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ft(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=wa(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Vt(e){var t=ba(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wa(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ht(e,t,n){zt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==It&&zt(It)&&(It=null),null!==Mt&&zt(Mt)&&(Mt=null),null!==Nt&&zt(Nt)&&(Nt=null),Lt.forEach(Ht),Rt.forEach(Ht)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Mt&&Bt(Mt,e),null!==Nt&&Bt(Nt,e),Lt.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Vt(n),null===n.blockedOn&&At.shift()}var jt=b.ReactCurrentBatchConfig,Yt=!0;function qt(e,t,n,r){var a=bt,i=jt.transition;jt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,jt.transition=i}}function Kt(e,t,n,r){var a=bt,i=jt.transition;jt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,jt.transition=i}}function Gt(e,t,n,r){if(Yt){var a=Xt(e,t,n,r);if(null===a)qr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Ft(It,e,t,n,r,a),!0;case"dragenter":return Mt=Ft(Mt,e,t,n,r,a),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Lt.set(i,Ft(Lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Rt.set(i,Ft(Rt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var i=wa(a);if(null!==i&&Et(i),null===(i=Xt(e,t,n,r))&&qr(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=ba(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function on(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:sn,this.isPropagationStopped=sn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(hn),fn=F({},hn,{view:0,detail:0}),mn=on(fn),pn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=on(pn),gn=on(F({},pn,{dataTransfer:0})),_n=on(F({},fn,{relatedTarget:0})),yn=on(F({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(bn),En=on(F({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Cn(){return kn}var Tn=F({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Tn),Mn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Ln=on(F({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Rn),On=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Vn=u&&"TextEvent"in window&&!Fn,zn=u&&(!Pn||Fn&&8<Fn&&11>=Fn),Hn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Xn(e){Hr(e,0)}function $n(e){if(K(Ea(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ar),Qn=Gn=null)}function ar(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Kn(t,Qn,e,we(e)),Ne(Xn,t)}}function ir(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function or(e,t){if("click"===e)return $n(t)}function lr(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!h.call(t,a)||!cr(e[a],t[a]))return!1}return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(bc){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=dr(n,i);var s=dr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,_r=null,yr=null,br=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==G(r)||("selectionStart"in(r=_r)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Dr={},kr={};function Cr(e){if(Dr[e])return Dr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Dr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Cr("animationend"),Ir=Cr("animationiteration"),Mr=Cr("animationstart"),Nr=Cr("transitionend"),Lr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Lr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Pr=Rr[Or];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Mr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Fe;Pe=!1,Fe=null,Ve||(Ve=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Hr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;zr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;zr(a,o,c),i=l}}}if(Ve)throw e=ze,Ve=!1,ze=null,e}function Ur(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Yr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Yr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Wr]){e[Wr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Vr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Br("selectionchange",!1,t))}}function Yr(e,t,n,r){switch(Jt(t)){case 1:var a=qt;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Ne((function(){var r=i,a=we(n),s=[];e:{var o=Lr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=_n;break;case"focusout":c="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Ir:case Mr:l=yn;break;case Nr:l=Ln;break;case"scroll":l=mn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=Le(m,d))&&u.push(Kr(m,p,f)))),h)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[va])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,p="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,p="onPointerLeave",d="onPointerEnter",m="pointer"),h=null==l?o:Ea(l),f=null==c?o:Ea(c),(o=new u(p,m+"leave",l,n,a)).target=h,o.relatedTarget=f,p=null,ba(a)===r&&((u=new u(d,m+"enter",c,n,a)).target=f,u.relatedTarget=h,p=u),h=p,l&&c)e:{for(d=c,m=0,f=u=l;f;f=Qr(f))m++;for(f=0,p=d;p;p=Qr(p))f++;for(;0<m-f;)u=Qr(u),m--;for(;0<f-m;)d=Qr(d),f--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qr(u),d=Qr(d)}u=null}else u=null;null!==l&&Xr(s,o,l,u,!1),null!==c&&null!==h&&Xr(s,h,c,u,!0)}if("select"===(l=(o=r?Ea(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Jn;else if(qn(o))if(Zn)v=lr;else{v=sr;var g=ir}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=or);switch(v&&(v=v(e,r))?Kn(s,v,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?Ea(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(_r=g,yr=r,br=null);break;case"focusout":br=yr=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(s,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(s,n,a)}var _;if(Pn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(zn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(_=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,jn=!0)),0<(g=Gr(r,y)).length&&(y=new En(y,e,null,n,a),s.push({event:y,listeners:g}),_?y.data=_:null!==(_=Wn(n))&&(y.data=_))),(_=Vn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Un=!0,Hn);case"textInput":return(e=t.data)===Hn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new En("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=_))}Hr(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Kr(e,i,a)),null!=(i=Le(e,t))&&r.push(Kr(e,i,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,i))&&s.unshift(Kr(n,l,o)):a||null!=(l=Le(n,i))&&s.push(Kr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function ea(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function ta(){}var na=null,ra=null;function aa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ia="function"===typeof setTimeout?setTimeout:void 0,sa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ca)}:ia;function ca(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ha(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),ma="__reactFiber$"+fa,pa="__reactProps$"+fa,va="__reactContainer$"+fa,ga="__reactEvents$"+fa,_a="__reactListeners$"+fa,ya="__reactHandles$"+fa;function ba(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[va]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function wa(e){return!(e=e[ma]||e[va])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[pa]||null}var Sa=[],Da=-1;function ka(e){return{current:e}}function Ca(e){0>Da||(e.current=Sa[Da],Sa[Da]=null,Da--)}function Ta(e,t){Da++,Sa[Da]=e.current,e.current=t}var Ia={},Ma=ka(Ia),Na=ka(!1),La=Ia;function Ra(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ca(Na),Ca(Ma)}function Pa(e,t,n){if(Ma.current!==Ia)throw Error(i(168));Ta(Ma,t),Ta(Na,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return F({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,La=Ma.current,Ta(Ma,e),Ta(Na,Na.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fa(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,Ca(Na),Ca(Ma),Ta(Ma,e)):Ca(Na),Ta(Na,n)}var Ha=null,Ua=!1,Ba=!1;function Wa(e){null===Ha?Ha=[e]:Ha.push(e)}function ja(){if(!Ba&&null!==Ha){Ba=!0;var e=0,t=bt;try{var n=Ha;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ha=null,Ua=!1}catch(a){throw null!==Ha&&(Ha=Ha.slice(e+1)),Ke(Ze,ja),a}finally{bt=t,Ba=!1}}return null}var Ya=[],qa=0,Ka=null,Ga=0,Qa=[],Xa=0,$a=null,Ja=1,Za="";function ei(e,t){Ya[qa++]=Ga,Ya[qa++]=Ka,Ka=e,Ga=t}function ti(e,t,n){Qa[Xa++]=Ja,Qa[Xa++]=Za,Qa[Xa++]=$a,$a=e;var r=Ja;e=Za;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ja=1<<32-st(t)+a|n<<a|r,Za=i+e}else Ja=1<<i|n<<a|r,Za=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Ka;)Ka=Ya[--qa],Ya[qa]=null,Ga=Ya[--qa],Ya[qa]=null;for(;e===$a;)$a=Qa[--Xa],Qa[Xa]=null,Za=Qa[--Xa],Qa[Xa]=null,Ja=Qa[--Xa],Qa[Xa]=null}var ai=null,ii=null,si=!1,oi=null;function li(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ai=e,ii=ha(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ai=e,ii=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ja,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ai=e,ii=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function hi(e){if(si){var t=ii;if(t){var n=t;if(!ci(e,t)){if(ui(e))throw Error(i(418));t=ha(n.nextSibling);var r=ai;t&&ci(e,t)?li(r,n):(e.flags=-4097&e.flags|2,si=!1,ai=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ai=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ai=e}function fi(e){if(e!==ai)return!1;if(!si)return di(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!aa(e.type,e.memoizedProps)),t&&(t=ii)){if(ui(e))throw mi(),Error(i(418));for(;t;)li(e,t),t=ha(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ii=ha(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ii=null}}else ii=ai?ha(e.stateNode.nextSibling):null;return!0}function mi(){for(var e=ii;e;)e=ha(e.nextSibling)}function pi(){ii=ai=null,si=!1}function vi(e){null===oi?oi=[e]:oi.push(e)}var gi=b.ReactCurrentBatchConfig;function _i(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===L&&bi(i)===t.type)?((r=a(t,n.props)).ref=_i(e,t,n),r.return=e,r):((r=Bc(n.type,n.key,n.props,null,e.mode,r)).ref=_i(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Yc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Bc(t.type,t.key,t.props,null,e.mode,n)).ref=_i(e,null,t),n.return=e,n;case E:return(t=qc(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Wc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case E:return n.key===a?u(e,t,n,r):null;case L:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:h(e,t,n,r,null);yi(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function p(a,i,o,l){for(var c=null,u=null,h=i,p=i=0,v=null;null!==h&&p<o.length;p++){h.index>p?(v=h,h=null):v=h.sibling;var g=f(a,h,o[p],l);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(a,h),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g,h=v}if(p===o.length)return n(a,h),si&&ei(a,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(a,o[p],l))&&(i=s(h,i,p),null===u?c=h:u.sibling=h,u=h);return si&&ei(a,p),c}for(h=r(a,h);p<o.length;p++)null!==(v=m(h,a,p,o[p],l))&&(e&&null!==v.alternate&&h.delete(null===v.key?p:v.key),i=s(v,i,p),null===u?c=v:u.sibling=v,u=v);return e&&h.forEach((function(e){return t(a,e)})),si&&ei(a,p),c}function v(a,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,p=o,v=o=0,g=null,_=l.next();null!==p&&!_.done;v++,_=l.next()){p.index>v?(g=p,p=null):g=p.sibling;var y=f(a,p,_.value,c);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(a,p),o=s(y,o,v),null===h?u=y:h.sibling=y,h=y,p=g}if(_.done)return n(a,p),si&&ei(a,v),u;if(null===p){for(;!_.done;v++,_=l.next())null!==(_=d(a,_.value,c))&&(o=s(_,o,v),null===h?u=_:h.sibling=_,h=_);return si&&ei(a,v),u}for(p=r(a,p);!_.done;v++,_=l.next())null!==(_=m(p,a,v,_.value,c))&&(e&&null!==_.alternate&&p.delete(null===_.key?v:_.key),o=s(_,o,v),null===h?u=_:h.sibling=_,h=_);return e&&p.forEach((function(e){return t(a,e)})),si&&ei(a,v),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bi(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=_i(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((i=Wc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Bc(s.type,s.key,s.props,null,r.mode,l)).ref=_i(r,i,s),l.return=r,r=l)}return o(r);case E:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=qc(s,r.mode,l)).return=r,r=i}return o(r);case L:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return p(r,i,s,l);if(O(s))return v(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Yc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var Ei=wi(!0),xi=wi(!1),Si=ka(null),Di=null,ki=null,Ci=null;function Ti(){Ci=ki=Di=null}function Ii(e){var t=Si.current;Ca(Si),e._currentValue=t}function Mi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Di=e,Ci=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Di)throw Error(i(308));ki=e,Di.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ri=null;function Ai(e){null===Ri?Ri=[e]:Ri.push(e)}function Oi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ai(t)):(n.next=a.next,a.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fi=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Pi(e,n)}return null===(a=r.interleaved)?(t.next=t,Ai(r)):(t.next=a.next,a.next=t),r.interleaved=t,Pi(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Wi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,r){var a=e.updateQueue;Fi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=a.baseState;for(s=0,u=c=l=null,o=i;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(d=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=p.payload)?m.call(f,h,d):m)||void 0===d)break e;h=F({},h,d);break e;case 2:Fi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Vl|=s,e.lanes=s,e.memoizedState=h}}function Yi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var qi={},Ki=ka(qi),Gi=ka(qi),Qi=ka(qi);function Xi(e){if(e===qi)throw Error(i(174));return e}function $i(e,t){switch(Ta(Qi,t),Ta(Gi,e),Ta(Ki,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Ki),Ta(Ki,t)}function Ji(){Ca(Ki),Ca(Gi),Ca(Qi)}function Zi(e){Xi(Qi.current);var t=Xi(Ki.current),n=le(t,e.type);t!==n&&(Ta(Gi,e),Ta(Ki,n))}function es(e){Gi.current===e&&(Ca(Ki),Ca(Gi))}var ts=ka(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function as(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var is=b.ReactCurrentDispatcher,ss=b.ReactCurrentBatchConfig,os=0,ls=null,cs=null,us=null,hs=!1,ds=!1,fs=0,ms=0;function ps(){throw Error(i(321))}function vs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(os=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?eo:to,e=n(r,a),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(i(301));s+=1,us=cs=null,t.updateQueue=null,is.current=no,e=n(r,a)}while(ds)}if(is.current=Zs,t=null!==cs&&null!==cs.next,os=0,us=cs=ls=null,hs=!1,t)throw Error(i(300));return e}function _s(){var e=0!==fs;return fs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=cs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((os&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ls.lanes|=h,Vl|=h}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,cr(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ls.lanes|=s,Vl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);cr(s,t.memoizedState)||(wo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function Ds(e,t){var n=ls,r=bs(),a=t(),s=!cr(r.memoizedState,a);if(s&&(r.memoizedState=a,wo=!0),r=r.queue,Fs(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ls(9,Cs.bind(null,n,r,a,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&os)||ks(n,t,a)}return a}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Ms(e)}function Ts(e,t,n){return n((function(){Is(t)&&Ms(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(bc){return!0}}function Ms(e){var t=Pi(e,1);null!==t&&ac(t,e,1,-1)}function Ns(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,ls,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return bs().memoizedState}function As(e,t,n,r){var a=ys();ls.flags|=e,a.memoizedState=Ls(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var a=bs();r=void 0===r?null:r;var i=void 0;if(null!==cs){var s=cs.memoizedState;if(i=s.destroy,null!==r&&vs(r,s.deps))return void(a.memoizedState=Ls(t,n,i,r))}ls.flags|=e,a.memoizedState=Ls(1|t,n,i,r)}function Ps(e,t){return As(8390656,8,e,t)}function Fs(e,t){return Os(2048,8,e,t)}function Vs(e,t){return Os(4,2,e,t)}function zs(e,t){return Os(4,4,e,t)}function Hs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Hs.bind(null,t,e),n)}function Bs(){}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ys(e,t,n){return 0===(21&os)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(cr(n,t)||(n=vt(),ls.lanes|=n,Vl|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{bt=n,ss.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))$s(t,n);else if(null!==(n=Oi(e,t,n,r))){ac(n,e,r,nc()),Js(n,t,r)}}function Qs(e,t,n){var r=rc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))$s(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,cr(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ai(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(_c){}null!==(n=Oi(e,t,a,r))&&(ac(n,e,r,a=nc()),Js(n,t,r))}}function Xs(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function $s(e,t){ds=hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Li,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},eo={readContext:Li,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Li,useEffect:Ps,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4194308,4,Hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ns,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,a=ys();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nl)throw Error(i(349));0!==(30&os)||ks(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ps(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ls(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Nl.identifierPrefix;if(si){var n=Za;t=":"+t+"R"+(n=(Ja&~(1<<32-st(Ja)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Li,useCallback:Ws,useContext:Li,useEffect:Fs,useImperativeHandle:Us,useInsertionEffect:Vs,useLayoutEffect:zs,useMemo:js,useReducer:Es,useRef:Rs,useState:function(){return Es(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Ys(bs(),cs.memoizedState,e)},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ds,useId:Ks,unstable_isNewReconciler:!1},no={readContext:Li,useCallback:Ws,useContext:Li,useEffect:Fs,useImperativeHandle:Us,useInsertionEffect:Vs,useLayoutEffect:zs,useMemo:js,useReducer:xs,useRef:Rs,useState:function(){return xs(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Ys(t,cs.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ds,useId:Ks,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Hi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,a))&&(ac(t,e,a,r),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),a=rc(e),i=Hi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,a))&&(ac(t,e,a,r),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),a=Hi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ui(e,a,r))&&(ac(t,e,r,n),Bi(t,e,r))}};function so(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,i))}function oo(e,t,n){var r=!1,a=Ia,i=t.contextType;return"object"===typeof i&&null!==i?i=Li(i):(a=Aa(t)?La:Ma.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):Ia),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Li(i):(i=Aa(t)?La:Ma.current,a.context=Ra(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ao(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&io.enqueueReplaceState(a,a.state,null),ji(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(Cc){a="\nError generating stack: "+Cc.message+"\n"+Cc.stack}return{value:e,source:t,stack:a,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(yc){setTimeout((function(){throw yc}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Hi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),fo(0,t)},n}function vo(e,t,n){(n=Hi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function _o(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Hi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=b.ReactCurrentOwner,wo=!1;function Eo(e,t,n,r){t.child=null===e?xi(t,null,n,r):Ei(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var i=t.ref;return Ni(t,a),r=gs(e,t,n,r,i,a),n=_s(),null===e||wo?(si&&n&&ni(t),t.flags|=1,Eo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function So(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Hc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Do(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Uc(i,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(wo=!0)}}return To(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Ol,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ta(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ta(Ol,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ta(Ol,Al),Al|=r;return Eo(e,t,a,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,a){var i=Aa(n)?La:Ma.current;return i=Ra(t,i),Ni(t,a),n=gs(e,t,n,r,i,a),r=_s(),null===e||wo?(si&&r&&ni(t),t.flags|=1,Eo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function Io(e,t,n,r,a){if(Aa(n)){var i=!0;Va(t)}else i=!1;if(Ni(t,a),null===t.stateNode)Yo(e,t),oo(t,n,r),co(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Li(c):c=Ra(t,c=Aa(n)?La:Ma.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,s,r,c),Fi=!1;var d=t.memoizedState;s.state=d,ji(t,r,s,a),l=t.memoizedState,o!==r||d!==l||Na.current||Fi?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Fi||so(t,n,o,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Li(l):l=Ra(t,l=Aa(n)?La:Ma.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&lo(t,s,r,l),Fi=!1,d=t.memoizedState,s.state=d,ji(t,r,s,a);var m=t.memoizedState;o!==h||d!==m||Na.current||Fi?("function"===typeof f&&(ao(t,n,f,r),m=t.memoizedState),(c=Fi||so(t,n,c,r,d,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,i,a)}function Mo(e,t,n,r,a,i){Co(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&za(t,n,!1),qo(e,t,i);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,o,i)):Eo(e,t,o,i),t.memoizedState=r.state,a&&za(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(0,t.context,!1),$i(e,t.containerInfo)}function Lo(e,t,n,r,a){return pi(),vi(a),t.flags|=256,Eo(e,t,n,r),t.child}var Ro,Ao,Oo,Po,Fo={dehydrated:null,treeContext:null,retryLane:0};function Vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var r,a=t.pendingProps,s=ts.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ta(ts,1&s),null===e)return hi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,a,0,null),e=Wc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vo(n),t.memoizedState=Fo,e):Ho(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=ho(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=jc({mode:"visible",children:r.children},a,0,null),(s=Wc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ei(t,e.child,null,o),t.child.memoizedState=Vo(o),t.memoizedState=Fo,s);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=ho(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Nl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Pi(e,a),ac(r,e,a,-1))}return gc(),Uo(e,t,o,r=ho(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ii=ha(a.nextSibling),ai=t,si=!0,oi=null,null!==e&&(Qa[Xa++]=Ja,Qa[Xa++]=Za,Qa[Xa++]=$a,Ja=e.id,Za=e.overflow,$a=t),t=Ho(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Uc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Uc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Vo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,a}return e=(o=e.child).sibling,a=Uc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ho(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&vi(r),Ei(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mi(e.return,t,n)}function Wo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function jo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Eo(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ta(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Wo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ns(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Wo(t,!0,n,null,i);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Aa(t.type)&&Oa(),Go(t),null;case 3:return r=t.stateNode,Ji(),Ca(Na),Ca(Ma),as(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oi&&(lc(oi),oi=null))),Ao(e,t),Go(t),null;case 5:es(t);var a=Xi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Xi(Ki.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ma]=t,r[pa]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ur(Fr[a],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ae(r,s),Ur("invalid",r)}for(var l in _e(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&ea(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ta)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[pa]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),a=r;break;case"iframe":case"object":case"embed":Ur("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ur(Fr[a],e);a=r;break;case"source":Ur("error",e),a=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=r;break;case"details":Ur("toggle",e),a=r;break;case"input":X(e,r),a=Q(e,r),Ur("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ur("invalid",e)}for(s in _e(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ve(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Qi.current),Xi(Ki.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(s=r.nodeValue!==n)&&null!==(e=ai))switch(e.tag){case 3:ea(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ea(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Go(t),null;case 13:if(Ca(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ii&&0!==(1&t.mode)&&0===(128&t.flags))mi(),pi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ma]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==oi&&(lc(oi),oi=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ji(),Ao(e,t),null===e&&jr(t.stateNode.containerInfo),Go(t),null;case 10:return Ii(t.type._context),Go(t),null;case 19:if(Ca(ts),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ko(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,Ko(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ta(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>jl&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!si)return Go(t),null}else 2*$e()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=ts.current,Ta(ts,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xo(e,t){switch(ri(t),t.tag){case 1:return Aa(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Ca(Na),Ca(Ma),as(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ca(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ts),null;case 4:return Ji(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Oo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xi(Ki.current);var i,s=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),s=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ta)}for(u in _e(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Jo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(bc){Lc(e,t,bc)}else n.current=null}function nl(e,t,n){try{n()}catch(bc){Lc(e,t,bc)}}var rl=!1;function al(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&nl(t,n,i)}a=a.next}while(a!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[ga],delete t[_a],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ta));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var dl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(Ec){}switch(n.tag){case 5:Jo||tl(n,t);case 6:var r=dl,a=fl;dl=null,ml(e,t,n),fl=a,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Wt(e)):ua(dl,n.stateNode));break;case 4:r=dl,a=fl,dl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),dl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&nl(n,t,s),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!Jo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ec){Lc(n,t,Ec)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,ml(e,t,n),Jo=r):ml(e,t,n);break;default:ml(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(s,o,a),dl=null,fl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(_c){Lc(a,t,_c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{al(3,e,e.return),il(3,e)}catch(v){Lc(e,e.return,v)}try{al(5,e,e.return)}catch(v){Lc(e,e.return,v)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(v){Lc(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(a,s),ye(l,o);var u=ye(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ve(a,d):"dangerouslySetInnerHTML"===h?he(a,d):"children"===h?de(a,d):y(a,h,d,u)}switch(l){case"input":J(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(a,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(v){Lc(e,e.return,v)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){Lc(e,e.return,v)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){Lc(e,e.return,v)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Wl=$e())),4&r&&vl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||h,gl(t,e),Jo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(el=e,h=e.child;null!==h;){for(d=el=h;null!==el;){switch(m=(f=el).child,f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Lc(r,n,v)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==m?(m.return=f,el=m):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(v){Lc(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Lc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&vl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),hl(e,cl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,cl(e),s);break;default:throw Error(i(161))}}catch(o){Lc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var a=el,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||$o;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=$o;var c=Jo;if($o=s,(Jo=l)&&!c)for(el=a;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,el=l):Sl(a);for(;null!==i;)el=i,wl(i,t,n),i=i.sibling;el=a,$o=o,Jo=c}El(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,el=i):El(e)}}function El(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Yi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Yi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Wt(d)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&sl(t)}catch(f){Lc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function xl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Lc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Lc(t,a,l)}}var i=t.return;try{sl(t)}catch(l){Lc(t,i,l)}break;case 5:var s=t.return;try{sl(t)}catch(l){Lc(t,s,l)}}}catch(l){Lc(t,t.return,l)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var Dl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,Ml=0,Nl=null,Ll=null,Rl=0,Al=0,Ol=ka(0),Pl=0,Fl=null,Vl=0,zl=0,Hl=0,Ul=null,Bl=null,Wl=0,jl=1/0,Yl=null,ql=!1,Kl=null,Gl=null,Ql=!1,Xl=null,$l=0,Jl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Ml)?$e():-1!==ec?ec:ec=$e()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===tc&&(tc=vt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ac(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));_t(e,n,r),0!==(2&Ml)&&e===Nl||(e===Nl&&(0===(2&Ml)&&(zl|=n),4===Pl&&cc(e,Rl)),ic(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(jl=$e()+500,Ua&&ja()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Nl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ua=!0,Wa(e)}(uc.bind(null,e)):Wa(uc.bind(null,e)),la((function(){0===(6&Ml)&&ja()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Fc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(ec=-1,tc=0,0!==(6&Ml))throw Error(i(327));var n=e.callbackNode;if(Mc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=wc(e,r);else{t=r;var a=Ml;Ml|=2;var s=vc();for(Nl===e&&Rl===t||(Yl=null,jl=$e()+500,mc(e,t));;)try{Dc();break}catch(Ec){pc(e,Ec)}Ti(),Cl.current=s,Ml=a,null!==Ll?t=0:(Nl=null,Rl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Fl,mc(e,0),cc(e,r),ic(e,$e()),n;if(6===t)cc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!cr(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=wc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Fl,mc(e,0),cc(e,r),ic(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ic(e,Bl,Yl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Wl+500-$e())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ia(Ic.bind(null,e,Bl,Yl),t);break}Ic(e,Bl,Yl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ia(Ic.bind(null,e,Bl,Yl),r);break}Ic(e,Bl,Yl);break;default:throw Error(i(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=wc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Hl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Ml))throw Error(i(327));Mc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=wc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fl,mc(e,0),cc(e,t),ic(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Bl,Yl),ic(e,$e()),null}function hc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(jl=$e()+500,Ua&&ja())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Ml)&&Mc();var t=Ml;Ml|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Ml=t))&&ja()}}function fc(){Al=Ol.current,Ca(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,sa(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ri(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:Ji(),Ca(Na),Ca(Ma),as();break;case 5:es(r);break;case 4:Ji();break;case 13:case 19:Ca(ts);break;case 10:Ii(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nl=e,Ll=e=Uc(e.current,null),Rl=Al=t,Pl=0,Fl=null,Hl=zl=Vl=0,Bl=Ul=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ri=null}return e}function pc(e,t){for(;;){var n=Ll;try{if(Ti(),is.current=Zs,hs){for(var r=ls.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}hs=!1}if(os=0,us=cs=ls=null,ds=!1,fs=0,Tl.current=null,null===n||null===n.return){Pl=1,Fl=t,Ll=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=_o(o);if(null!==m){m.flags&=-257,yo(m,o,l,0,t),1&m.mode&&go(s,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}if(0===(1&t)){go(s,u,t),gc();break e}c=Error(i(426))}else if(si&&1&l.mode){var g=_o(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,l,0,t),vi(uo(c,l));break e}}s=c=uo(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[s]:Ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wi(s,po(0,c,t));break e;case 1:l=c;var _=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof _.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Wi(s,vo(s,l,t));break e}}s=s.return}while(null!==s)}Tc(n)}catch(cd){t=cd,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function vc(){var e=Cl.current;return Cl.current=Zs,null===e?Zs:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Nl||0===(268435455&Vl)&&0===(268435455&zl)||cc(Nl,Rl)}function wc(e,t){var n=Ml;Ml|=2;var r=vc();for(Nl===e&&Rl===t||(Yl=null,mc(e,t));;)try{Sc();break}catch(a){pc(e,a)}if(Ti(),Ml=n,Cl.current=r,null!==Ll)throw Error(i(261));return Nl=null,Rl=0,Pl}function Sc(){for(;null!==Ll;)kc(Ll)}function Dc(){for(;null!==Ll&&!Qe();)kc(Ll)}function kc(e){var t=Dl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ll=t,Tl.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Al)))return void(Ll=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Pl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Pl&&(Pl=5)}function Ic(e,t,n){var r=bt,a=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Mc()}while(null!==Xl);if(0!==(6&Ml))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Nl&&(Ll=Nl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Fc(tt,(function(){return Mc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var o=bt;bt=1;var l=Ml;Ml|=4,Tl.current=null,function(e,t){if(na=Yt,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch($t){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++h===r&&(c=o),null!==(m=d.nextSibling))break;f=(d=f).parentNode}d=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:e,selectionRange:n},Yt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,g=p.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:ro(t.type,v),g);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch($t){Lc(t,t.return,$t)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),_l(n,e),vr(ra),Yt=!!na,ra=na=null,e.current=n,bl(n,e,a),Xe(),Ml=l,bt=o,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,Xl=e,$l=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Mc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,ja()}(e,t,n,r)}finally{Il.transition=a,bt=r}return null}function Mc(){if(null!==Xl){var e=wt($l),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,$l=0,0!==(6&Ml))throw Error(i(331));var a=Ml;for(Ml|=4,el=e.current;null!==el;){var s=el,o=s.child;if(0!==(16&el.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var h=el;switch(h.tag){case 0:case 11:case 15:al(8,h,s)}var d=h.child;if(null!==d)d.return=h,el=d;else for(;null!==el;){var f=(h=el).sibling,m=h.return;if(ol(h),h===u){el=null;break}if(null!==f){f.return=m,el=f;break}el=m}}}var p=s.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}el=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,el=o;else e:for(;null!==el;){if(0!==(2048&(s=el).flags))switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var _=s.sibling;if(null!==_){_.return=s.return,el=_;break e}el=s.return}}var y=e.current;for(el=y;null!==el;){var b=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,el=b;else e:for(o=y;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(cd){Lc(l,l.return,cd)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Ml=a,ja(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(cd){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Nc(e,t,n){e=Ui(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(_t(e,1,t),ic(e,t))}function Lc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ui(t,e=vo(t,e=uo(n,e),1),1),e=nc(),null!==t&&(_t(t,1,e),ic(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Rl&n)===n&&(4===Pl||3===Pl&&(130023424&Rl)===Rl&&500>$e()-Wl?mc(e,0):Hl|=n),ic(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Pi(e,t))&&(_t(e,t,n),ic(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Fc(e,t){return Ke(e,t)}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Hc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Hc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Wc(n.children,a,s,t);case S:o=8,a|=8;break;case D:return(e=zc(12,n,t,2|a)).elementType=D,e.lanes=s,e;case I:return(e=zc(13,n,t,a)).elementType=I,e.lanes=s,e;case M:return(e=zc(19,n,t,a)).elementType=M,e.lanes=s,e;case R:return jc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case T:o=11;break e;case N:o=14;break e;case L:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=zc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Wc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Yc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,r,a,i,s,o,l){return e=new Kc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=zc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(i),e}function Qc(e){if(!e)return Ia;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Aa(n))return Fa(e,n,t)}return t}function Xc(e,t,n,r,a,i,s,o,l){return(e=Gc(n,r,!0,e,0,i,0,o,l)).context=Qc(null),n=e.current,(i=Hi(r=nc(),a=rc(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,a),e.current.lanes=a,_t(e,a,r),ic(e,r),e}function $c(e,t,n,r){var a=t.current,i=nc(),s=rc(a);return n=Qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Hi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(a,t,s))&&(ac(e,a,s,i),Bi(e,a,s)),s}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}Dl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:No(t),pi();break;case 5:Zi(t);break;case 1:Aa(t.type)&&Va(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ta(Si,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ta(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Ta(ts,1&ts.current),null!==(e=qo(e,t,n))?e.sibling:null);Ta(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return jo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ta(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return qo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,si&&0!==(1048576&t.flags)&&ti(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yo(e,t),e=t.pendingProps;var a=Ra(t,Ma.current);Ni(t,n),a=gs(null,t,r,e,a,n);var s=_s();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(s=!0,Va(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vi(t),a.updater=io,t.stateNode=a,a._reactInternals=t,co(t,r,e,n),t=Mo(null,t,r,!0,s,n)):(t.tag=0,si&&s&&ni(t),Eo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Hc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=ro(r,e),a){case 0:t=To(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=So(null,t,r,ro(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,To(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 1:return r=t.type,a=t.pendingProps,Io(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 3:e:{if(No(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,zi(e,t),ji(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Lo(e,t,r,n,a=uo(Error(i(423)),t));break e}if(r!==a){t=Lo(e,t,r,n,a=uo(Error(i(424)),t));break e}for(ii=ha(t.stateNode.containerInfo.firstChild),ai=t,si=!0,oi=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=qo(e,t,n);break e}Eo(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&hi(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,aa(r,a)?o=null:null!==s&&aa(r,s)&&(t.flags|=32),Co(e,t),Eo(e,t,o,n),t.child;case 6:return null===e&&hi(t),null;case 13:return zo(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ei(t,null,r,n):Eo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:ro(r,a),n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ta(Si,r._currentValue),r._currentValue=o,null!==s)if(cr(s.value,o)){if(s.children===a.children&&!Na.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Hi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Mi(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Mi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Eo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ni(t,n),r=r(a=Li(a)),t.flags|=1,Eo(e,t,r,n),t.child;case 14:return a=ro(r=t.type,t.pendingProps),So(e,t,r,a=ro(r.type,a),n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ro(r,a),Yo(e,t),t.tag=1,Aa(r)?(e=!0,Va(t)):e=!1,Ni(t,n),oo(t,r,a),co(t,r,a,n),Mo(null,t,r,!0,e,n);case 19:return jo(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var tu="function"===typeof reportError?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}function ru(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(){}function ou(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Jc(s);o.call(e)}}$c(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Jc(s);i.call(e)}}var s=Xc(t,r,e,0,null,!1,0,"",su);return e._reactRootContainer=s,e[va]=s.current,jr(8===e.nodeType?e.parentNode:e),dc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Jc(l);o.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",su);return e._reactRootContainer=l,e[va]=l.current,jr(8===e.nodeType?e.parentNode:e),dc((function(){$c(t,l,n,r)})),l}(n,t,e,a,r);return Jc(s)}ru.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));$c(e,t,null,null)},ru.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){$c(null,e,null,null)})),t[va]=null}},ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Vt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Ml)&&(jl=$e()+500,ja()))}break;case 13:dc((function(){var t=Pi(e,1);if(null!==t){var n=nc();ac(t,e,1,n)}})),eu(e,1)}},xt=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)ac(t,e,134217728,nc());eu(e,134217728)}},St=function(e){if(13===e.tag){var t=rc(e),n=Pi(e,t);if(null!==n)ac(n,e,t,nc());eu(e,t)}},Dt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));K(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=hc,Ie=dc;var lu={usingClientEntryPoint:!1,Events:[wa,Ea,xa,ke,Ce,hc]},cu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uu={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{at=hu.inject(uu),it=hu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(i(299));var n=!1,r="",a=tu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Gc(e,1,!1,null,0,n,0,r,a),e[va]=t.current,jr(8===e.nodeType?e.parentNode:e),new nu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!iu(t))throw Error(i(200));return ou(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=tu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Xc(t,null,e,1,null!=n?n:null,a,0,s,o),e[va]=t.current,jr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ru(t)},t.render=function(e,t,n){if(!iu(t))throw Error(i(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[va]=null}))})),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ou(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var b=y.prototype=new _;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),I(s,t,a,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(o=e[c],c);l+=I(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,a,u=i+T(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=D,t.createFactory=function(e){var t=D.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,p=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(v=!1,b(e),!p)if(null!==r(c))p=!0,R(E);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function E(e,n){p=!1,v&&(v=!1,_(k),k=-1),m=!0;var i=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&a(c),b(n)}else a(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&A(w,h.startTime-n),l=!1}return l}finally{d=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,D=null,k=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function M(){if(null!==D){var e=t.unstable_now();T=e;var n=!0;try{n=D(!0,e)}finally{n?x():(S=!1,D=null)}}else S=!1}if("function"===typeof y)x=function(){y(M)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,L=N.port2;N.port1.onmessage=M,x=function(){L.postMessage(null)}}else x=function(){g(M,0)};function R(e){D=e,S||(S=!0,x())}function A(e,n){k=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(v?(_(k),k=-1):v=!0,A(w,i-s))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".4f2064db.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="mobiscalendar:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/may-calendar/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmobiscalendar=self.webpackChunkmobiscalendar||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const l=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==l)throw new o;const c=t<<2|i>>4;if(r.push(c),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return u()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/may-calendar",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiKey:"AIzaSyDq_qkjwz0SLP0dIFLbohuvrx3O0Q0KeJY",REACT_APP_authDomain:"maycalendar-63405.firebaseapp.com",REACT_APP_projectId:"maycalendar-63405",REACT_APP_storageBucket:"maycalendar-63405.appspot.com",REACT_APP_messagingSenderId:"176052940488",REACT_APP_appId:"1:176052940488:web:e734d20ae08d1c54803ffd",REACT_APP_measurementId:"G-224CTCK58H"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{const t=(e=>{var t,n;return null===(n=null===(t=h())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return!function(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g(){try{return"object"===typeof indexedDB}catch(e){return!1}}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(b,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new _(n,i,t)}}const b=/\{\$([^}]+)}/g;function w(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(E(n)&&E(i)){if(!w(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function E(e){return null!==e&&"object"===typeof e}function x(e){return e&&e._delegate?e._delegate:e}class S{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const D="[DEFAULT]";class k{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new m;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:D})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(bd){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===D?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(bd){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?e:D:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new k(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const T=[];var I;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(I||(I={}));const M={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},N=I.INFO,L={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},R=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=L[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class A{constructor(e){this.name=e,this._logLevel=N,this._logHandler=R,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in I))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?M[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...t),this._logHandler(this,I.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...t),this._logHandler(this,I.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,I.INFO,...t),this._logHandler(this,I.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,I.WARN,...t),this._logHandler(this,I.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,I.ERROR,...t),this._logHandler(this,I.ERROR,...t)}}const O=(e,t)=>t.some((t=>e instanceof t));let P,F;const V=new WeakMap,z=new WeakMap,H=new WeakMap,U=new WeakMap,B=new WeakMap;let W={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return z.get(e);if("objectStoreNames"===t)return e.objectStoreNames||H.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return q(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function j(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(K(this),n),q(V.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(e.apply(K(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(K(this),t,...r);return H.set(i,t.sort?t.sort():[t]),q(i)}}function Y(e){return"function"===typeof e?j(e):(e instanceof IDBTransaction&&function(e){if(z.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));z.set(e,t)}(e),O(e,P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,W):e)}function q(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(q(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&V.set(t,e)})).catch((()=>{})),B.set(t,e),t}(e);if(U.has(e))return U.get(e);const t=Y(e);return t!==e&&(U.set(e,t),B.set(t,e)),t}const K=e=>B.get(e);const G=["get","getKey","getAll","getAllKeys","count"],Q=["put","add","delete","clear"],X=new Map;function $(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(X.get(t))return X.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Q.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!G.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return X.set(t,i),i}W=(e=>({...e,get:(t,n,r)=>$(t,n)||e.get(t,n,r),has:(t,n)=>!!$(t,n)||e.has(t,n)}))(W);class J{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Z="@firebase/app",ee="0.10.5",te=new A("@firebase/app"),ne="@firebase/app-compat",re="@firebase/analytics-compat",ae="@firebase/analytics",ie="@firebase/app-check-compat",se="@firebase/app-check",oe="@firebase/auth",le="@firebase/auth-compat",ce="@firebase/database",ue="@firebase/database-compat",he="@firebase/functions",de="@firebase/functions-compat",fe="@firebase/installations",me="@firebase/installations-compat",pe="@firebase/messaging",ve="@firebase/messaging-compat",ge="@firebase/performance",_e="@firebase/performance-compat",ye="@firebase/remote-config",be="@firebase/remote-config-compat",we="@firebase/storage",Ee="@firebase/storage-compat",xe="@firebase/firestore",Se="@firebase/vertexai-preview",De="@firebase/firestore-compat",ke="firebase",Ce="[DEFAULT]",Te={[Z]:"fire-core",[ne]:"fire-core-compat",[ae]:"fire-analytics",[re]:"fire-analytics-compat",[se]:"fire-app-check",[ie]:"fire-app-check-compat",[oe]:"fire-auth",[le]:"fire-auth-compat",[ce]:"fire-rtdb",[ue]:"fire-rtdb-compat",[he]:"fire-fn",[de]:"fire-fn-compat",[fe]:"fire-iid",[me]:"fire-iid-compat",[pe]:"fire-fcm",[ve]:"fire-fcm-compat",[ge]:"fire-perf",[_e]:"fire-perf-compat",[ye]:"fire-rc",[be]:"fire-rc-compat",[we]:"fire-gcs",[Ee]:"fire-gcs-compat",[xe]:"fire-fst",[De]:"fire-fst-compat",[Se]:"fire-vertex","fire-js":"fire-js",[ke]:"fire-js-all"},Ie=new Map,Me=new Map,Ne=new Map;function Le(e,t){try{e.container.addComponent(t)}catch(n){te.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Re(e){const t=e.name;if(Ne.has(t))return te.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ne.set(t,e);for(const n of Ie.values())Le(n,e);for(const n of Me.values())Le(n,e);return!0}function Ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Oe=new y("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Pe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new S("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})}}function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ce,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Oe.create("bad-app-name",{appName:String(a)});if(n||(n=f()),!n)throw Oe.create("no-options");const i=Ie.get(a);if(i){if(w(n,i.options)&&w(r,i.config))return i;throw Oe.create("duplicate-app",{appName:a})}const s=new C(a);for(const l of Ne.values())s.addComponent(l);const o=new Pe(n,r,s);return Ie.set(a,o),o}function Ve(e,t,n){var r;let a=null!==(r=Te[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void te.warn(e.join(" "))}Re(new S("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const ze="firebase-heartbeat-database",He=1,Ue="firebase-heartbeat-store";let Be=null;function We(){return Be||(Be=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=q(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(q(s.result),e.oldVersion,e.newVersion,q(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(ze,He,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ue)}catch(n){console.warn(n)}}}).catch((e=>{throw Oe.create("idb-open",{originalErrorMessage:e.message})}))),Be}async function je(e,t){try{const n=(await We()).transaction(Ue,"readwrite"),r=n.objectStore(Ue);await r.put(t,Ye(e)),await n.done}catch(n){if(n instanceof _)te.warn(n.message);else{const e=Oe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});te.warn(e.message)}}}function Ye(e){return"".concat(e.name,"!").concat(e.options.appId)}class qe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ge(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ke();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ke(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),Qe(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Qe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=l(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function Ke(){return(new Date).toISOString().substring(0,10)}class Ge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!g()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await We()).transaction(Ue),n=await t.objectStore(Ue).get(Ye(e));return await t.done,n}catch(t){if(t instanceof _)te.warn(t.message);else{const e=Oe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});te.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qe(e){return l(JSON.stringify({version:2,heartbeats:e})).length}var Xe;Xe="",Re(new S("platform-logger",(e=>new J(e)),"PRIVATE")),Re(new S("heartbeat",(e=>new qe(e)),"PRIVATE")),Ve(Z,ee,Xe),Ve(Z,ee,"esm2017"),Ve("fire-js","");Ve("firebase","10.12.2","app");var $e,Je,Ze="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},et={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function v(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(h(e))return t=v(d(e),t),new p(d(t.g),d(t.h));if(h(t))return t=v(e,d(t)),new p(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=g(n),r=g(r);var a=_(n,1),i=_(r,1);for(r=_(r,2),n=_(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=_(r,1),n=_(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);h(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=f(e,c)}return new p(a,e)}function g(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function _(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=v(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),p=e.i(i)>>>16,v=65535&e.i(i);n[2*a+2*i]+=f*v,m(n,2*a+2*i),n[2*a+2*i+1]+=l*v,m(n,2*a+2*i+1),n[2*a+2*i+1]+=f*p,m(n,2*a+2*i+1),n[2*a+2*i+2]+=l*p,m(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return v(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Je=et.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),a=a.j(l).add(s(c))):a=(a=a.j(r)).add(s(c))}return a},$e=et.Integer=r}).apply("undefined"!==typeof Ze?Ze:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var tt,nt,rt,at,it,st,ot,lt,ct,ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ht={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ut&&ut];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var g=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function _(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function y(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){a.setTimeout((()=>{throw e}),0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},M=()=>{const e=a.Promise.resolve(void 0);C=()=>{e.then(N)}};var N=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(yc){x(yc)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function L(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(yc){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g){e:{try{v(t.nodeName);var a=!0;break e}catch(Cc){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:P[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}h(O,R);var P={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),V=0;function z(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++V,this.da=this.fa=!1}function H(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(H(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}U.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=W(e,t,r,a);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var j="closure_lm_"+(1e6*Math.random()|0),Y={};function q(e,t,n,r,a){if(r&&r.once)return G(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)q(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,a):K(e,t,n,!1,r,a)}function K(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=Z(e);if(l||(e[j]=l=new U(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,a):K(e,t,n,!0,r,a)}function Q(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(i=e.g[t],n,r,a))&&(H(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[j]=null)):H(e)}}}function $(e){return e in Y?Y[e]:Y[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[j])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){L.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var a=t;w(t=new R(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=ae(s,r,!0,t)&&a}if(a=ae(s=t.g=e,r,!0,t)&&a,a=ae(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(s=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,L),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)H(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){L.call(this),this.h=e,this.g={}}h(le,L);var ce=[];function ue(e){_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,de=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ve(){}me.prototype.h=null;var ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _e(){R.call(this,"d")}function ye(){R.call(this,"c")}h(_e,R),h(ye,R);var be={},we=null;function Ee(){return we=we||new ne}function xe(e){R.call(this,be.La,e)}function Se(e){const t=Ee();re(t,new xe(t))}function De(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ee();re(t,new De(t,e))}function Ce(e,t){R.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Me(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return he(n)}catch(xc){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(xe,R),be.STAT_EVENT="statevent",h(De,R),be.Ma="timingevent",h(Ce,R),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ne,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}h(Ae,me),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},Ne=new Ae;var Fe={},Ve={};function ze(e,t,n){e.L=1,e.v=xt(_t(t)),e.m=n,e.P=!0,He(e,null)}function He(e,t){e.F=Date.now(),We(e),e.A=_t(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ft(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Pe,e.g=Dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var s=q(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?y(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ve:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ve:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,je(e,e.I)}function je(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function Ye(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||bn(e.j,e)}function Ke(e){Ye(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(_c){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),cn(n)}vn(n),ke(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(_c){}n.ca=void 0}}else En(n,11)}else if((e.K||n.g==e)&&yn(n),!m(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Et(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),s.K){dt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(Ye(o),We(o)),r.g=s}else pn(r);0<n.i.length&&hn(n)}else"stop"!=c[0]&&"close"!=c[0]||En(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?En(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(_c){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||an(this.g)))){this.J||4!=d||7==t||Se(),Ye(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=an(this.g);e="";var i=r.length,s=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ke(this),qe(this);break e}Me(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ve){4==d&&(this.s=4,ke(14),n=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,ke(15),Me(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Me(this.i,this.l,e,null),Ge(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),gn(h),h.M=!0,ke(11))}}else Me(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Me(this.i,this.l,o,null),Ge(this,o);4==d&&Ke(this),this.o&&!this.J&&(4==d?bn(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=E(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ke(this),qe(this)}}}catch(Oc){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),ke(17)),Ke(this),this.s=2,qe(this)):je(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ft(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,s=0;s<a;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,bt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wt(this,n),this.m=e.m}else e&&(t=String(e).match(vt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),bt(this,t[4]),this.l=St(t[5]||"",!0),wt(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function _t(e){return new gt(e)}function yt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function wt(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(At(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Ft(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Dt(t,Nt)),e.i=new Rt(t,e.h))}function Et(e,t,n){e.i.set(t,n)}function xt(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dt(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Dt(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dt(n,"/"==n.charAt(0)?Mt:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Dt(n,Lt)),e.join("")};var Ct,Tt=/[#\/\?@]/g,It=/[#\?:]/g,Mt=/[#\?]/g,Nt=/[#\?@]/g,Lt=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function At(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ot(e,t){At(e),t=Vt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pt(e,t){return At(e),t=Vt(e,t),e.g.has(t)}function Ft(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(Vt(e,t),d(n)),e.h+=n.length)}function Vt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(Cc){}}function Ht(){this.g=new fe}function Ut(e,t,n){const r=n||"";try{pt(e,(function(e,n){let a=e;s(e)&&(a=he(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Bt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Wt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Yt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,qt(e)}function qt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return _(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Et(e,t,n))}function Qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){At(this),this.i=null,e=Vt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){At(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){At(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){At(this);let t=[];if("string"===typeof e)Pt(this,e)&&(t=t.concat(this.g.get(Vt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return At(this),this.i=null,Pt(this,e=Vt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var a=i;""!==s[r]&&(a+="="+encodeURIComponent(String(s[r]))),e.push(a)}}return this.i=e.join("&")},h(Bt,me),Bt.prototype.g=function(){return new Wt(this.l,this.j)},Bt.prototype.i=(Ct={},function(){return Ct}),h(Wt,ne),(e=Wt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,qt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yt(this):qt(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Yt(this))},e.Qa=function(e){this.g&&(this.response=e,Yt(this))},e.ga=function(){this.g&&Yt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Qt,ne);var Xt=/^https?$/i,$t=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Zt(e),tn(e)}function Zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(vt)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Xt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<rn(e)?e.g.statusText:""}catch(xc){o=""}e.l=o+" ["+e.Z()+"]",Zt(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=a}catch(n){}}}function nn(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function an(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(mt){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Ht,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=_t(e.I);if(Et(n,"SID",e.K),Et(n,"RID",t),Et(n,"TYPE","terminate"),fn(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=xt(_t(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(bc){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=Dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}xn(e)}function cn(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(a.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function hn(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||M(),T||(C(),T=!0),I.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=_t(e.I);Et(r,"SID",e.K),Et(r,"RID",n),Et(r,"AID",e.T),fn(e,r),e.m&&e.o&&Gt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=mn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function fn(e,t){e.H&&_(e.H,(function(e,n){Et(t,n,e)})),e.l&&pt({},(function(e,n){Et(t,n,e)}))}function mn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let s=0;s<n;s++){let n=a[s].g;const o=a[s].map;if(n-=t,0>n)t=Math.max(0,a[s].g-100),i=!1;else try{Ut(o,e,"req"+n+"_")}catch(Oc){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||M(),T||(C(),T=!0),I.add(t,e),e.v=0}}function vn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),wn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function _n(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=_t(e.qa);Et(t,"RID","rpc"),Et(t,"SID",e.K),Et(t,"AID",e.T),Et(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Et(t,"TO",e.ja),Et(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(_t(t)),n.m=null,n.P=!0,He(n,e)}function yn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Ee(),new Ce(r,n)),hn(e)}else pn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),wn(e,e.B)),e.B++,!0))}(e,t)||2==r&&vn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:En(e,5);break;case 4:En(e,10);break;case 3:En(e,6);break;default:En(e,2)}}function wn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function En(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new gt(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||yt(r,"https"),xt(r),t?function(e,t){const n=new Ie;if(a.Image){const r=new Image;r.onload=u(zt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(zt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(zt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(zt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),zt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?zt(0,0,!0,t):zt(0,0,!1,t)})).catch((()=>{clearTimeout(r),zt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),xn(e),un(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ft(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof gt?_t(n):new gt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),bt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gt(null);r&&yt(s,r),t&&(s.g=t),i&&bt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&Et(r,n,t),Et(r,"VER",e.la),fn(e,r),r}function Dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Qt(new Bt({eb:n})):new Qt(e.pa)).Ha(e.J),t}function kn(){}function Cn(){}function Tn(e,t){ne.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function In(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Mn(){ye.call(this),this.status=1}function Nn(e){this.g=e}(e=Qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?pe(this.o):pe(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Cc){return void Jt(this,Cc)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call($t,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(Cc){Jt(this,Cc)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(Ct){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ct){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),hn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=y(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=mn(this,a,t),Et(n=_t(this.I),"RID",e),Et(n,"CVER",22),this.D&&Et(n,"X-HTTP-Session-Id",this.D),fn(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Kt(i)))+"&"+t:this.m&&Gt(n,this.m,i)),et(this.h,a),this.Ua&&Et(n,"TYPE","init"),this.P?(Et(n,"$req",t),Et(n,"SID","null"),a.T=!0,ze(a,n,null)):ze(a,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||$e(this.h)||dn(this))},e.Fa=function(){if(this.u=null,_n(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),cn(this),_n(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),vn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Cn.prototype.g=function(e,t){return new Tn(e,t)},h(Tn,ne),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ln(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&hn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,Tn.aa.N.call(this)},h(In,_e),h(Mn,ye),h(Nn,kn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new In(e))},Nn.prototype.sa=function(e){re(this.g,new Mn)},Nn.prototype.ra=function(){re(this.g,"b")},Cn.prototype.createWebChannel=Cn.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,ct=ht.createWebChannelTransport=function(){return new Cn},lt=ht.getStatEventTarget=function(){return Ee()},ot=ht.Event=be,st=ht.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,it=ht.ErrorCode=Le,Re.COMPLETE="complete",at=ht.EventType=Re,ve.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ne.prototype.listen=ne.prototype.K,rt=ht.WebChannel=ve,nt=ht.FetchXmlHttpFactory=Bt,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,tt=ht.XhrIo=Qt}).apply("undefined"!==typeof ut?ut:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const dt="@firebase/firestore";class ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");let mt="10.12.1";const pt=new A("@firebase/firestore");function vt(){return pt.logLevel}function gt(e){if(pt.logLevel<=I.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(bt);pt.debug("Firestore (".concat(mt,"): ").concat(e),...a)}}function _t(e){if(pt.logLevel<=I.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(bt);pt.error("Firestore (".concat(mt,"): ").concat(e),...a)}}function yt(e){if(pt.logLevel<=I.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(bt);pt.warn("Firestore (".concat(mt,"): ").concat(e),...a)}}function bt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(mt,") INTERNAL ASSERTION FAILED: ")+e;throw _t(t),new Error(t)}function Et(e,t){e||wt()}function xt(e,t){return e}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends _{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class kt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ct{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Tt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ft.UNAUTHENTICATED)))}shutdown(){}}class It{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Mt{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new kt,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kt)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Et("string"==typeof t.accessToken),new Ct(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new ft(e)}}class Nt{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lt{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Nt(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class At{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&gt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,gt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Et("string"==typeof e.token),this.R=e.token,new Rt(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ot(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pt{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ot(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function Ft(e,t){return e<t?-1:e>t?1:0}function Vt(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class zt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new zt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new zt(0,0))}static max(){return new Ht(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ut{constructor(e,t,n){void 0===t?t=0:t>e.length&&wt(),void 0===n?n=e.length-t:n>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ut.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ut?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bt extends Ut{construct(e,t,n){return new Bt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Dt(St.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter((e=>e.length>0)))}return new Bt(e)}static emptyPath(){return new Bt([])}}const Wt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Ut{construct(e,t,n){return new jt(e,t,n)}static isValidIdentifier(e){return Wt.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Dt(St.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Dt(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Dt(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new Dt(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Bt.fromString(e))}static fromName(e){return new Yt(Bt.fromString(e).popFirst(5))}static empty(){return new Yt(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Bt(e.slice()))}}class qt{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}qt.UNKNOWN_ID=-1;function Kt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Ht.fromTimestamp(1e9===r?new zt(n+1,0):new zt(n,r));return new Qt(a,Yt.empty(),t)}function Gt(e){return new Qt(e.readTime,e.key,-1)}class Qt{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qt(Ht.min(),Yt.empty(),-1)}static max(){return new Qt(Ht.max(),Yt.empty(),-1)}}function Xt(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Yt.comparator(e.documentKey,t.documentKey),0!==n?n:Ft(e.largestBatchId,t.largestBatchId))}const $t="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zt(e){if(e.code!==St.FAILED_PRECONDITION||e.message!==$t)throw e;gt("LocalStore","Unexpectedly lost primary lease")}class en{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new en(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof en?t:en.resolve(t)}catch(e){return en.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):en.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):en.reject(t)}static resolve(e){return new en(((t,n)=>{t(e)}))}static reject(e){return new en(((t,n)=>{n(e)}))}static waitFor(e){return new en(((t,n)=>{let r=0,a=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++a,i&&a===r&&t()}),(e=>n(e)))})),i=!0,a===r&&t()}))}static or(e){let t=en.resolve(!1);for(const n of e)t=t.next((e=>e?en.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new en(((n,r)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++s,s===a&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new en(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function tn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nn(e){return"IndexedDbTransactionError"===e.name}class rn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function an(e){return null==e}function sn(e){return 0===e&&1/e==-1/0}function on(e){return"number"==typeof e&&Number.isInteger(e)&&!sn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}rn.oe=-1;const ln=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],un=cn;function hn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mn{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pn(this.root,e,this.comparator,!1)}getReverseIterator(){return new pn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pn(this.root,e,this.comparator,!0)}}class pn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:vn.RED,this.left=null!=r?r:vn.EMPTY,this.right=null!=a?a:vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new vn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt();if(this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1,vn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,t,n,r,a){return this}insert(e,t,n){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _n(this.data.getIterator())}getIteratorFrom(e){return new _n(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof gn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class _n{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new gn(jt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vt(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class bn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bn("Invalid base64 string: "+e):e}}(e);return new wn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const En=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(e){if(Et(!!e),"string"==typeof e){let t=0;const n=En.exec(e);if(Et(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sn(e.seconds),nanos:Sn(e.nanos)}}function Sn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dn(e){return"string"==typeof e?wn.fromBase64String(e):wn.fromUint8Array(e)}function kn(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cn(e){const t=e.mapValue.fields.__previous_value__;return kn(t)?Cn(t):t}function Tn(e){const t=xn(e.mapValue.fields.__local_write_time__.timestampValue);return new zt(t.seconds,t.nanos)}class In{constructor(e,t,n,r,a,i,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class Mn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mn&&e.projectId===this.projectId&&e.database===this.database}}const Nn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ln(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kn(e)?4:Yn(e)?9007199254740991:10:wt()}function Rn(e,t){if(e===t)return!0;const n=Ln(e);if(n!==Ln(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tn(e).isEqual(Tn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xn(e.timestampValue),r=xn(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dn(e.bytesValue).isEqual(Dn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sn(e.geoPointValue.latitude)===Sn(t.geoPointValue.latitude)&&Sn(e.geoPointValue.longitude)===Sn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sn(e.integerValue)===Sn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Sn(e.doubleValue),r=Sn(t.doubleValue);return n===r?sn(n)===sn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vt(e.arrayValue.values||[],t.arrayValue.values||[],Rn);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hn(n)!==hn(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Rn(n[a],r[a])))return!1;return!0}(e,t);default:return wt()}}function An(e,t){return void 0!==(e.values||[]).find((e=>Rn(e,t)))}function On(e,t){if(e===t)return 0;const n=Ln(e),r=Ln(t);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Sn(e.integerValue||e.doubleValue),r=Sn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pn(e.timestampValue,t.timestampValue);case 4:return Pn(Tn(e),Tn(t));case 5:return Ft(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dn(e),r=Dn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=Ft(n[a],r[a]);if(0!==e)return e}return Ft(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ft(Sn(e.latitude),Sn(t.latitude));return 0!==n?n:Ft(Sn(e.longitude),Sn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=On(n[a],r[a]);if(e)return e}return Ft(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Nn.mapValue&&t===Nn.mapValue)return 0;if(e===Nn.mapValue)return 1;if(t===Nn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Ft(r[s],i[s]);if(0!==e)return e;const t=On(n[r[s]],a[i[s]]);if(0!==t)return t}return Ft(r.length,i.length)}(e.mapValue,t.mapValue);default:throw wt()}}function Pn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ft(e,t);const n=xn(e),r=xn(t),a=Ft(n.seconds,r.seconds);return 0!==a?a:Ft(n.nanos,r.nanos)}function Fn(e){return Vn(e)}function Vn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xn(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Dn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Yt.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Vn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(Vn(e.fields[a]));return n+"}"}(e.mapValue):wt()}function zn(e){return!!e&&"integerValue"in e}function Hn(e){return!!e&&"arrayValue"in e}function Un(e){return!!e&&"nullValue"in e}function Bn(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wn(e){return!!e&&"mapValue"in e}function jn(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dn(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jn(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jn(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Yn(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jn(t)}setAll(e){let t=jt.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=jn(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Wn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Wn(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){dn(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new qn(jn(this.value))}}function Kn(e){const t=[];return dn(e.fields,((e,n)=>{const r=new jt([e]);if(Wn(n)){const e=Kn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new yn(t)}class Gn{constructor(e,t,n,r,a,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Gn(e,0,Ht.min(),Ht.min(),Ht.min(),qn.empty(),0)}static newFoundDocument(e,t,n,r){return new Gn(e,1,t,Ht.min(),n,r,0)}static newNoDocument(e,t){return new Gn(e,2,t,Ht.min(),Ht.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,Ht.min(),Ht.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Qn{constructor(e,t){this.position=e,this.inclusive=t}}function Xn(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(r=i.field.isKeyField()?Yt.comparator(Yt.fromName(s.referenceValue),n.key):On(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function $n(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Rn(e.position[n],t.position[n]))return!1;return!0}class Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class er{}class tr extends er{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cr(e,t,n):"array-contains"===t?new fr(e,n):"in"===t?new mr(e,n):"not-in"===t?new pr(e,n):"array-contains-any"===t?new vr(e,n):new tr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ur(e,n):new hr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(On(t,this.value)):null!==t&&Ln(this.value)===Ln(t)&&this.matchesComparison(On(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends er{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new nr(e,t)}matches(e){return rr(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rr(e){return"and"===e.op}function ar(e){return ir(e)&&rr(e)}function ir(e){for(const t of e.filters)if(t instanceof nr)return!1;return!0}function sr(e){if(e instanceof tr)return e.field.canonicalString()+e.op.toString()+Fn(e.value);if(ar(e))return e.filters.map((e=>sr(e))).join(",");{const t=e.filters.map((e=>sr(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function or(e,t){return e instanceof tr?function(e,t){return t instanceof tr&&e.op===t.op&&e.field.isEqual(t.field)&&Rn(e.value,t.value)}(e,t):e instanceof nr?function(e,t){return t instanceof nr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&or(n,t.filters[r])),!0)}(e,t):void wt()}function lr(e){return e instanceof tr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fn(e.value))}(e):e instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(lr).join(" ,")+"}"}(e):"Filter"}class cr extends tr{constructor(e,t,n){super(e,t,n),this.key=Yt.fromName(n.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ur extends tr{constructor(e,t){super(e,"in",t),this.keys=dr("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hr extends tr{constructor(e,t){super(e,"not-in",t),this.keys=dr("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Yt.fromName(e.referenceValue)))}class fr extends tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hn(t)&&An(t.arrayValue,this.value)}}class mr extends tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&An(this.value.arrayValue,t)}}class pr extends tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(An(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!An(this.value.arrayValue,t)}}class vr extends tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hn(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>An(this.value.arrayValue,e)))}}class gr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=s,this.ue=null}}function _r(e){return new gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yr(e){const t=xt(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>sr(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),an(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Fn(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Fn(e))).join(",")),t.ue=e}return t.ue}function br(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!or(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$n(e.startAt,t.startAt)&&$n(e.endAt,t.endAt)}function wr(e){return Yt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xr(e,t,n,r,a,i,s,o){return new Er(e,t,n,r,a,i,s,o)}function Sr(e){return new Er(e)}function Dr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kr(e){return null!==e.collectionGroup}function Cr(e){const t=xt(e);if(null===t.ce){t.ce=[];const e=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new gn(jt.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Jn(r,n))})),e.has(jt.keyField().canonicalString())||t.ce.push(new Jn(jt.keyField(),n))}return t.ce}function Tr(e){const t=xt(e);return t.le||(t.le=Ir(t,Cr(e))),t.le}function Ir(e,t){if("F"===e.limitType)return _r(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Jn(e.field,t)}));const n=e.endAt?new Qn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qn(e.startAt.position,e.startAt.inclusive):null;return _r(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mr(e,t,n){return new Er(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nr(e,t){return br(Tr(e),Tr(t))&&e.limitType===t.limitType}function Lr(e){return"".concat(yr(Tr(e)),"|lt:").concat(e.limitType)}function Rr(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>lr(e))).join(", "),"]")),an(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Fn(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Fn(e))).join(",")),"Target(".concat(t,")")}(Tr(e)),"; limitType=").concat(e.limitType,")")}function Ar(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yt.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cr(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cr(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cr(e),t))}(e,t)}function Or(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pr(e){return(t,n)=>{let r=!1;for(const a of Cr(e)){const e=Fr(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Fr(e,t,n){const r=e.field.isKeyField()?Yt.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?On(r,a):wt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}class Vr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dn(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return fn(this.inner)}size(){return this.innerSize}}const zr=new mn(Yt.comparator);function Hr(){return zr}const Ur=new mn(Yt.comparator);function Br(){let e=Ur;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function Wr(e){let t=Ur;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function jr(){return qr()}function Yr(){return qr()}function qr(){return new Vr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Kr=new mn(Yt.comparator),Gr=new gn(Yt.comparator);function Qr(){let e=Gr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Xr=new gn(Ft);function $r(){return Xr}function Jr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sn(t)?"-0":t}}function Zr(e){return{integerValue:""+e}}function ea(e,t){return on(t)?Zr(t):Jr(e,t)}class ta{constructor(){this._=void 0}}function na(e,t,n){return e instanceof ia?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&kn(t)&&(t=Cn(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sa?oa(e,t):e instanceof la?ca(e,t):function(e,t){const n=aa(e,t),r=ha(n)+ha(e.Pe);return zn(n)&&zn(e.Pe)?Zr(r):Jr(e.serializer,r)}(e,t)}function ra(e,t,n){return e instanceof sa?oa(e,t):e instanceof la?ca(e,t):n}function aa(e,t){return e instanceof ua?function(e){return zn(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ia extends ta{}class sa extends ta{constructor(e){super(),this.elements=e}}function oa(e,t){const n=da(t);for(const r of e.elements)n.some((e=>Rn(e,r)))||n.push(r);return{arrayValue:{values:n}}}class la extends ta{constructor(e){super(),this.elements=e}}function ca(e,t){let n=da(t);for(const r of e.elements)n=n.filter((e=>!Rn(e,r)));return{arrayValue:{values:n}}}class ua extends ta{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ha(e){return Sn(e.integerValue||e.doubleValue)}function da(e){return Hn(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fa{constructor(e,t){this.version=e,this.transformResults=t}}class ma{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class va{}function ga(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ca(e.key,ma.none()):new Ea(e.key,e.data,ma.none());{const n=e.data,r=qn.empty();let a=new gn(jt.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new xa(e.key,r,new yn(a.toArray()),ma.none())}}function _a(e,t,n){e instanceof Ea?function(e,t,n){const r=e.value.clone(),a=Da(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xa?function(e,t,n){if(!pa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Da(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Sa(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ya(e,t,n,r){return e instanceof Ea?function(e,t,n,r){if(!pa(e.precondition,t))return n;const a=e.value.clone(),i=ka(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof xa?function(e,t,n,r){if(!pa(e.precondition,t))return n;const a=ka(e.fieldTransforms,r,t),i=t.data;return i.setAll(Sa(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return pa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ba(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=aa(r.transform,e||null);null!=a&&(null===n&&(n=qn.empty()),n.set(r.field,a))}return n||null}function wa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vt(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sa&&t instanceof sa||e instanceof la&&t instanceof la?Vt(e.elements,t.elements,Rn):e instanceof ua&&t instanceof ua?Rn(e.Pe,t.Pe):e instanceof ia&&t instanceof ia}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ea extends va{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xa extends va{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Sa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Da(e,t,n){const r=new Map;Et(e.length===n.length);for(let a=0;a<n.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,ra(s,o,n[a]))}return r}function ka(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,na(e,i,t))}return r}class Ca extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ta extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ia{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_a(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ya(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ya(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Yr();return this.mutations.forEach((r=>{const a=e.get(r.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(r.key)?null:s;const o=ga(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ht.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qr())}isEqual(e){return this.batchId===e.batchId&&Vt(this.mutations,e.mutations,((e,t)=>wa(e,t)))&&Vt(this.baseMutations,e.baseMutations,((e,t)=>wa(e,t)))}}class Ma{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Et(e.mutations.length===n.length);let r=Kr;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Ma(e,t,n,r)}}class Na{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class La{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ra,Aa;function Oa(e){switch(e){default:return wt();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}function Pa(e){if(void 0===e)return _t("GRPC error has no .code"),St.UNKNOWN;switch(e){case Ra.OK:return St.OK;case Ra.CANCELLED:return St.CANCELLED;case Ra.UNKNOWN:return St.UNKNOWN;case Ra.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case Ra.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case Ra.INTERNAL:return St.INTERNAL;case Ra.UNAVAILABLE:return St.UNAVAILABLE;case Ra.UNAUTHENTICATED:return St.UNAUTHENTICATED;case Ra.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case Ra.NOT_FOUND:return St.NOT_FOUND;case Ra.ALREADY_EXISTS:return St.ALREADY_EXISTS;case Ra.PERMISSION_DENIED:return St.PERMISSION_DENIED;case Ra.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case Ra.ABORTED:return St.ABORTED;case Ra.OUT_OF_RANGE:return St.OUT_OF_RANGE;case Ra.UNIMPLEMENTED:return St.UNIMPLEMENTED;case Ra.DATA_LOSS:return St.DATA_LOSS;default:return wt()}}(Aa=Ra||(Ra={}))[Aa.OK=0]="OK",Aa[Aa.CANCELLED=1]="CANCELLED",Aa[Aa.UNKNOWN=2]="UNKNOWN",Aa[Aa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Aa[Aa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Aa[Aa.NOT_FOUND=5]="NOT_FOUND",Aa[Aa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Aa[Aa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Aa[Aa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Aa[Aa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Aa[Aa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Aa[Aa.ABORTED=10]="ABORTED",Aa[Aa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Aa[Aa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Aa[Aa.INTERNAL=13]="INTERNAL",Aa[Aa.UNAVAILABLE=14]="UNAVAILABLE",Aa[Aa.DATA_LOSS=15]="DATA_LOSS";let Fa=null;function Va(){return new TextEncoder}const za=new $e([4294967295,4294967295],0);function Ha(e){const t=Va().encode(e),n=new Je;return n.update(t),new Uint8Array(n.digest())}function Ua(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new $e([n,r],0),new $e([a,i],0)]}class Ba{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wa("Invalid padding: ".concat(t));if(n<0)throw new Wa("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Wa("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Wa("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=$e.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply($e.fromNumber(n)));return 1===r.compare(za)&&(r=new $e([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Ha(e),[n,r]=Ua(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new Ba(a,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ie)return;const t=Ha(e),[n,r]=Ua(t);for(let a=0;a<this.hashCount;a++){const e=this.Ee(n,r,a);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ja{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ja(Ht.min(),r,new mn(Ft),Hr(),Qr())}}class Ya{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ya(n,t,Qr(),Qr(),Qr())}}class qa{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ka{constructor(e,t){this.targetId=e,this.me=t}}class Ga{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qa{constructor(){this.fe=0,this.ge=Ja(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Qr(),t=Qr(),n=Qr();return this.ge.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wt()}})),new Ya(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=Ja()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xa{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=$a(),this.Qe=new mn(Ft)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:wt()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const a=r.target;if(wr(a))if(0===n){const e=new Yt(a.path);this.Ue(t,e,Gn.newNoDocument(e,Ht.min()))}else Et(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),a=n?this.Xe(n,e,r):1;if(0!==a){this.je(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Fa||Fa.et(function(e,t,n,r,a){var i,s,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===a,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,a))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,s;try{i=Dn(n).toUint8Array()}catch(e){if(e instanceof bn)return yt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ba(i,r,a)}catch(e){return yt(e instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.Le.tt(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const a=this.Je(r);if(a){if(n.current&&wr(a.target)){const t=new Yt(a.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Gn.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Qr();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ja(e,t,this.Qe,this.ke,n);return this.ke=Hr(),this.qe=$a(),this.Qe=new mn(Ft),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qa,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new gn(Ft),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qa),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $a(){return new mn(Yt.comparator)}function Ja(){return new mn(Yt.comparator)}const Za={asc:"ASCENDING",desc:"DESCENDING"},ei={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ti={and:"AND",or:"OR"};class ni{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ri(e,t){return e.useProto3Json||an(t)?t:{value:t}}function ai(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ii(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function si(e,t){return ai(e,t.toTimestamp())}function oi(e){return Et(!!e),Ht.fromTimestamp(function(e){const t=xn(e);return new zt(t.seconds,t.nanos)}(e))}function li(e,t){return ci(e,t).canonicalString()}function ci(e,t){const n=function(e){return new Bt(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ui(e){const t=Bt.fromString(e);return Et(Mi(t)),t}function hi(e,t){return li(e.databaseId,t.path)}function di(e,t){const n=ui(t);if(n.get(1)!==e.databaseId.projectId)throw new Dt(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dt(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yt(vi(n))}function fi(e,t){return li(e.databaseId,t)}function mi(e){const t=ui(e);return 4===t.length?Bt.emptyPath():vi(t)}function pi(e){return new Bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vi(e){return Et(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gi(e,t,n){return{name:hi(e,t),fields:n.value.mapValue.fields}}function _i(e,t){let n;if(t instanceof Ea)n={update:gi(e,t.key,t.value)};else if(t instanceof Ca)n={delete:hi(e,t.key)};else if(t instanceof xa)n={update:gi(e,t.key,t.data),updateMask:Ii(t.fieldMask)};else{if(!(t instanceof Ta))return wt();n={verify:hi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ia)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof la)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw wt()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:si(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wt()}(e,t.precondition)),n}function yi(e,t){return{documents:[fi(e,t.path)]}}function bi(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fi(e,a);const i=function(e){if(0!==e.length)return Ti(nr.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ki(e.field),direction:xi(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ri(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:a}}function wi(e){let t=mi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Et(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Ei(e);return t instanceof nr&&ar(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Jn(Ci(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,an(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Qn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Qn(n,t)}(n.endAt)),xr(t,a,s,i,o,"F",l,c)}function Ei(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ci(e.unaryFilter.field);return tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ci(e.unaryFilter.field);return tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ci(e.unaryFilter.field);return tr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ci(e.unaryFilter.field);return tr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(e):void 0!==e.fieldFilter?function(e){return tr.create(Ci(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nr.create(e.compositeFilter.filters.map((e=>Ei(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(e):wt()}function xi(e){return Za[e]}function Si(e){return ei[e]}function Di(e){return ti[e]}function ki(e){return{fieldPath:e.canonicalString()}}function Ci(e){return jt.fromServerFormat(e.fieldPath)}function Ti(e){return e instanceof tr?function(e){if("=="===e.op){if(Bn(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NAN"}};if(Un(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bn(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NAN"}};if(Un(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(e.field),op:Si(e.op),value:e.value}}}(e):e instanceof nr?function(e){const t=e.getFilters().map((e=>Ti(e)));return 1===t.length?t[0]:{compositeFilter:{op:Di(e.op),filters:t}}}(e):wt()}function Ii(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Mi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ni{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ht.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ht.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wn.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Li{constructor(e){this.ct=e}}function Ri(e){const t=wi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mr(t,t.limit,"L"):t}class Ai{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Sn(e.integerValue));else if("doubleValue"in e){const n=Sn(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),sn(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=xn(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Dn(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Yn(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):wt()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Yt.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Ai.bt=new Ai;class Oi{constructor(){this._n=new Pi}addToCollectionParentIndex(e,t){return this._n.add(t),en.resolve()}getCollectionParents(e,t){return en.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return en.resolve()}deleteFieldIndex(e,t){return en.resolve()}deleteAllFieldIndexes(e){return en.resolve()}createTargetIndexes(e,t){return en.resolve()}getDocumentsMatchingTarget(e,t){return en.resolve(null)}getIndexType(e,t){return en.resolve(0)}getFieldIndexes(e,t){return en.resolve([])}getNextCollectionGroupToUpdate(e){return en.resolve(null)}getMinOffset(e,t){return en.resolve(Qt.min())}getMinOffsetFromCollectionGroup(e,t){return en.resolve(Qt.min())}updateCollectionGroup(e,t,n){return en.resolve()}updateIndexEntries(e,t){return en.resolve()}}class Pi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gn(Bt.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gn(Bt.comparator)).toArray()}}new Uint8Array(0);class Fi{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class Vi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vi(0)}static Ln(){return new Vi(-1)}}class zi{constructor(){this.changes=new Vr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?en.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hi{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ui{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ya(n.mutation,e,yn.empty(),zt.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qr()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qr();const r=jr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Br();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=jr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qr())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=Hr();const i=qr(),s=qr();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xa)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),ya(s.mutation,t,s.mutation.getFieldMask(),zt.now())):i.set(t.key,yn.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Hi(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=qr();let r=new mn(((e,t)=>e-t)),a=Qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||yn.empty();s=a.applyToLocalView(i,s),n.set(e,s);const o=(r.get(a.batchId)||Qr()).add(e);r=r.insert(a.batchId,o)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Yr();l.forEach((e=>{if(!a.has(e)){const r=ga(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return en.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Yt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):en.resolve(jr());let s=-1,o=a;return i.next((t=>en.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?en.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,Qr()))).next((e=>({batchId:s,changes:Wr(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next((e=>{let t=Br();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=Br();return this.indexManager.getCollectionParents(e,a).next((s=>en.forEach(s,(s=>{const o=function(e,t){return new Er(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gn.newInvalidDocument(r)))}));let n=Br();return e.forEach(((e,r)=>{const i=a.get(e);void 0!==i&&ya(i.mutation,r,yn.empty(),zt.now()),Ar(t,r)&&(n=n.insert(e,r))})),n}))}}class Bi{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return en.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:oi(e.createTime)}}(t)),en.resolve()}getNamedQuery(e,t){return en.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ri(e.bundledQuery),readTime:oi(e.readTime)}}(t)),en.resolve()}}class Wi{constructor(){this.overlays=new mn(Yt.comparator),this.hr=new Map}getOverlay(e,t){return en.resolve(this.overlays.get(t))}getOverlays(e,t){const n=jr();return en.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),en.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),en.resolve()}getOverlaysForCollection(e,t,n){const r=jr(),a=t.length+1,i=new Yt(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return en.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new mn(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=jr(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=jr(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return en.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Na(t,n));let a=this.hr.get(t);void 0===a&&(a=Qr(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}class ji{constructor(){this.Pr=new gn(Yi.Ir),this.Tr=new gn(Yi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Yi(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Yi(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Yt(new Bt([])),n=new Yi(t,e),r=new Yi(t,e+1),a=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),a.push(e.key)})),a}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Yt(new Bt([])),n=new Yi(t,e),r=new Yi(t,e+1);let a=Qr();return this.Tr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new Yi(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yi{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Yt.comparator(e.key,t.key)||Ft(e.pr,t.pr)}static Er(e,t){return Ft(e.pr,t.pr)||Yt.comparator(e.key,t.key)}}class qi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new gn(Yi.Ir)}checkEmpty(e){return en.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ia(a,t,n,r);this.mutationQueue.push(i);for(const s of r)this.wr=this.wr.add(new Yi(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return en.resolve(i)}lookupMutationBatch(e,t){return en.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),a=r<0?0:r;return en.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return en.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return en.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yi(t,0),r=new Yi(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);a.push(t)})),en.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gn(Ft);return t.forEach((e=>{const t=new Yi(e,0),r=new Yi(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),en.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;Yt.isDocumentKey(a)||(a=a.child(""));const i=new Yi(new Yt(a),0);let s=new gn(Ft);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),i),en.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Et(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return en.forEach(t.mutations,(r=>{const a=new Yi(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Yi(t,0),r=this.wr.firstAfterOrEqual(n);return en.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,en.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ki{constructor(e){this.vr=e,this.docs=new mn(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return en.resolve(n?n.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let n=Hr();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gn.newInvalidDocument(e))})),en.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Hr();const i=t.path,s=new Yt(i.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Xt(Gt(s),n)<=0||(r.has(s.key)||Ar(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return en.resolve(a)}getAllFromCollectionGroup(e,t,n,r){wt()}Fr(e,t){return en.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Gi(this)}getSize(e){return en.resolve(this.size)}}class Gi extends zi{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),en.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Qi{constructor(e){this.persistence=e,this.Mr=new Vr((e=>yr(e)),br),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ji,this.targetCount=0,this.Lr=Vi.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),en.resolve()}getLastRemoteSnapshotVersion(e){return en.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return en.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),en.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),en.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Vi(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,en.resolve()}updateTargetData(e,t){return this.qn(t),en.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,en.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Mr.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),en.waitFor(a).next((()=>r))}getTargetCount(e){return en.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return en.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),en.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),en.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),en.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return en.resolve(n)}containsKey(e,t){return en.resolve(this.Nr.containsKey(t))}}class Xi{constructor(e,t){this.Br={},this.overlays={},this.kr=new rn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qi(this),this.indexManager=new Oi,this.remoteDocumentCache=function(e){return new Ki(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Li(t),this.$r=new Bi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new qi(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){gt("MemoryPersistence","Starting transaction:",e);const r=new $i(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return en.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class $i extends Jt{constructor(e){super(),this.currentSequenceNumber=e}}class Ji{constructor(e){this.persistence=e,this.zr=new ji,this.jr=null}static Hr(e){return new Ji(e)}get Jr(){if(this.jr)return this.jr;throw wt()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),en.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),en.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),en.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return en.forEach(this.Jr,(n=>{const r=Yt.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ht.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return en.or([()=>en.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Zi{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Qr(),r=Qr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Zi(e,t.fromCache,n,r)}}class es{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ts{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=v()?8:tn(p())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ji(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.Hi(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new es;return this.Ji(e,t,n).next((r=>{if(a.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>a.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(vt()<=I.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Rr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),en.resolve()):(vt()<=I.DEBUG&&gt("QueryEngine","Query:",Rr(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(vt()<=I.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Rr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):en.resolve())}ji(e,t){if(Dr(t))return en.resolve(null);let n=Tr(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Mr(t,null,"F"),n=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=Qr(...r);return this.zi.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.Zi(t,r);return this.Xi(t,i,a,n.readTime)?this.ji(e,Mr(t,null,"F")):this.es(e,i,t,n)}))))})))))}Hi(e,t,n,r){return Dr(t)||r.isEqual(Ht.min())?en.resolve(null):this.zi.getDocuments(e,n).next((a=>{const i=this.Zi(t,a);return this.Xi(t,i,n,r)?en.resolve(null):(vt()<=I.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rr(t)),this.es(e,i,t,Kt(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new gn(Pr(e));return t.forEach(((t,r)=>{Ar(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ji(e,t,n){return vt()<=I.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Rr(t)),this.zi.getDocumentsMatchingQuery(e,t,Qt.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ns{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new mn(Ft),this.rs=new Vr((e=>yr(e)),br),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ui(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function rs(e,t,n,r){return new ns(e,t,n,r)}async function as(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let s=Qr();for(const e of r){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function is(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function ss(e,t,n){let r=Qr(),a=Qr();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Hr();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Ht.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):gt("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{cs:r,ls:a}}))}function os(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ls(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((a=>a?(r=a,en.resolve(r)):n.Qr.allocateTargetId(e).next((a=>(r=new Ni(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function cs(e,t,n){const r=xt(e),a=r.ns.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!nn(e))throw e;gt("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(a.target)}function us(e,t,n){const r=xt(e);let a=Ht.min(),i=Qr();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=xt(e),a=r.rs.get(n);return void 0!==a?en.resolve(r.ns.get(a)):r.Qr.getTargetData(t,n)}(r,e,Tr(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?a:Ht.min(),n?i:Qr()))).next((e=>(hs(r,Or(t),e),{documents:e,hs:i})))))}function hs(e,t,n){let r=e.ss.get(t)||Ht.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class ds{constructor(){this.activeTargetIds=$r()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fs{constructor(){this.no=new ds,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ds,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ms{io(e){}shutdown(){}}class ps{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vs=null;function gs(){return null===vs?vs=268435456+Math.round(2147483648*Math.random()):vs++,"0x"+vs.toString(16)}const _s={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ys{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const bs="WebChannelConnection";class ws extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,a){const i=gs(),s=this.vo(e,t.toUriEncodedString());gt("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const o={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(o,r,a),this.Mo(e,s,o,n).then((t=>(gt("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw yt("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}xo(e,t,n,r,a,i){return this.Co(e,t,n,r,a)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+mt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=_s[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const a=gs();return new Promise(((i,s)=>{const o=new tt;o.setWithCredentials(!0),o.listenOnce(at.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case it.NO_ERROR:const t=o.getResponseJson();gt(bs,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case it.TIMEOUT:gt(bs,"RPC '".concat(e,"' ").concat(a," timed out")),s(new Dt(St.DEADLINE_EXCEEDED,"Request time out"));break;case it.HTTP_ERROR:const n=o.getStatus();if(gt(bs,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(t)>=0?t:St.UNKNOWN}(t.status);s(new Dt(e,t.message))}else s(new Dt(St.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Dt(St.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{gt(bs,"RPC '".concat(e,"' ").concat(a," completed."))}}));const l=JSON.stringify(r);gt(bs,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=gs(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ct(),s=lt(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new nt({})),this.Fo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");gt(bs,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);let h=!1,d=!1;const f=new ys({lo:t=>{d?gt(bs,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(gt(bs,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),gt(bs,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,rt.EventType.OPEN,(()=>{d||(gt(bs,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),m(u,rt.EventType.CLOSE,(()=>{d||(d=!0,gt(bs,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),m(u,rt.EventType.ERROR,(t=>{d||(d=!0,yt(bs,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new Dt(St.UNAVAILABLE,"The operation could not be completed")))})),m(u,rt.EventType.MESSAGE,(t=>{var n;if(!d){const a=t.data[0];Et(!!a);const i=a,s=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){gt(bs,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ra[e];if(void 0!==t)return Pa(t)}(t),a=s.message;void 0===n&&(n=St.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),d=!0,f.po(new Dt(n,a)),u.close()}else gt(bs,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.yo(a)}})),m(s,ot.STAT_EVENT,(t=>{t.stat===st.PROXY?gt(bs,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===st.NOPROXY&&gt(bs,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Es(){return"undefined"!=typeof document?document:null}function xs(e){return new ni(e,!0)}class Ss{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=a,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&gt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Ds{constructor(e,t,n,r,a,i,s,o){this.oi=e,this.Go=n,this.zo=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ss(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===St.RESOURCE_EXHAUSTED?(_t(t.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===St.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new Dt(St.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return gt("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ks extends Ds{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Et(void 0===t||"string"==typeof t),wn.fromBase64String(t||"")):(Et(void 0===t||t instanceof Buffer||t instanceof Uint8Array),wn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?St.UNKNOWN:Pa(e.code);return new Dt(t,e.message||"")}(s);n=new Ga(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=di(e,r.document.name),i=oi(r.document.updateTime),s=r.document.createTime?oi(r.document.createTime):Ht.min(),o=new qn({mapValue:{fields:r.document.fields}}),l=Gn.newFoundDocument(a,i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qa(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=di(e,r.document),i=r.readTime?oi(r.readTime):Ht.min(),s=Gn.newNoDocument(a,i),o=r.removedTargetIds||[];n=new qa([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=di(e,r.document),i=r.removedTargetIds||[];n=new qa([],i,a,null)}else{if(!("filter"in t))return wt();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new La(r,a),s=e.targetId;n=new Ka(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ht.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ht.min():t.readTime?oi(t.readTime):Ht.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=pi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wr(r)?{documents:yi(e,r)}:{query:bi(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ii(e,t.resumeToken);const r=ri(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ht.min())>0){n.readTime=ai(e,t.snapshotVersion.toTimestamp());const r=ri(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=pi(this.serializer),t.removeTarget=e,this.i_(t)}}class Cs extends Ds{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(Et(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?oi(e.updateTime):oi(t);return n.isEqual(Ht.min())&&(n=oi(t)),new fa(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=oi(e.commitTime);return this.listener.A_(n,t)}return Et(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=pi(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>_i(this.serializer,e)))};this.i_(t)}}class Ts extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Dt(St.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,s]=a;return this.connection.Co(e,ci(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dt(St.UNKNOWN,e.toString())}))}xo(e,t,n,r,a){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.xo(e,ci(t,n),r,s,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dt(St.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class Is{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(_t(t),this.y_=!1):gt("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ms{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=a,this.O_.io((e=>{n.enqueueAndForget((async()=>{zs(this)&&(gt("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xt(e);t.M_.add(4),await Ls(t),t.N_.set("Unknown"),t.M_.delete(4),await Ns(t)}(this))}))})),this.N_=new Is(n,r)}}async function Ns(e){if(zs(e))for(const t of e.x_)await t(!0)}async function Ls(e){for(const t of e.x_)await t(!1)}function Rs(e,t){const n=xt(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Vs(n)?Fs(n):ao(n).Xo()&&Os(n,t))}function As(e,t){const n=xt(e),r=ao(n);n.F_.delete(t),r.Xo()&&Ps(n,t),0===n.F_.size&&(r.Xo()?r.n_():zs(n)&&n.N_.set("Unknown"))}function Os(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(e).P_(t)}function Ps(e,t){e.L_.xe(t),ao(e).I_(t)}function Fs(e){e.L_=new Xa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ao(e).start(),e.N_.w_()}function Vs(e){return zs(e)&&!ao(e).Zo()&&e.F_.size>0}function zs(e){return 0===xt(e).M_.size}function Hs(e){e.L_=void 0}async function Us(e){e.N_.set("Online")}async function Bs(e){e.F_.forEach(((t,n)=>{Os(e,t)}))}async function Ws(e,t){Hs(e),Vs(e)?(e.N_.D_(t),Fs(e)):e.N_.set("Unknown")}async function js(e,t,n){if(e.N_.set("Online"),t instanceof Ga&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ys(e,n)}else if(t instanceof qa?e.L_.Ke(t):t instanceof Ka?e.L_.He(t):e.L_.We(t),!n.isEqual(Ht.min()))try{const t=await is(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.F_.get(r);a&&e.F_.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(wn.EMPTY_BYTE_STRING,r.snapshotVersion)),Ps(e,t);const a=new Ni(r.target,t,n,r.sequenceNumber);Os(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gt("RemoteStore","Failed to raise snapshot:",t),await Ys(e,t)}}async function Ys(e,t,n){if(!nn(t))throw t;e.M_.add(1),await Ls(e),e.N_.set("Offline"),n||(n=()=>is(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{gt("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Ns(e)}))}function qs(e,t){return t().catch((n=>Ys(e,n,t)))}async function Ks(e){const t=xt(e),n=io(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Gs(t);)try{const e=await os(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Qs(t,e)}catch(e){await Ys(t,e)}Xs(t)&&$s(t)}function Gs(e){return zs(e)&&e.v_.length<10}function Qs(e,t){e.v_.push(t);const n=io(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Xs(e){return zs(e)&&!io(e).Zo()&&e.v_.length>0}function $s(e){io(e).start()}async function Js(e){io(e).V_()}async function Zs(e){const t=io(e);for(const n of e.v_)t.d_(n.mutations)}async function eo(e,t,n){const r=e.v_.shift(),a=Ma.from(r,t,n);await qs(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Ks(e)}async function to(e,t){t&&io(e).E_&&await async function(e,t){if(function(e){return Oa(e)&&e!==St.ABORTED}(t.code)){const n=e.v_.shift();io(e).t_(),await qs(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ks(e)}}(e,t),Xs(e)&&$s(e)}async function no(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.M_.add(3),await Ls(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Ns(n)}async function ro(e,t){const n=xt(e);t?(n.M_.delete(2),await Ns(n)):t||(n.M_.add(2),await Ls(n),n.N_.set("Unknown"))}function ao(e){return e.B_||(e.B_=function(e,t,n){const r=xt(e);return r.f_(),new ks(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Us.bind(null,e),To:Bs.bind(null,e),Ao:Ws.bind(null,e),h_:js.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Vs(e)?Fs(e):e.N_.set("Unknown")):(await e.B_.stop(),Hs(e))}))),e.B_}function io(e){return e.k_||(e.k_=function(e,t,n){const r=xt(e);return r.f_(),new Cs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:Js.bind(null,e),Ao:to.bind(null,e),R_:Zs.bind(null,e),A_:eo.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Ks(e)):(await e.k_.stop(),e.v_.length>0&&(gt("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class so{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,s=new so(e,t,i,r,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oo(e,t){if(_t("AsyncQueue","".concat(t,": ").concat(e)),nn(e))return new Dt(St.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Yt.comparator(t.key,n.key):(e,t)=>Yt.comparator(e.key,t.key),this.keyedMap=Br(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lo))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class co{constructor(){this.q_=new mn(Yt.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):wt():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class uo{constructor(e,t,n,r,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new uo(e,t,lo.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ho{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class fo{constructor(){this.queries=new Vr((e=>Lr(e)),Nr),this.onlineState="Unknown",this.z_=new Set}}async function mo(e,t){const n=xt(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.W_()&&t.G_()&&(r=2):(i=new ho,r=t.G_()?0:1);try{switch(r){case 0:i.K_=await n.onListen(a,!0);break;case 1:i.K_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=oo(e,"Initialization of query '".concat(Rr(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.U_.push(t),t.j_(n.onlineState),i.K_&&t.H_(i.K_)&&_o(n)}async function po(e,t){const n=xt(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.U_.indexOf(t);e>=0&&(i.U_.splice(e,1),0===i.U_.length?a=t.G_()?0:1:!i.W_()&&t.G_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vo(e,t){const n=xt(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(a)&&(r=!0);t.K_=a}}r&&_o(n)}function go(e,t,n){const r=xt(e),a=r.queries.get(t);if(a)for(const i of a.U_)i.onError(n);r.queries.delete(t)}function _o(e){e.z_.forEach((e=>{e.next()}))}var yo,bo;(bo=yo||(yo={})).J_="default",bo.Cache="cache";class wo{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new uo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==yo.Cache}}class Eo{constructor(e){this.key=e}}class xo{constructor(e){this.key=e}}class So{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Qr(),this.mutatedKeys=Qr(),this.Ia=Pr(e),this.Ta=new lo(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new co,r=t?t.Ta:this.Ta;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ar(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Ia(u,o)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(i=i.add(u),a=d?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ta:i,Aa:n,Xi:s,mutatedKeys:a}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const i=e.Aa.Q_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],o=0===this.Pa.size&&this.current&&!r?1:0,l=o!==this.ha;return this.ha=o,0!==i.length||l?{snapshot:new uo(this.query,e.Ta,a,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new co,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Qr(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new xo(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new Eo(n))})),t}pa(e){this.la=e.hs,this.Pa=Qr();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return uo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Do{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ko{constructor(e){this.key=e,this.wa=!1}}class Co{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new Vr((e=>Lr(e)),Nr),this.Da=new Map,this.Ca=new Set,this.va=new mn(Yt.comparator),this.Fa=new Map,this.Ma=new ji,this.xa={},this.Oa=new Map,this.Na=Vi.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function To(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Qo(e);let a;const i=r.ba.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.ya()):a=await Mo(r,t,n,!0),a}async function Io(e,t){const n=Qo(e);await Mo(n,t,!0,!1)}async function Mo(e,t,n,r){const a=await ls(e.localStore,Tr(t)),i=a.targetId,s=n?e.sharedClientState.addLocalQueryTarget(i):"not-current";let o;return r&&(o=await No(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&n&&Rs(e.remoteStore,a),o}async function No(e,t,n,r,a){e.Ba=(t,n,r)=>async function(e,t,n,r){let a=t.view.da(n);a.Xi&&(a=await us(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,a)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return Wo(e,t.targetId,o.fa),o.snapshot}(e,t,n,r);const i=await us(e.localStore,t,!0),s=new So(t,i.hs),o=s.da(i.documents),l=Ya.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);Wo(e,n,c.fa);const u=new Do(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function Lo(e,t,n){const r=xt(e),a=r.ba.get(t),i=r.Da.get(a.targetId);if(i.length>1)return r.Da.set(a.targetId,i.filter((e=>!Nr(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await cs(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&As(r.remoteStore,a.targetId),Uo(r,a.targetId)})).catch(Zt)):(Uo(r,a.targetId),await cs(r.localStore,a.targetId,!0))}async function Ro(e,t){const n=xt(e),r=n.ba.get(t),a=n.Da.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),As(n.remoteStore,r.targetId))}async function Ao(e,t){const n=xt(e);try{const e=await function(e,t){const n=xt(e),r=t.snapshotVersion;let a=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.os.newChangeBuffer({trackRemovals:!0});a=n.ns;const s=[];t.targetChanges.forEach(((i,o)=>{const l=a.get(o);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(wn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&s.push(n.Qr.updateTargetData(e,c))}));let o=Hr(),l=Qr();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(ss(e,i,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Ht.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return en.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Et(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Et(r.wa):e.removedDocuments.size>0&&(Et(r.wa),r.wa=!1))})),await qo(n,e,t)}catch(e){await Zt(e)}}function Oo(e,t,n){const r=xt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const a=r.view.j_(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=xt(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.U_)a.j_(t)&&(r=!0)})),r&&_o(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Po(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Fa.get(t),i=a&&a.key;if(i){let e=new mn(Yt.comparator);e=e.insert(i,Gn.newNoDocument(i,Ht.min()));const n=Qr().add(i),a=new ja(Ht.min(),new Map,new mn(Ft),e,n);await Ao(r,a),r.va=r.va.remove(i),r.Fa.delete(t),Yo(r)}else await cs(r.localStore,t,!1).then((()=>Uo(r,t,n))).catch(Zt)}async function Fo(e,t){const n=xt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let s=en.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Et(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ho(n,r,null),zo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qo(n,e)}catch(e){await Zt(e)}}async function Vo(e,t,n){const r=xt(e);try{const e=await function(e,t){const n=xt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Et(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ho(r,t,n),zo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qo(r,e)}catch(n){await Zt(n)}}function zo(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Ho(e,t,n){const r=xt(e);let a=r.xa[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.xa[r.currentUser.toKey()]=a}}function Uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Bo(e,t)}))}function Bo(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(As(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Yo(e))}function Wo(e,t,n){for(const r of n)r instanceof Eo?(e.Ma.addReference(r.key,t),jo(e,r)):r instanceof xo?(gt("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Bo(e,r.key)):wt()}function jo(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(gt("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Yo(e))}function Yo(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Yt(Bt.fromString(t)),r=e.Na.next();e.Fa.set(r,new ko(n)),e.va=e.va.insert(n,r),Rs(e.remoteStore,new Ni(Tr(Sr(n.path)),r,"TargetPurposeLimboResolution",rn.oe))}}async function qo(e,t,n){const r=xt(e),a=[],i=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,o)=>{s.push(r.Ba(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){a.push(e);const t=Zi.Ki(o.targetId,e);i.push(t)}})))})),await Promise.all(s),r.Sa.h_(a),await async function(e,t){const n=xt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>en.forEach(t,(t=>en.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>en.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!nn(e))throw e;gt("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,a)}}}(r.localStore,i))}async function Ko(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){gt("SyncEngine","User change. New user:",t.toKey());const e=await as(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Dt(St.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await qo(n,e.us)}}function Go(e,t){const n=xt(e),r=n.Fa.get(t);if(r&&r.wa)return Qr().add(r.key);{let e=Qr();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function Qo(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ao.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Go.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Po.bind(null,t),t.Sa.h_=vo.bind(null,t.eventManager),t.Sa.ka=go.bind(null,t.eventManager),t}function Xo(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vo.bind(null,t),t}class $o{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xs(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rs(this.persistence,new ts,e.initialUser,this.serializer)}createPersistence(e){return new Xi(Ji.Hr,this.serializer)}createSharedClientState(e){return new fs}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Oo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ko.bind(null,this.syncEngine),await ro(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fo}createDatastore(e){const t=xs(e.databaseInfo.databaseId),n=function(e){return new ws(e)}(e.databaseInfo);return function(e,t,n,r){return new Ts(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new Ms(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>Oo(this.syncEngine,e,0)),ps.D()?new ps:new ms)}createSyncEngine(e,t){return function(e,t,n,r,a,i,s){const o=new Co(e,t,n,r,a,i);return s&&(o.La=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=xt(e);gt("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Ls(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Zo{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_t("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class el{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ft.UNAUTHENTICATED,this.clientId=Pt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{gt("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(gt("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=oo(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function tl(e,t){e.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await as(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function nl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await al(e);gt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>no(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>no(t.remoteStore,n))),e._onlineComponents=t}function rl(e){return"FirebaseError"===e.name?e.code===St.FAILED_PRECONDITION||e.code===St.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function al(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{await tl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!rl(n))throw n;yt("Error using user provided cache. Falling back to memory cache: "+n),await tl(e,new $o)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),await tl(e,new $o);return e._offlineComponents}async function il(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),await nl(e,e._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),await nl(e,new Jo))),e._onlineComponents}function sl(e){return il(e).then((e=>e.syncEngine))}async function ol(e){const t=await il(e),n=t.eventManager;return n.onListen=To.bind(null,t.syncEngine),n.onUnlisten=Lo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Io.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ro.bind(null,t.syncEngine),n}function ll(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new kt;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new Zo({next:i=>{t.enqueueAndForget((()=>po(e,s)));const o=i.docs.has(n);!o&&i.fromCache?a.reject(new Dt(St.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?a.reject(new Dt(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:e=>a.reject(e)}),s=new wo(Sr(n.path),i,{includeMetadataChanges:!0,ra:!0});return mo(e,s)}(await ol(e),e.asyncQueue,t,n,r))),r.promise}function cl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new kt;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new Zo({next:n=>{t.enqueueAndForget((()=>po(e,s))),n.fromCache&&"server"===r.source?a.reject(new Dt(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),s=new wo(n,i,{includeMetadataChanges:!0,ra:!0});return mo(e,s)}(await ol(e),e.asyncQueue,t,n,r))),r.promise}function ul(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hl=new Map;function dl(e,t,n){if(!n)throw new Dt(St.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fl(e){if(!Yt.isDocumentKey(e))throw new Dt(St.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ml(e){if(Yt.isDocumentKey(e))throw new Dt(St.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":wt()}function vl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dt(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pl(e);throw new Dt(St.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class gl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Dt(St.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ul(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Dt(St.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Dt(St.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Dt(St.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _l{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tt;switch(e.type){case"firstParty":return new Lt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Dt(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hl.get(e);t&&(gt("ComponentProvider","Removing Datastore"),hl.delete(e),t.terminate())}(this),Promise.resolve()}}function yl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const i=(e=vl(e,_l))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==s&&yt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ft.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Dt(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ft(i)}e._authCredentials=new It(new Ct(t,n))}}class bl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class wl{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wl(this.firestore,e,this._key)}}class El extends bl{constructor(e,t,n){super(e,t,Sr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wl(this.firestore,null,new Yt(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function xl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=x(e),dl("collection","path",t),e instanceof _l){const n=Bt.fromString(t,...r);return ml(n),new El(e,null,n)}{if(!(e instanceof wl||e instanceof El))throw new Dt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bt.fromString(t,...r));return ml(n),new El(e.firestore,null,n)}}function Sl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=x(e),1===arguments.length&&(t=Pt.newId()),dl("doc","path",t),e instanceof _l){const n=Bt.fromString(t,...r);return fl(n),new wl(e,null,new Yt(n))}{if(!(e instanceof wl||e instanceof El))throw new Dt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bt.fromString(t,...r));return fl(n),new wl(e.firestore,e instanceof El?e.converter:null,new Yt(n))}}class Dl{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ss(this,"async_queue_retry"),this.hu=()=>{const e=Es();e&&gt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=Es();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Es();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new kt;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!nn(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _t("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=so.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&wt()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class kl extends _l{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Dl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tl(this),this._firestoreClient.terminate()}}function Cl(e){return e._firestoreClient||Tl(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tl(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new In(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ul(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._firestoreClient=new el(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(wn.fromBase64String(e))}catch(e){throw new Dt(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Il(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ml{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Dt(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nl{constructor(e){this._methodName=e}}class Ll{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dt(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dt(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const Rl=/^__.*__$/;class Al{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)}}class Ol{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Fl{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.mu(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Fl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return $l(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Pl(this.fu)&&Rl.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Vl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xs(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fl({fu:e,methodName:t,vu:n,path:jt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zl(e){const t=e._freezeSettings(),n=xs(e._databaseId);return new Vl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hl(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(i.merge||i.mergeFields?2:0,t,n,a);Kl("Data must be an object, but it was:",s,r);const o=Yl(r,s);let l,c;if(i.merge)l=new yn(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=Gl(t,r,n);if(!s.contains(a))throw new Dt(St.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Jl(e,a)||e.push(a)}l=new yn(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Al(new qn(o),l,c)}class Ul extends Nl{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ul}}function Bl(e,t,n,r){const a=e.Fu(1,t,n);Kl("Data must be an object, but it was:",a,r);const i=[],s=qn.empty();dn(r,((e,r)=>{const o=Xl(t,e,n);r=x(r);const l=a.Su(o);if(r instanceof Ul)i.push(o);else{const e=jl(r,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new yn(i);return new Ol(s,o,a.fieldTransforms)}function Wl(e,t,n,r,a,i){const s=e.Fu(1,t,n),o=[Gl(t,r,n)],l=[a];if(i.length%2!=0)throw new Dt(St.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)o.push(Gl(t,i[d])),l.push(i[d+1]);const c=[],u=qn.empty();for(let d=o.length-1;d>=0;--d)if(!Jl(c,o[d])){const e=o[d];let t=l[d];t=x(t);const n=s.Su(e);if(t instanceof Ul)c.push(e);else{const r=jl(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new yn(c);return new Ol(u,h,s.fieldTransforms)}function jl(e,t){if(ql(e=x(e)))return Kl("Unsupported field value:",t,e),Yl(e,t);if(e instanceof Nl)return function(e,t){if(!Pl(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=jl(a,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=x(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ea(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=zt.fromDate(e);return{timestampValue:ai(t.serializer,n)}}if(e instanceof zt){const n=new zt(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ai(t.serializer,n)}}if(e instanceof Ll)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Il)return{bytesValue:ii(t.serializer,e._byteString)};if(e instanceof wl){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:li(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(pl(e)))}(e,t)}function Yl(e,t){const n={};return fn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dn(e,((e,r)=>{const a=jl(r,t.pu(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function ql(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zt||e instanceof Ll||e instanceof Il||e instanceof wl||e instanceof Nl)}function Kl(e,t,n){if(!ql(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=pl(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Gl(e,t,n){if((t=x(t))instanceof Ml)return t._internalPath;if("string"==typeof t)return Xl(e,t);throw $l("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ql=new RegExp("[~\\*/\\[\\]]");function Xl(e,t,n){if(t.search(Ql)>=0)throw $l("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ml(...t.split("."))._internalPath}catch(r){throw $l("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $l(e,t,n,r,a){const i=r&&!r.isEmpty(),s=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(a)),l+=")"),new Dt(St.INVALID_ARGUMENT,o+e+l)}function Jl(e,t){return e.some((e=>e.isEqual(t)))}class Zl{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ec(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ec extends Zl{data(){return super.data()}}function tc(e,t){return"string"==typeof t?Xl(e,t):t instanceof Ml?t._internalPath:t._delegate._internalPath}function nc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dt(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ln(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dn(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Ll(Sn(e.latitude),Sn(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cn(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tn(e));default:return null}}convertTimestamp(e){const t=xn(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bt.fromString(e);Et(Mi(n));const r=new Mn(n.get(1),n.get(3)),a=new Yt(n.popFirst(5));return r.isEqual(t)||_t("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function ac(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends Zl{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class oc extends sc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ic(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new oc(this._firestore,this._userDataWriter,n.key,n,new ic(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dt(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new oc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ic(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new oc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ic(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:cc(t.type),doc:r,oldIndex:a,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function uc(e){e=vl(e,wl);const t=vl(e.firestore,kl);return ll(Cl(t),e._key).then((n=>mc(t,e,n)))}class hc extends rc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wl(this.firestore,null,t)}}function dc(e){e=vl(e,bl);const t=vl(e.firestore,kl),n=Cl(t),r=new hc(t);return nc(e._query),cl(n,e._query).then((n=>new lc(t,r,e,n)))}function fc(e,t){return function(e,t){const n=new kt;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Xo(e);try{const e=await function(e,t){const n=xt(e),r=zt.now(),a=t.reduce(((e,t)=>e.add(t.key)),Qr());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Hr(),l=Qr();return n.os.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((a=>{i=a;const s=[];for(const e of t){const t=ba(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new xa(e.key,t,Kn(t.value.mapValue),ma.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Wr(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new mn(Ft)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await qo(r,e.changes),await Ks(r.remoteStore)}catch(e){const t=oo(e,"Failed to persist write");n.reject(t)}}(await sl(e),t,n))),n.promise}(Cl(e),t)}function mc(e,t,n){const r=n.docs.get(t._key),a=new hc(e);return new sc(e,a,t._key,r,new ic(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){mt=e}("10.12.2"),Re(new S("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),s=new kl(new Mt(e.getProvider("auth-internal")),new At(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dt(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mn(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),Ve(dt,"4.6.3",e),Ve(dt,"4.6.3","esm2017")}();const pc=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;const t=Ie.get(e);if(!t&&e===Ce&&f())return Fe();if(!t)throw Oe.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",a=Ae(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=d("firestore");e&&yl(a,...e)}return a}(Fe({apiKey:"AIzaSyDq_qkjwz0SLP0dIFLbohuvrx3O0Q0KeJY",authDomain:"maycalendar-63405.firebaseapp.com",projectId:"maycalendar-63405",storageBucket:"maycalendar-63405.appspot.com",messagingSenderId:"176052940488",appId:"1:176052940488:web:e734d20ae08d1c54803ffd",measurementId:"G-224CTCK58H"}));var vc=n(950),gc={apiKey:"763db181",apiUrl:"https://trial.mobiscroll.com/"},_c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"/></svg>',yc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"/></svg>',bc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"/></svg>',wc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"/></svg>',Ec='<svg xmlns="http://www.w3.org/2000/svg" height="17" viewBox="0 0 17 17" width="17"><path d="M8.5 0a8.5 8.5 0 110 17 8.5 8.5 0 010-17zm3.364 5.005a.7.7 0 00-.99 0l-2.44 2.44-2.439-2.44-.087-.074a.7.7 0 00-.903 1.064l2.44 2.439-2.44 2.44-.074.087a.7.7 0 001.064.903l2.439-2.441 2.44 2.441.087.074a.7.7 0 00.903-1.064l-2.441-2.44 2.441-2.439.074-.087a.7.7 0 00-.074-.903z" fill="currentColor" fill-rule="evenodd"/></svg>',xc=function(e,t){return xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xc(e,t)};function Sc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}xc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Dc=function(){return Dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Dc.apply(this,arguments)};function kc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var Cc,Tc,Ic=function(){function e(){this.nr=0,this.keys=1,this.subscribers={}}return e.prototype.subscribe=function(e){var t=this.keys++;return this.subscribers[t]=e,this.nr++,t},e.prototype.unsubscribe=function(e){this.nr--,delete this.subscribers[e]},e.prototype.next=function(e){for(var t=this.subscribers,n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];t[a]&&t[a](e)}},e}(),Mc=[],Nc=!1,Lc="undefined"!=typeof window,Rc=Lc&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)"),Ac=Lc?navigator.userAgent:"",Oc=Lc?navigator.platform:"",Pc=Lc?navigator.maxTouchPoints:0,Fc=Ac&&Ac.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Vc=Ac&&/Safari/.test(Ac);/Android/i.test(Fc)?(Cc="android",Tc=Ac.match(/Android\s+([\d.]+)/i),Nc=!0,Tc&&(Mc=Tc[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Fc)||/iPhone|iPad|iPod/i.test(Oc)||"MacIntel"===Oc&&Pc>1?(Cc="ios",Tc=Ac.match(/OS\s+([\d_]+)/i),Nc=!0,Tc&&(Mc=Tc[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Fc)?(Cc="wp",Nc=!0):/Windows|MSIE/i.test(Fc)&&(Cc="windows");var zc=+Mc[0],Hc=(Mc[1],{}),Uc={},Bc={},Wc={},jc=new Ic;function Yc(){var e,t="",n="";for(var r in e="android"===Cc?"material":"wp"===Cc||"windows"===Cc?"windows":"ios",Bc){if(Bc[r].baseTheme===e&&!1!==Bc[r].auto&&r!==e+"-dark"){t=r;break}r===e?t=r:n||(n=r)}return t||n}function qc(e,t,n){var r=Bc[t];Bc[e]=Dc({},r,{auto:n,baseTheme:t}),Wc.theme=Yc()}var Kc={clearIcon:Ec,labelStyle:"inline"};Bc.ios={Calendar:{nextIconH:bc,nextIconV:yc,prevIconH:_c,prevIconV:wc},Checkbox:{position:"end"},Datepicker:{clearIcon:Ec,display:"bottom"},Dropdown:Kc,Eventcalendar:{chevronIconDown:yc,nextIconH:bc,nextIconV:yc,prevIconH:_c,prevIconV:wc},Input:Kc,Radio:{position:"end"},Scroller:{display:"bottom",itemHeight:34,minWheelWidth:55,rows:5,scroll3d:!0},SegmentedGroup:{drag:!0},Select:{clearIcon:Ec},Textarea:Kc},qc("ios-dark","ios");var Gc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Qc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Xc='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M23.12 11.12L21 9l-9 9 9 9 2.12-2.12L16.24 18z"/></svg>',$c='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M15 9l-2.12 2.12L19.76 18l-6.88 6.88L15 27l9-9z"/></svg>',Jc='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>',Zc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',eu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',tu={clearIcon:Jc,dropdownIcon:Gc,inputStyle:"box",labelStyle:"floating",notch:!0,ripple:!0};Bc.material={Button:{ripple:!0},Calendar:{downIcon:Gc,nextIconH:$c,nextIconV:Zc,prevIconH:Xc,prevIconV:eu,upIcon:Qc},Datepicker:{clearIcon:Jc,display:"center"},Dropdown:tu,Eventcalendar:{chevronIconDown:Zc,colorEventList:!0,downIcon:Gc,nextIconH:$c,nextIconV:Zc,prevIconH:Xc,prevIconV:eu,upIcon:Qc},Input:tu,ListItem:{ripple:!0},Scroller:{display:"center",rows:3},Select:{clearIcon:Jc,rows:3},Textarea:tu},qc("material-dark","material");var nu='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19.03 4.28l-11 11-.686.72.687.72 11 11 1.44-1.44L10.187 16l10.28-10.28-1.437-1.44z"/></svg>',ru='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M12.97 4.28l-1.44 1.44L21.814 16 11.53 26.28l1.44 1.44 11-11 .686-.72-.687-.72-11-11z"/></svg>',au='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M15 4v20.063L8.22 17.28l-1.44 1.44 8.5 8.5.72.686.72-.687 8.5-8.5-1.44-1.44L17 24.063V4h-2z"/></svg>',iu='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M16 4.094l-.72.687-8.5 8.5 1.44 1.44L15 7.936V28h2V7.937l6.78 6.782 1.44-1.44-8.5-8.5-.72-.686z"/></svg>',su='<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"><path d="M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"/></svg>',ou={clearIcon:su,inputStyle:"box",labelStyle:"stacked"};Bc.windows={Calendar:{nextIconH:ru,nextIconV:au,prevIconH:nu,prevIconV:iu},Checkbox:{position:"start"},Datepicker:{clearIcon:su,display:"center"},Dropdown:ou,Eventcalendar:{chevronIconDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M4.22 10.78l-1.44 1.44 12.5 12.5.72.686.72-.687 12.5-12.5-1.44-1.44L16 22.564 4.22 10.78z"/></svg>',nextIconH:ru,nextIconV:au,prevIconH:nu,prevIconV:iu},Input:ou,Scroller:{display:"center",itemHeight:44,minWheelWidth:88,rows:6},Select:{clearIcon:su,rows:6},Textarea:ou},qc("windows-dark","windows"),Wc.theme=Yc();var lu=wu(3),cu=wu(4),uu=wu(7);function hu(e,t,n){return Math.max(t,Math.min(e,n))}function du(e,t){return Dc({},e,t)}function fu(e){return Array.isArray(e)}function mu(e){return e-parseFloat(e)>=0}function pu(e){return"number"==typeof e}function vu(e){return"string"==typeof e}function gu(e){return null==e||""===e}function _u(e){return void 0===e}function yu(e){return"object"==typeof e}function bu(e){return null!=e&&""+e!="false"}function wu(e){return Array.apply(0,Array(Math.max(0,e)))}function Eu(e){return void 0!==e?e+(mu(e)?"px":""):""}function xu(){}function Su(e,t){void 0===t&&(t=2);for(var n=e+"";n.length<t;)n="0"+n;return n}function Du(e){return Math.round(e)}function ku(e,t){return Cu(e/t)*t}function Cu(e){return Math.floor(e)}function Tu(e,t){e._cdr?setTimeout(t):t()}function Iu(e,t){return Nu(e,t)}function Mu(e,t){return Nu(e,t,!0)}function Nu(e,t,n){for(var r=e.length,a=0;a<r;a++){var i=e[a];if(t(i,a))return n?a:i}return n?-1:void 0}function Lu(e){var t=[];if(e)for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t.push(e[a])}return t}wu(24);var Ru=new Date(1970,0,1);function Au(e){return!!e._mbsc}function Ou(e,t,n){var r=n||t.dataTimezone||t.displayTimezone,a=t.timezonePlugin;if(r&&a&&Au(e)){var i=e.clone();return i.setTimezone(r),i.toISOString()}return e}var Pu={amText:"am",dateFormat:"MM/DD/YYYY",dateFormatFull:"DDDD, MMMM D, YYYY",dateFormatLong:"D DDD MMM YYYY",dateText:"Date",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["S","M","T","W","T","F","S"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daySuffix:"",dayText:"Day",firstDay:0,fromText:"Start",getDate:Zu,hourText:"Hour",minuteText:"Minute",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthSuffix:"",monthText:"Month",pmText:"pm",quarterText:"Q{count}",secondText:"Second",separator:" ",shortYearCutoff:"+10",timeFormat:"h:mm A",timeText:"Time",toText:"End",todayText:"Today",weekText:"Week {count}",yearSuffix:"",yearText:"Year",getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getYear:function(e){return e.getFullYear()},getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){var t=new Date(+e);t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var n=new Date(t.getFullYear(),0,1);return Math.ceil(((t-n)/864e5+1)/7)}},Fu=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[T\s](\d{2}):?(\d{2})(?::?(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/,Vu=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function zu(e,t,n){var r,a,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(n)for(var s=0,o=Object.keys(i);s<o.length;s++)(a=e[i[r=o[s]]-t])&&(n[r]="tz"===r?a:1)}function Hu(e){return+new Date(1970,0,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())-+Ru}function Uu(e,t,n,r,a){var i=+e,s=+n;return i<(a&&s===+r?+r+1:+r)&&(a&&i===+t?+t+1:+t)>s}function Bu(e,t){var n=rh(e,t);return n.setHours(0,0,0,0),n}function Wu(e,t){var n=rh(e,t);return n.setHours(23,59,59,999),n}function ju(e,t,n,r,a){return(!t&&!a||e.exclusiveEndDates)&&n&&r&&n<r?rh(t?void 0:e,+r-1):r}function Yu(e){return e.getFullYear()+"-"+Su(e.getMonth()+1)+"-"+Su(e.getDate())}function qu(e,t){return Au(e)&&!t?e.createDate(e.getFullYear(),e.getMonth(),e.getDate()):Zu(e.getFullYear(),e.getMonth(),e.getDate())}function Ku(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Gu(e,t){return Du((Ku(t)-Ku(e))/864e5)}function Qu(e,t,n,r){for(var a=-1,i=qu(e);i<=qu(t);i.setDate(i.getDate()+1))fh(i.getDay(),n,r)&&a++;return a}function Xu(e,t,n){var r=e.getFullYear(),a=e.getMonth(),i=e.getDay(),s=void 0===n?t.firstDay:n;return new Date(r,a,s-(s-i>0?7:0)-i+e.getDate())}function $u(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function Ju(e,t,n){return n.getYear(e)===n.getYear(t)&&n.getMonth(e)===n.getMonth(t)}function Zu(e,t,n,r,a,i,s){var o=new Date(e,t,n,r||0,a||0,i||0,s||0);return 23===o.getHours()&&0===(r||0)&&o.setHours(o.getHours()+2),o}function eh(e){return e.getTime}function th(e,t){return rh(e,t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function nh(e){return e?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}function rh(e,t,n,r,a,i,s,o){return null===t?null:t&&(pu(t)||vu(t))&&_u(n)?ah(t,e):e&&e.timezonePlugin?e.timezonePlugin.createDate(e,t,n,r,a,i,s,o):yu(t)?new Date(t):_u(t)?new Date:new Date(t,n||0,r||1,a||0,i||0,s||0,o||0)}function ah(e,t,n,r,a){var i;if(vu(e)&&(e=e.trim()),!e)return null;var s=t&&t.timezonePlugin;if(s&&!a){var o=Au(e)?e:s.parse(e,t);return o.setTimezone(t.displayTimezone),o}if(eh(e))return e;if(e._isAMomentObject)return e.toDate();if(pu(e))return new Date(e);i=Vu.exec(e);var l=t&&t.defaultValue,c=ah((fu(l)?l[0]:l)||new Date),u=c.getFullYear(),h=c.getMonth(),d=c.getDate();return i?(zu(i,2,r),new Date(u,h,d,i[2]?+i[2]:0,i[3]?+i[3]:0,i[4]?+i[4]:0,i[5]?+i[5]:0)):(i=Fu.exec(e))?(zu(i,0,r),new Date(i[1]?+i[1]:u,i[2]?i[2]-1:h,i[3]?+i[3]:d,i[4]?+i[4]:0,i[5]?+i[5]:0,i[6]?+i[6]:0,i[7]?+i[7]:0)):lh(n,e,t)}function ih(e,t,n,r,a){var i=Lc&&window.moment||t.moment,s=t.timezonePlugin&&(t.dataTimezone||t.displayTimezone),o=s?"iso8601":t.returnFormat;if(s&&a)return Ou(e,t);if(e){if("moment"===o&&i)return i(e);if("locale"===o)return oh(n,e,t);if("iso8601"===o)return function(e,t){var n="",r="";return e&&(t.h&&(r+=Su(e.getHours())+":"+Su(e.getMinutes()),t.s&&(r+=":"+Su(e.getSeconds())),t.u&&(r+="."+Su(e.getMilliseconds(),3)),t.tz&&(r+=t.tz)),t.y?(n+=e.getFullYear(),t.m&&(n+="-"+Su(e.getMonth()+1),t.d&&(n+="-"+Su(e.getDate())),t.h&&(n+="T"+r))):t.h&&(n=r)),n}(e,r)}return e}function sh(e,t,n){return oh(e,t,Dc({},Pu,Hc.locale,n))}function oh(e,t,n){var r,a,i="",s=!1,o=function(t){for(var n=0,a=r;a+1<e.length&&e.charAt(a+1)===t;)n++,a++;return n},l=function(e){var t=o(e);return r+=t,t},c=function(e,t,n){var r=""+t;if(l(e))for(;r.length<n;)r="0"+r;return r},u=function(e,t,n,r){return 3===l(e)?r[t]:n[t]};for(r=0;r<e.length;r++)if(s)"'"!==e.charAt(r)||l("'")?i+=e.charAt(r):s=!1;else switch(e.charAt(r)){case"D":i+=o("D")>1?u("D",t.getDay(),n.dayNamesShort,n.dayNames):c("D",n.getDay(t),2);break;case"M":i+=o("M")>1?u("M",n.getMonth(t),n.monthNamesShort,n.monthNames):c("M",n.getMonth(t)+1,2);break;case"Y":a=n.getYear(t),i+=3===l("Y")?a:(a%100<10?"0":"")+a%100;break;case"h":var h=t.getHours();i+=c("h",h>12?h-12:0===h?12:h,2);break;case"H":i+=c("H",t.getHours(),2);break;case"m":i+=c("m",t.getMinutes(),2);break;case"s":i+=c("s",t.getSeconds(),2);break;case"a":i+=t.getHours()>11?n.pmText:n.amText;break;case"A":i+=t.getHours()>11?n.pmText.toUpperCase():n.amText.toUpperCase();break;case"'":l("'")?i+="'":s=!0;break;default:i+=e.charAt(r)}return i}function lh(e,t,n){var r=Dc({},Pu,n),a=ah(r.defaultValue||new Date);if(!t)return a;e||(e=r.dateFormat+r.separator+r.timeFormat);var i,s=r.shortYearCutoff,o=r.getYear(a),l=r.getMonth(a)+1,c=r.getDay(a),u=a.getHours(),h=a.getMinutes(),d=0,f=-1,m=!1,p=0,v=function(t){for(var n=0,r=i;r+1<e.length&&e.charAt(r+1)===t;)n++,r++;return n},g=function(e){var t=v(e);return i+=t,t},_=function(e){var n=g(e),r=new RegExp("^\\d{1,"+(n>=2?4:2)+"}"),a=t.substr(p).match(r);return a?(p+=a[0].length,parseInt(a[0],10)):0},y=function(e,n,r){for(var a=3===g(e)?r:n,i=0;i<a.length;i++)if(t.substr(p,a[i].length).toLowerCase()===a[i].toLowerCase())return p+=a[i].length,i+1;return 0},b=function(){p++};for(i=0;i<e.length;i++)if(m)"'"!==e.charAt(i)||g("'")?b():m=!1;else switch(e.charAt(i)){case"Y":o=_("Y");break;case"M":l=v("M")<2?_("M"):y("M",r.monthNamesShort,r.monthNames);break;case"D":v("D")<2?c=_("D"):y("D",r.dayNamesShort,r.dayNames);break;case"H":u=_("H");break;case"h":u=_("h");break;case"m":h=_("m");break;case"s":d=_("s");break;case"a":f=y("a",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"A":f=y("A",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"'":g("'")?b():m=!0;break;default:b()}if(o<100){var w;w=o<=(vu(s)?(new Date).getFullYear()%100+parseInt(s,10):+s)?0:-100,o+=(new Date).getFullYear()-(new Date).getFullYear()%100+w}u=-1===f?u:f&&u<12?u+12:f||12!==u?u:0;var E=r.getDate(o,l-1,c,u,h,d);return r.getYear(E)!==o||r.getMonth(E)+1!==l||r.getDay(E)!==c?a:E}function ch(e,t,n){if(e===t)return!0;if(fu(e)&&!e.length&&null===t||fu(t)&&!t.length&&null===e)return!0;if(null===e||null===t||void 0===e||void 0===t)return!1;if(vu(e)&&vu(t))return e===t;var r=n&&n.dateFormat;if(fu(e)||fu(t)){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++){var i=e[a],s=t[a];if(!(vu(i)&&vu(s)?i===s:+ah(i,n,r)==+ah(s,n,r)))return!1}return!0}return+ah(e,n,r)==+ah(t,n,r)}function uh(e){return Au(e)?e.clone():new Date(e)}function hh(e,t){var n=uh(e);return n.setDate(n.getDate()+t),n}function dh(e,t,n){var r=n.getYear(e),a=n.getMonth(e)+t,i=n.getMaxDayOfMonth(r,a);return th(n,n.getDate(r,a,Math.min(n.getDay(e),i),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function fh(e,t,n){return t>n?e<=n||e>=t:e>=t&&e<=n}function mh(e,t){var n=6e4*t,r=uh(e).setHours(0,0,0,0),a=r+Math.round((+e-+r)/n)*n;return Au(e)?e.createDate(a):new Date(a)}function ph(e,t,n){return t&&e<t?new Date(t):n&&e>n?new Date(n):e}Lc&&"undefined"==typeof Symbol&&(window.Symbol={toPrimitive:"toPrimitive"});var vh={formatDate:sh,parseDate:lh},gh=Lc?document:void 0,_h=Lc?window:void 0,yh=["Webkit","Moz"],bh=gh&&gh.createElement("div").style,wh=gh&&gh.createElement("canvas"),Eh=wh&&wh.getContext&&wh.getContext("2d",{willReadFrequently:!0}),xh=_h&&_h.CSS,Sh=xh&&xh.supports,Dh={},kh=_h&&_h.requestAnimationFrame||function(e){return setTimeout(e,20)},Ch=_h&&_h.cancelAnimationFrame||function(e){clearTimeout(e)},Th=bh&&void 0!==bh.animationName,Ih="ios"===Cc&&!Vc,Mh=Ih&&_h&&_h.webkit&&_h.webkit.messageHandlers,Nh=bh&&void 0===bh.touchAction||Ih&&!Mh,Lh=function(){if(!bh||void 0!==bh.transform)return"";for(var e=0,t=yh;e<t.length;e++){var n=t[e];if(void 0!==bh[n+"Transform"])return n}return""}(),Rh=Lh?"-"+Lh.toLowerCase()+"-":"",Ah=Sh&&Sh("(transform-style: preserve-3d)"),Oh=Sh&&(Sh("position","sticky")||Sh("position","-webkit-sticky"));function Ph(e,t,n,r){e&&e.addEventListener(t,n,r)}function Fh(e,t,n,r){e&&e.removeEventListener(t,n,r)}function Vh(e){if(Lc)return e&&e.ownerDocument?e.ownerDocument:gh}function zh(e){return void 0!==e.scrollLeft?e.scrollLeft:e.pageXOffset}function Hh(e){return void 0!==e.scrollTop?e.scrollTop:e.pageYOffset}function Uh(e){if(Lc)return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:_h}function Bh(e,t){var n=getComputedStyle(e),r=(Lh?n[Lh+"Transform"]:n.transform).split(")")[0].split(", ");return+(t?r[13]||r[5]:r[12]||r[4])||0}function Wh(e){if(!Eh||!e)return"#000";if(Dh[e])return Dh[e];Eh.fillStyle=e,Eh.fillRect(0,0,1,1);var t=Eh.getImageData(0,0,1,1),n=t?t.data:[0,0,0],r=.299*+n[0]+.587*+n[1]+.114*+n[2]<130?"#fff":"#000";return Dh[e]=r,r}function jh(e,t,n,r,a,i){var s,o=+new Date,l=e.scrollLeft,c=e.scrollTop,u=void 0===t?l:Math.max(0,Du(t))*(a?-1:1),h=void 0===n?c:Math.max(0,Du(n));return r?(s=!0,function t(){var n=Math.min(1,(+new Date-o)/468),r=.5*(1-Math.cos(Math.PI*n)),a=Du(l+(u-l)*r),d=Du(c+(h-c)*r);e.scrollLeft=a,e.scrollTop=d,a!==u||d!==h?kh((function(){t()})):i&&(s=!1,i())}()):(e.scrollLeft=u,e.scrollTop=h,i&&i()),function(t,n){u=void 0===t?u:Math.max(0,Du(t))*(a?-1:1),h=void 0===n?h:Math.max(0,Du(n)),r&&s||(e.scrollLeft=u,e.scrollTop=h)}}function Yh(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=Uh(e);return void 0!==r&&(n.top+=Hh(r),n.left+=zh(r)),n}function qh(e,t){var n=e&&(e.matches||e.msMatchesSelector);return n&&n.call(e,t)}function Kh(e,t,n){for(;e&&!qh(e,t);){if(e===n||e.nodeType===e.DOCUMENT_NODE)return null;e=e.parentNode}return e}function Gh(e,t,n){var r;try{r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n})}catch(e){(r=document.createEvent("Event")).initEvent(t,!0,!0),r.detail=n}e.dispatchEvent(r)}function Qh(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}var Xh=0;var $h,Jh={getJson:function(e,t,n){"jsonp"===n?function(e,t){if(_h){var n=gh.createElement("script"),r="mbscjsonp"+ ++Xh;_h[r]=function(e){n.parentNode.removeChild(n),delete _h[r],e&&t(e)},n.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+r,gh.body.appendChild(n)}}(e,t):function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){n.status>=200&&n.status<400&&t(JSON.parse(n.response))},n.onerror=function(){},n.send()}(e,t)}},Zh=void 0,ed=(0,r.createContext)({}),td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setEl=function(e){t._el=e?e._el||e:null},t}return Sc(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.__value},set:function(e){this.__value=e},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.__init(),this._init(),this._mounted(),this._updated()},t.prototype.componentDidUpdate=function(){this._updated()},t.prototype.componentWillUnmount=function(){this._destroy(),this.__destroy()},t.prototype.render=function(){return this._opt=this.context,this._willUpdate(),this._template(this.s,this.state)},t.prototype._safeHtml=function(e){return{__html:e}},t.prototype._init=function(){},t.prototype.__init=function(){},t.prototype._emit=function(e,t){},t.prototype._mounted=function(){},t.prototype._updated=function(){},t.prototype._destroy=function(){},t.prototype.__destroy=function(){},t.prototype._willUpdate=function(){},t.prototype._template=function(e,t){},t.contextType=ed,t}(r.PureComponent),nd=0,rd={large:992,medium:768,small:576,xlarge:1200,xsmall:0};Rc&&($h=Rc.matches,Rc.addListener((function(e){$h=e.matches,jc.next()})));var ad,id,sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.s={},t.state={},t._mbsc=!0,t._v={version:"5.30.1"},t._uid=++nd,t._proxyHook=function(e){t._hook(e.type,e)},t}return Sc(t,e),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._el},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){},t.prototype._hook=function(e,t){var n=this.s;if(t.inst=this,t.type=e,n[e])return n[e](t,this);this._emit(e,t)},t.prototype.__init=function(){var e=this;if(this.constructor.defaults){this._optChange=jc.subscribe((function(){e.forceUpdate()}));var t=this.props.modules;if(t)for(var n=0,r=t;n<r.length;n++){var a=r[n];a.init&&a.init(this)}}this._hook("onInit",{})},t.prototype.__destroy=function(){void 0!==this._optChange&&jc.unsubscribe(this._optChange),this._hook("onDestroy",{})},t.prototype._render=function(e,t){},t.prototype._willUpdate=function(){this._merge(),this._render(this.s,this.state)},t.prototype._resp=function(e){var t,n=e.responsive,r=-1,a=this.state.width;if(void 0===a&&(a=375),n&&a)for(var i=0,s=Object.keys(n);i<s.length;i++){var o=s[i],l=n[o],c=l.breakpoint||rd[o];a>=c&&c>r&&(t=l,r=c)}return t},t.prototype._merge=function(){var e,t,n=this.constructor,r=n.defaults,a=this._opt||{},i={};if(this._prevS=this.s||{},r){for(var s in this.props)void 0!==this.props[s]&&(i[s]=this.props[s]);var o=i.locale||a.locale||Hc.locale||{},l=i.calendarSystem||o.calendarSystem||a.calendarSystem||Hc.calendarSystem,c=i.theme||a.theme||Hc.theme,u=i.themeVariant||a.themeVariant||Hc.themeVariant;"auto"!==c&&c||(c=Wc.theme||""),"dark"!==u&&(!$h||"auto"!==u&&u)||!Bc[c+"-dark"]||(c+="-dark"),i.theme=c;var h=(t=Bc[c])&&t[n._name];e=Dc({},r,h,o,Hc,a,l,i);var d=this._resp(e);this._respProps=d,d&&(e=Dc({},e,d))}else e=Dc({},this.props),t=Bc[e.theme];var f=t&&t.baseTheme;e.baseTheme=f,this.s=e,this._className=e.cssClass||e.class||e.className||"",this._rtl=" mbsc-"+(e.rtl?"rtl":"ltr"),this._theme=" mbsc-"+e.theme+(f?" mbsc-"+f:""),this._touchUi="auto"===e.touchUi||void 0===e.touchUi?Nc:e.touchUi,this._hb="ios"!==Cc||"ios"!==e.theme&&"ios"!==f?"":" mbsc-hb"},t.defaults=void 0,t._name="",t}(td),od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){return t._hasChildren?(0,r.createElement)("span",{onClick:e.onClick,className:t._cssClass},e.name):(0,r.createElement)("span",{onClick:e.onClick,className:t._cssClass,dangerouslySetInnerHTML:t._svg,"v-html":void 0})}(e,this)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._render=function(e){this._hasChildren=void 0!==e.name&&!vu(e.name),this._cssClass=this._className+" mbsc-icon"+this._theme+(e.name&&!this._hasChildren?-1!==e.name.indexOf(" ")?" "+e.name:" mbsc-font-icon mbsc-icon-"+e.name:""),this._svg=e.svg?this._safeHtml(e.svg):void 0},t}(sd)),ld="change",cd="click",ud="mousedown",hd="mouseup",dd="mouseenter",fd=0;function md(e,t,n){var r=(n?"page":"client")+t;return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0][r]:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0][r]:e[r]}function pd(e){!fd||ad||e.isMbscTap||"TEXTAREA"===e.target.nodeName&&e.type===ud||(e.stopPropagation(),e.preventDefault())}function vd(e){Uh(e.target).__mbscFocusVisible=!1}function gd(e){Uh(e.target).__mbscFocusVisible=!0}function _d(e){e&&setTimeout((function(){e.style.opacity="0",e.style.transition="opacity linear .4s",setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),400)}),200)}function yd(e,t){var n,r,a,i,s,o,l,c,u,h,d,f,m,p,v,g={},_=Uh(e),y=Vh(e);function b(e){if("touchstart"===e.type)id=!0;else if(id)return e.type===ud&&(id=!1),!0;return!1}function w(){l&&(_d(i),i=function(e,t,n){var r=e.getBoundingClientRect(),a=t-r.left,i=n-r.top,s=Math.max(a,e.offsetWidth-a),o=Math.max(i,e.offsetHeight-i),l=2*Math.sqrt(Math.pow(s,2)+Math.pow(o,2)),c=gh.createElement("span");c.classList.add("mbsc-ripple");var u=c.style;return u.backgroundColor=getComputedStyle(e).color,u.width=l+"px",u.height=l+"px",u.top=n-r.top-l/2+"px",u.left=t-r.left-l/2+"px",e.appendChild(c),setTimeout((function(){u.opacity=".2",u.transform="scale(1)",u.transition="opacity linear .1s, transform cubic-bezier(0, 0, 0.2, 1) .4s"}),30),c}(e,d,f)),t.onPress(),n=!0}function E(e,i){r=!1,_d(e),clearTimeout(a),a=setTimeout((function(){n&&(t.onRelease(),n=!1)}),i)}function x(e){if(!b(e)&&(e.type!==ud||0===e.button&&!e.ctrlKey)){if(u=md(e,"X"),h=md(e,"Y"),d=u,f=h,n=!1,r=!1,c=!1,v=!0,g.moved=c,g.startX=u,g.startY=h,g.endX=d,g.endY=f,g.deltaX=0,g.deltaY=0,g.domEvent=e,g.isTouch=id,_d(i),t.onStart){var s=t.onStart(g);l=s&&s.ripple}t.onPress&&(r=!0,clearTimeout(a),a=setTimeout(w,50)),e.type===ud&&(Ph(y,"mousemove",S),Ph(y,hd,D)),Ph(y,"contextmenu",A)}}function S(e){v&&(d=md(e,"X"),f=md(e,"Y"),m=d-u,p=f-h,!c&&(Math.abs(m)>9||Math.abs(p)>9)&&(c=!0,E(i)),g.moved=c,g.endX=d,g.endY=f,g.deltaX=m,g.deltaY=p,g.domEvent=e,g.isTouch="touchmove"===e.type,t.onMove&&t.onMove(g))}function D(e){v&&(r&&!n&&(clearTimeout(a),a=null,w()),g.domEvent=e,g.isTouch="touchend"===e.type,t.onEnd&&t.onEnd(g),E(i,75),v=!1,"touchend"===e.type&&t.click&&Nh&&!c&&function(e,t){if(!t.mbscClick){var n=(e.originalEvent||e).changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.isMbscTap=!0,r.isIonicTap=!0,ad=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(r),ad=!1,fd++,setTimeout((function(){fd--}),500),setTimeout((function(){delete t.mbscClick}))}}(e,e.target),e.type===hd&&(Fh(y,"mousemove",S),Fh(y,hd,D)),Fh(y,"contextmenu",A))}function k(e){b(e)||(o=!0,t.onHoverIn(e))}function C(e){o&&t.onHoverOut(e),o=!1}function T(e){t.onKeyDown(e)}function I(e){(t.keepFocus||_.__mbscFocusVisible)&&(s=!0,t.onFocus(e))}function M(e){s&&t.onBlur(e),s=!1}function N(e){t.onChange(e)}function L(e){t.onInput(e)}function R(e){g.domEvent=e,id||t.onDoubleClick(g)}function A(e){id&&e.preventDefault()}if(Ph(e,ud,x),Ph(e,"touchstart",x,{passive:!0}),Ph(e,"touchmove",S,{passive:!1}),Ph(e,"touchend",D),Ph(e,"touchcancel",D),t.onChange&&Ph(e,ld,N),t.onInput&&Ph(e,"input",L),t.onHoverIn&&Ph(e,dd,k),t.onHoverOut&&Ph(e,"mouseleave",C),t.onKeyDown&&Ph(e,"keydown",T),t.onFocus&&_&&(Ph(e,"focus",I),!t.keepFocus)){var O=_.__mbscFocusCount||0;0===O&&(Ph(_,ud,vd,!0),Ph(_,"keydown",gd,!0)),_.__mbscFocusCount=++O}return t.onBlur&&Ph(e,"blur",M),t.onDoubleClick&&Ph(e,"dblclick",R),function(){if(a&&clearTimeout(a),t.onFocus&&_&&!t.keepFocus){var n=_.__mbscFocusCount||0;_.__mbscFocusCount=--n,n<=0&&(Fh(_,ud,vd),Fh(_,"keydown",gd))}Fh(e,"input",L),Fh(e,ud,x),Fh(e,"touchstart",x,{passive:!0}),Fh(e,"touchmove",S,{passive:!1}),Fh(e,"touchend",D),Fh(e,"touchcancel",D),Fh(y,"mousemove",S),Fh(y,hd,D),Fh(y,"contextmenu",A),Fh(e,ld,N),Fh(e,dd,k),Fh(e,"mouseleave",C),Fh(e,"keydown",T),Fh(e,"focus",I),Fh(e,"blur",M),Fh(e,"dblclick",R)}}Lc&&(["mousedown",dd,ud,hd,cd].forEach((function(e){gh.addEventListener(e,pd,!0)})),"android"===Cc&&zc<5&&gh.addEventListener(ld,(function(e){var t=e.target;fd&&"checkbox"===t.type&&!t.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete t.mbscChange}),!0));var bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t,n){var a=t.props,i=a.ariaLabel;a.children,a.className,a.color;var s=a.endIcon;a.endIconSrc;var o=a.endIconSvg;a.hasChildren;var l=a.icon;a.iconSrc;var c=a.iconSvg;a.ripple,a.rtl;var u=a.role,h=a.startIcon;a.startIconSrc;var d=a.startIconSvg;a.tag,a.tabIndex,a.theme,a.themeVariant,a.variant;var f=kc(a,["ariaLabel","children","className","color","endIcon","endIconSrc","endIconSvg","hasChildren","icon","iconSrc","iconSvg","ripple","rtl","role","startIcon","startIconSrc","startIconSvg","tag","tabIndex","theme","themeVariant","variant"]),m=Dc({"aria-label":i,className:t._cssClass,ref:t._setEl},f),p=(0,r.createElement)(r.Fragment,null,t._isIconOnly&&(0,r.createElement)(od,{className:t._iconClass,name:l,svg:c,theme:e.theme}),t._hasStartIcon&&(0,r.createElement)(od,{className:t._startIconClass,name:h,svg:d,theme:e.theme}),n,t._hasEndIcon&&(0,r.createElement)(od,{className:t._endIconClass,name:s,svg:o,theme:e.theme}));return"span"===e.tag?(0,r.createElement)("span",Dc({role:u,"aria-disabled":e.disabled,tabIndex:t._tabIndex},m),p):"a"===e.tag?(0,r.createElement)("a",Dc({"aria-disabled":e.disabled,tabIndex:t._tabIndex},m),p):(0,r.createElement)("button",Dc({role:u,tabIndex:t._tabIndex},m),p)}(e,this,e.children)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._mounted=function(){var e=this;this._unlisten=yd(this._el,{click:!0,onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})},onHoverIn:function(){e.s.disabled||e.setState({hasHover:!0})},onHoverOut:function(){e.setState({hasHover:!1})},onKeyDown:function(t){switch(t.keyCode){case 13:case 32:e._el.click(),t.preventDefault()}},onPress:function(){e.setState({isActive:!0})},onRelease:function(){e.setState({isActive:!1})},onStart:function(){return{ripple:e.s.ripple&&!e.s.disabled}}})},t.prototype._render=function(e,t){var n=this,r=e.disabled;this._isIconOnly=!(!e.icon&&!e.iconSvg),this._hasStartIcon=!(!e.startIcon&&!e.startIconSvg),this._hasEndIcon=!(!e.endIcon&&!e.endIconSvg),this._tabIndex=r?void 0:e.tabIndex||0,this._cssClass=this._className+" mbsc-reset mbsc-font mbsc-button"+this._theme+this._rtl+" mbsc-button-"+e.variant+(this._isIconOnly?" mbsc-icon-button":"")+(r?" mbsc-disabled":"")+(e.color?" mbsc-button-"+e.color:"")+(t.hasFocus&&!r?" mbsc-focus":"")+(t.isActive&&!r?" mbsc-active":"")+(t.hasHover&&!r?" mbsc-hover":""),this._iconClass="mbsc-button-icon"+this._rtl,this._startIconClass=this._iconClass+" mbsc-button-icon-start",this._endIconClass=this._iconClass+" mbsc-button-icon-end",e.disabled&&t.hasHover&&setTimeout((function(){n.setState({hasHover:!1})}))},t.prototype._destroy=function(){this._unlisten&&this._unlisten()},t.defaults={ripple:!1,role:"button",tag:"button",variant:"standard"},t._name="Button",t}(sd)),wd={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},Ed={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},xd={byday:"weekDays",bymonth:"month",bymonthday:"day",bysetpos:"pos",dtstart:"from",freq:"repeat",wkst:"weekStart"};function Sd(e,t,n,r){var a=ah(t.start,t.allDay?void 0:n),i=ah(t.end,t.allDay?void 0:n),s=i-a;for(r&&(t.start=a,t.end=i),a=qu(a),i=n.exclusiveEndDates?i:qu(hh(i,1));a<i||!s;)Dd(e,a,t),a=hh(a,1),s=1}function Dd(e,t,n){var r=Yu(t);e[r]||(e[r]=[],e[r].date=qu(t,!0)),e[r].push(n)}function kd(e,t,n,r,a,i){var s={};if(a)for(var o=0,l=Ld(a);o<l.length;o++)s[Yu(ah(l[o]))]=!0;if(i)for(var c=0,u=Rd(i,e,e,t,n,r);c<u.length;c++)s[Yu(u[c].d)]=!0;return s}function Cd(e){return vu(e)||e.getTime||e.toDate?e:e.start||e.date}function Td(e,t,n){var r=t.original?t.original.start:t.start,a=t.allDay||!r,i=e.timezonePlugin,s=t.timezone||e.dataTimezone||e.displayTimezone;return i&&!a?{dataTimezone:s,displayTimezone:n?s:e.displayTimezone,timezonePlugin:i}:void 0}function Id(e){for(var t={},n=0,r=e.split(";");n<r.length;n++){var a=r[n].split("="),i=a[0].trim().toLowerCase(),s=a[1].trim();t[xd[i]||i]=s}return t}function Md(e,t,n,r){for(var a=null,i=0,s=e;i<s.length;i++){var o=s[i];if(o.recurring){var l=ah(o.start||o.date),c=Rd(o.recurring,l,l,t,void 0,n,o.reccurringException,o.recurringExceptionRule,"first");(!a||c<a)&&(a=c)}else if(o.start&&o.end){var u=ah(o.start,n,r);ah(o.end,n,r)>t&&(a=u<=t?t:a&&a<u?a:u)}else{var h=ah(Cd(o),n,r);h>t&&(!a||h<a)&&(a=h)}}return a}function Nd(e,t,n,r){var a=t;e.sort((function(e,t){return ah(Cd(e),n,r)-ah(Cd(t),n,r)}));for(var i=0,s=e;i<s.length;i++){var o=s[i];if(o.recurring){var l=ah(o.start||o.date),c=Rd(o.recurring,l,l,t,void 0,n,o.reccurringException,o.recurringExceptionRule,"last");c>a&&(a=c)}else if(o.start&&o.end){var u=ah(o.start,n,r),h=ah(o.end,n,r);h>a&&Gu(a,u)<=1&&(a=h)}else{var d=ah(Cd(o),n,r);d>a&&Gu(a,d)<=1&&(a=d)}}return a}function Ld(e){return e?fu(e)?e:vu(e)?e.split(","):[e]:[]}function Rd(e,t,n,r,a,i,s,o,l){vu(e)&&(e=Id(e));for(var c,u,h=i.getYear,d=i.getMonth,f=i.getDay,m=i.getDate,p=i.getMaxDayOfMonth,v=(e.repeat||"").toLowerCase(),g=e.interval||1,_=e.count,y=e.from?ah(e.from):t||(1!==g||void 0!==_||"monthly"===v||"yearly"===v?new Date:r),b=qu(y),w=h(y),E=d(y),x=f(y),S=n?n.getHours():0,D=n?n.getMinutes():0,k=n?n.getSeconds():0,C=e.until?ah(e.until):1/0,T=y<r,I=T?r:qu(y),M="first"===l,N="last"===l,L=M||N||!a||C<a?C:a,R=void 0===_?1/0:_,A=(e.weekDays||wd[y.getDay()]).split(","),O=Ed[(e.weekStart||"MO").trim().toUpperCase()],P=e.day,F=e.month,V=fu(P)?P.length?P:[x]:((P||x)+"").split(","),z=fu(F)?F.length?F:[E]:((F||E+1)+"").split(","),H=[],U=void 0!==e.pos,B=U?+e.pos:1,W=[],j=a?kd(t,r,a,i,s,o):{},Y=!0,q=0,K=0,G=null,Q=r,X=0,$=A;X<$.length;X++){var J=$[X];W.push(Ed[J.trim().toUpperCase()])}var Z=function(){if(a||(j=kd(u,u,hh(u,1),i,s,o)),!j[Yu(u)]&&u>=I)if(M)G=!G||u<G?u:G,Y=!1;else if(N){var e=Gu(Q,u);Q=u>Q&&e<=1?u:Q,Y=e<=1}else H.push({d:u,i:K});K++},ee=function(e,t){for(var n=[],r=0,a=W;r<a.length;r++)for(var i=Xu(e,{firstDay:a[r]});i<t;i.setDate(i.getDate()+7))i.getMonth()===e.getMonth()&&n.push(+i);n.sort();var s=n[B<0?n.length+B:B-1];u=s?new Date(s):t,(u=m(h(u),d(u),f(u),S,D,k))>=y&&(u<=L&&K<R?s&&Z():Y=!1)};switch(v){case"daily":for(K=_&&T?Cu(Gu(y,r)/g):0;Y;)(u=m(w,E,x+K*g,S,D,k))<=L&&K<R?Z():Y=!1;break;case"weekly":var te=W,ne=Xu(y,{firstDay:O}),re=ne.getDay();for(te.sort((function(e,t){return(e=(e-=re)<0?e+7:e)-((t-=re)<0?t+7:t)}));Y;){for(var ae=0,ie=te;ae<ie.length;ae++)c=hh(ne,(J=ie[ae])<O?J-O+7:J-O),(u=m(h(c),d(c),f(c)+7*q*g,S,D,k))<=L&&K<R?u>=b&&Z():Y=!1;q++}break;case"monthly":for(;Y;){var se=p(w,E+q*g);if(U)ee(m(w,E+q*g,1),m(w,E+q*g+1,1));else for(var oe=0,le=V;oe<le.length;oe++){var ce=le[oe];(u=m(w,E+q*g,(pe=+ce)<0?se+pe+1:pe,S,D,k))<=L&&K<R?se>=pe&&u>=b&&Z():Y=!1}q++}break;case"yearly":for(;Y;){for(var ue=0,he=z;ue<he.length;ue++){var de=+he[ue];if(se=p(w+q*g,de-1),U)ee(m(w+q*g,de-1,1),m(w+q*g,de,1));else for(var fe=0,me=V;fe<me.length;fe++){var pe;ce=me[fe],(u=m(w+q*g,de-1,(pe=+ce)<0?se+pe+1:pe,S,D,k))<=L&&K<R?se>=pe&&u>=b&&Z():Y=!1}}q++}}return M?G:N?Q:H}function Ad(e,t,n,r,a){var i={};if(e){for(var s=0,o=e;s<o.length;s++){var l=o[s],c=Td(r,l,!0),u=Td(r,l),h=Cd(l),d=ah(h,u);if(l.recurring)for(var f=Vu.test(h)?null:ah(h),m=rh(c,d),p=l.end?ah(l.end,c):m,v="00:00"===l.end?hh(p,1):p,g=+v-+m,_=hh(t,-1),y=hh(n,1),b=0,w=Rd(l.recurring,f,m,_,y,r,l.recurringException,l.recurringExceptionRule);b<w.length;b++){var E=w[b],x=E.d,S=Dc({},l);if(l.start?S.start=rh(c,x.getFullYear(),x.getMonth(),x.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()):(S.allDay=!0,S.start=rh(void 0,x.getFullYear(),x.getMonth(),x.getDate())),l.end)if(l.allDay){var D=hh(x,Gu(m,v));S.end=new Date(D.getFullYear(),D.getMonth(),D.getDate(),v.getHours(),v.getMinutes(),v.getSeconds())}else S.end=rh(c,+S.start+g);S.nr=E.i,S.occurrenceId=S.id+"_"+Yu(S.start),S.original=l,S.start&&S.end?Sd(i,S,r,a):Dd(i,x,S)}else l.start&&l.end?Sd(i,l,r,a):d&&Dd(i,d,l)}return i}}var Od=1,Pd=du(Pu,{dateText:"Date",eventText:"event",eventsText:"events",moreEventsText:"{count} more",nextPageText:"Next page",prevPageText:"Previous page",showEventTooltip:!0,showToday:!0,timeText:"Time"});function Fd(e,t){var n=t.refDate?ah(t.refDate):Ru,r=t.showCalendar?t.calendarType:t.eventRange,a=(t.showCalendar?"year"===r?1:"week"===r?t.weeks:t.size:t.eventRangeSize)||1,i=t.getDate,s="week"===r?Xu(n,t):n,o=t.getYear(s),l=t.getMonth(s),c=t.getDay(s);switch(r){case"year":return i(o+e*a,0,1);case"week":return i(o,l,c+7*a*e);case"day":return i(o,l,c+a*e);default:return i(o,l+e*a,1)}}function Vd(e,t){var n,r=t.refDate?ah(t.refDate):Ru,a=t.getYear,i=t.getMonth,s=t.showCalendar?t.calendarType:t.eventRange,o=(t.showCalendar?"year"===s?1:"week"===s?t.weeks:t.size:t.eventRangeSize)||1;switch(s){case"year":n=a(e)-a(r);break;case"week":n=Gu(Xu(r,t),Xu(e,t))/7;break;case"day":n=Gu(r,e);break;case"month":n=i(e)-i(r)+12*(a(e)-a(r));break;default:return}return Cu(n/o)}function zd(e,t){var n=t.refDate?ah(t.refDate):Ru;return Cu((t.getYear(e)-t.getYear(n))/12)}function Hd(e,t){var n=t.refDate?ah(t.refDate):Ru;return t.getYear(e)-t.getYear(n)}function Ud(e,t){var n=t.refDate?ah(t.refDate):Ru;return t.getMonth(e)-t.getMonth(n)+12*(t.getYear(e)-t.getYear(n))}function Bd(e,t){var n=ah(e.start||e.date),r=ah(t.start||e.date),a=e.title||e.text,i=t.title||t.text,s=n?+n*(e.allDay?1:10):0,o=r?+r*(t.allDay?1:10):0;return s===o?a>i?1:-1:s-o}function Wd(e,t){return"auto"===e?Math.max(1,Math.min(3,Math.floor(t?t/296:1))):e?+e:1}function jd(e,t,n,r,a,i,s,o,l,c,u,h,d,f){t=t||{};for(var m={},p=new Map,v={},g=n,_=0,y=a,b=r;g<r;){var w=Yu(g),E=g.getDay(),x=e.getDay(g),S=u&&e.getDate(e.getYear(g),e.getMonth(g)+1,0),D=l&&(E===o||1===x&&u)||+g==+n,k=Xu(g,e),C=Yd(t[w]||[],c),T=void 0,I=void 0,M=void 0,N=0,L=0,R=0;D&&(v={},b=l?hh(k,i):r),s&&(C=C.filter((function(e){return e.allDay}))),-1===a&&(y=C.length+1);var A=C.length,O=[];for(h&&(O.push({id:"count_"+ +g,count:A,placeholder:0===A}),N=y);A&&N<y;){T=null;for(var P=0;P<C.length;P++)v[N]===C[P]&&(T=C[P],M=P);if(I=T&&p.get(T)||[],N===y-1&&(L<A-1||R===A&&!T)&&-1!==a){var F=A-L,V=d||"",z=(F>1&&f||V).replace(/{count}/,F);if(F&&O.push({id:"more_"+ ++_,more:z,label:z}),T){v[N]=null;for(var H=0,U=I;H<U.length;H++){var B=U[H],W=V.replace(/{count}/,"1");m[Yu(B)].data[N]={id:"more_"+ ++_,more:W,label:W}}}L++,N++}else if(T)M===R&&R++,$u(g,ah(T.end,Td(e,T)))&&(v[N]=null),O.push({id:T.occurrenceId||T.id,event:T}),N++,L++,I.push(g);else if(R<A){var j=C[R],Y=j.allDay,q=Td(e,j),K=j.start&&ah(j.start,q);if(!K||$u(g,K)||D){var G=ju(e,Y,K,j.end&&ah(j.end,q),!0),Q=G&&!$u(K,G),X=S&&S<G?S:G,$=K?", "+e.fromText+": "+oh("DDDD, MMMM D, YYYY",K,e):"",J=G?", "+e.toText+": "+oh("DDDD, MMMM D, YYYY",G,e):"";void 0===j.id&&(j.id="mbsc_"+Od++),Q&&(v[N]=j),p.set(j,[g]),O.push({event:j,id:j.occurrenceId||j.id,label:(j.title||j.text||"")+$+J,lastDay:S?hh(S,1):void 0,multiDay:Q,showText:!0,width:Q?100*Math.min(Gu(g,X)+1,Gu(g,b)):100}),N++,L++}R++}else L<A&&O.push({id:"ph_"+ ++_,placeholder:!0}),N++}m[w]={data:O,events:C},g=qu(hh(g,1))}return m}function Yd(e,t){return e&&e.slice(0).sort(t||Bd)}function qd(e,t,n){return!(!1===e||!1===n||!t)}function Kd(e,t,n){return!1!==e&&!1!==t&&!1!==n}var Gd=(0,r.createContext)({}),Qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype.componentWillUnmount=function(){this._changes&&this._changes.unsubscribe(this._handler)},t.prototype.render=function(){var e=this,t=this.props,n=t.host,a=t.component,i=t.view,s=kc(t,["host","component","view"]),o=i||n&&n._calendarView;return o&&!this._changes&&(this._changes=o.s.instanceService.onComponentChange,this._handler=this._changes.subscribe((function(){e.forceUpdate()}))),(0,r.createElement)(Gd.Consumer,null,(function(e){var t=e.instance||i||n&&n._calendarView;return t&&(0,r.createElement)(a,Dc({inst:t},s))}))},t}(r.PureComponent),Xd=function(e){var t=e.inst,n=e.className;return(0,r.createElement)(bd,{ariaLabel:t.s.prevPageText,className:"mbsc-calendar-button "+(n||""),disabled:t._isPrevDisabled(),iconSvg:t._prevIcon,onClick:t.prevPage,theme:t.s.theme,themeVariant:t.s.themeVariant,type:"button",variant:"flat"})},$d=function(e){var t=e.inst,n=e.className;return(0,r.createElement)(bd,{ariaLabel:t.s.nextPageText,disabled:t._isNextDisabled(),className:"mbsc-calendar-button "+(n||""),iconSvg:t._nextIcon,onClick:t.nextPage,theme:t.s.theme,themeVariant:t.s.themeVariant,type:"button",variant:"flat"})},Jd=function(e){var t=e.inst,n=e.className;return(0,r.createElement)(bd,{className:"mbsc-calendar-button mbsc-calendar-button-today "+(n||""),onClick:t._onTodayClick,theme:t.s.theme,themeVariant:t.s.themeVariant,type:"button",variant:"flat"},t.s.todayText)},Zd=function(e){var t=e.inst,n=e.className,a=t.s,i=t._theme,s=t._view;return(0,r.createElement)("div",{"aria-live":"polite",className:(n||"")+i},t._title.map((function(e,n){return(1===t._pageNr||0===n||t._hasPicker||"page"===s)&&(0,r.createElement)(bd,{className:"mbsc-calendar-button"+(t._pageNr>1?" mbsc-flex-1-1":""),"data-index":n,onClick:t._onPickerBtnClick,key:n,theme:a.theme,themeVariant:a.themeVariant,type:"button",variant:"flat"},(t._hasPicker||"page"===s)&&(e.title?(0,r.createElement)("span",{className:"mbsc-calendar-title"+i},e.title):(0,r.createElement)(r.Fragment,null,t._yearFirst&&(0,r.createElement)("span",{className:"mbsc-calendar-title mbsc-calendar-year"+i},e.yearTitle),(0,r.createElement)("span",{className:"mbsc-calendar-title mbsc-calendar-month"+i},e.monthTitle),!t._yearFirst&&(0,r.createElement)("span",{className:"mbsc-calendar-title mbsc-calendar-year"+i},e.yearTitle))),!t._hasPicker&&"page"!==s&&(0,r.createElement)("span",{className:"mbsc-calendar-title"+i},t._viewTitle),a.downIcon&&1===t._pageNr?(0,r.createElement)(od,{svg:"page"===s?a.downIcon:a.upIcon,theme:a.theme}):null)})))},ef=function(e){var t=e.calendar,n=e.view,a=kc(e,["calendar","view"]);return(0,r.createElement)(Qd,Dc({component:Xd,host:t,view:n},a))};ef._name="CalendarPrev";var tf=function(e){var t=e.calendar,n=e.view,a=kc(e,["calendar","view"]);return(0,r.createElement)(Qd,Dc({component:$d,host:t,view:n},a))};tf._name="CalendarNext";var nf=function(e){var t=e.calendar,n=e.view,a=kc(e,["calendar","view"]);return(0,r.createElement)(Qd,Dc({component:Jd,host:t,view:n},a))};nf._name="CalendarToday";var rf=function(e){var t=e.calendar,n=e.view,a=kc(e,["calendar","view"]);return(0,r.createElement)(Qd,Dc({component:Zd,host:t,view:n},a))};rf._name="CalendarNav";var af,sf,of=_h,lf=+new Date,cf={};function uf(e){!e._logged&&"mbscdemo"!==gc.apiKey&&gh&&(e._logged=!0,cf.components=cf.components||[],cf.components.push(e.constructor._name.toLowerCase()),clearTimeout(sf),sf=setTimeout((function(){if(!gc.fwv){var t=void 0;switch(gc.fw){case"angular":var n=gh.querySelector("[ng-version]");t=n?n.getAttribute("ng-version"):"N/A";break;case"jquery":t=of.$.fn&&of.$.fn.jquery}gc.fwv=t||"N/A"}cf.demo=!!of.isMbscDemo,cf.fw=gc.fw,cf.fwv=gc.fwv,cf.theme=e.s.theme,cf.trialCode=gc.apiKey,cf.v=e._v.version,df("log",null,cf,(function(){cf={}}))}),5e3))}function hf(e){if(e&&gh&&!gh.getElementById("trial-message")){var t=gh.createElement("div");t.setAttribute("id","trial-message"),t.setAttribute("style","position: absolute;width: 100%; bottom: 0;left: 0; padding: 10px;box-sizing: border-box;"),t.setAttribute("class","mbsc-font");var n=gh.createElement("div");n.setAttribute("style","padding: 15px 25px; max-width: 400px; margin: 0 auto 10px auto; border-radius: 16px; line-height: 25px; background: #cacaca59; font-size: 15px; color: #151515;"),n.innerHTML=e.message+" ";var r=gh.createElement("a");r.innerHTML=e.button.text,r.setAttribute("style","color: #FF4080;font-weight: 600;"),r.setAttribute("href","https://mobiscroll.com/pricing?ref=trialapp"),n.appendChild(r),t.appendChild(n),gh.body.appendChild(t),setTimeout((function(){gh.body.removeChild(t)}),6e3)}}function df(e,t,n,r,a,i){if(_h&&gh){var s=gh.createElement("script"),o="mbsc_jsonp_"+(a||++lf);o=_h[o]?"mbsc_jsonp_"+ ++lf:o;var l=i||1;_h[o]=function(n,a){clearTimeout(c),s.parentNode.removeChild(s),delete _h[o],n=n?JSON.parse(n,(function(e,n){return"string"!=typeof n?n:"function_"===n.substring(0,9)&&t?t[n.replace("function_","")]:n.match(Fu)?ah(n):n})):{},"remote"===e&&(n.__e,delete n.__e),a||r(n)};var c=setTimeout(u,6e3);s.onerror=u,s.src=gc.apiUrl+gc.apiKey+"/"+e+"?callback="+o+"&data="+encodeURIComponent(JSON.stringify(n)),gh.body.appendChild(s)}else r({});function u(){_h&&_h[o]&&_h[o](null,!0),"remote"===e&&(l<4?df(e,t,n,r,a,l+1):af||(af=!0,ff()))}}function ff(){var e=gh.cookie.replace(/(?:(?:^|.*;\s*)ASP.NET_SessionId\s*=\s*([^;]*).*$)|^.*$/,"$1");gh.cookie="mobiscrollClientError=1; expires="+new Date((new Date).getTime()+864e5).toUTCString()+"; path=/; SameSite=Strict";try{_h.name=(_h.name||"")+";mobiscrollClientError"}catch(e){}df("error",null,{sessionID:e,trialCode:gc.apiKey},(function(){gh.cookie="mobiscrollClientError=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";try{_h.name=(_h.name||"").replace(/;mobiscrollClientError/g,"")}catch(e){}}))}gh&&(gh.cookie.replace(/(?:(?:^|.*;\s*)mobiscrollClientError\s*=\s*([^;]*).*$)|^.*$/,"$1")||/mobiscrollClientError/.test(_h.name||""))&&gh.addEventListener("DOMContentLoaded",(function(){ff()}));var mf,pf,vf=0;function gf(e,t,n){var r,a,i,s,o,l,c,u=0;function h(){a.style.width="100000px",a.style.height="100000px",r.scrollLeft=1e5,r.scrollTop=1e5,l.scrollLeft=1e5,l.scrollTop=1e5}function d(){var e=+new Date;s=0,c||(e-u>200&&!r.scrollTop&&!r.scrollLeft&&(u=e,h()),s||(s=kh(d)))}function f(){o||(o=kh(m))}function m(){o=0,h(),t()}return _h&&_h.ResizeObserver?(mf||(mf=new _h.ResizeObserver((function(e){o||(o=kh((function(){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.target.__mbscResize&&r.target.__mbscResize()}o=0})))}))),vf++,e.__mbscResize=function(){n?n.run(t):t()},mf.observe(e)):i=gh&&gh.createElement("div"),i&&(i.innerHTML='<div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-x"></div></div><div class="mbsc-resize"><div class="mbsc-resize-i mbsc-resize-y"></div></div>',i.dir="ltr",l=i.childNodes[1],r=i.childNodes[0],a=r.childNodes[0],e.appendChild(i),Ph(r,"scroll",f),Ph(l,"scroll",f),n?n.runOutsideAngular((function(){kh(d)})):kh(d)),{detach:function(){mf?(vf--,delete e.__mbscResize,mf.unobserve(e),vf||(mf=void 0)):(i&&(Fh(r,"scroll",f),Fh(l,"scroll",f),e.removeChild(i),Ch(o),i=void 0),c=!0)}}}var _f="input,select,textarea,button",yf=_f+',[tabindex="0"]',bf={enter:13,esc:27,space:32},wf=Lc&&/(iphone|ipod)/i.test(Ac)&&zc>=7&&zc<15;function Ef(e,t){var n=e.s,r=[],a={cancel:{cssClass:"mbsc-popup-button-close",name:"cancel",text:n.cancelText},close:{cssClass:"mbsc-popup-button-close",name:"close",text:n.closeText},ok:{cssClass:"mbsc-popup-button-primary",keyCode:13,name:"ok",text:n.okText},set:{cssClass:"mbsc-popup-button-primary",keyCode:13,name:"set",text:n.setText}};if(t&&t.length)return t.forEach((function(t){var n=vu(t)?a[t]||{text:t}:t;n.handler&&!vu(n.handler)||(vu(n.handler)&&(n.name=n.handler),n.handler=function(t){e._onButtonClick({domEvent:t,button:n})}),r.push(n)})),r}function xf(e,t){void 0===t&&(t=0);var n=e._prevModal;if(n&&n!==e&&t<10)return n.isVisible()?n:xf(n,t+1)}var Sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFocus=+new Date,t._setActive=function(e){t._active=e},t._setContent=function(e){t._content=e},t._setLimitator=function(e){t._limitator=e},t._setPopup=function(e){t._popup=e},t._setWrapper=function(e){t._wrapper=e},t._onOverlayClick=function(){t._isOpen&&t.s.closeOnOverlayClick&&!t._preventClose&&t._close("overlay"),t._preventClose=!1},t._onDocClick=function(e){t.s.showOverlay||e.target===t.s.focusElm||pf!==t||t._onOverlayClick()},t._onMouseDown=function(e){t.s.showOverlay||(t._target=e.target)},t._onMouseUp=function(e){t._target&&t._popup&&t._popup.contains(t._target)&&!t._popup.contains(e.target)&&(t._preventClose=!0),t._target=!1},t._onPopupClick=function(){t.s.showOverlay||(t._preventClose=!0)},t._onAnimationEnd=function(e){e.target===t._popup&&(t._isClosing&&(t._onClosed(),t._isClosing=!1,t.state.isReady?t.setState({isReady:!1}):t.forceUpdate()),t._isOpening&&(t._onOpened(),t._isOpening=!1,t.forceUpdate()))},t._onButtonClick=function(e){var n=e.domEvent,r=e.button;t._hook("onButtonClick",{domEvent:n,button:r}),/cancel|close|ok|set/.test(r.name)&&t._close(r.name)},t._onFocus=function(e){var n=+new Date;pf===t&&e.target.nodeType&&t._ctx.contains(e.target)&&t._popup&&!t._popup.contains(e.target)&&n-t._lastFocus>100&&e.target!==t.s.focusElm&&(t._lastFocus=n,t._active.focus())},t._onKeyDown=function(e){var n=t.s,r=e.keyCode,a=n.focusElm&&!n.focusOnOpen?n.focusElm:void 0;if((32===r&&!qh(e.target,_f)||t._lock&&(38===r||40===r))&&e.preventDefault(),n.focusTrap&&9===r){var i=t._popup.querySelectorAll(yf),s=[],o=-1,l=0,c=-1,u=void 0;Qh(i,(function(e){e.disabled||!e.offsetHeight&&!e.offsetWidth||(s.push(e),o++,e===t._doc.activeElement&&(c=o))})),e.shiftKey&&(l=o,o=0),c===o?u=a||s[l]:e.target===a&&(u=s[l]),u&&(u.focus(),e.preventDefault())}},t._onContentScroll=function(e){!t._lock||"touchmove"===e.type&&"stylus"===e.touches[0].touchType||e.preventDefault()},t._onScroll=function(e){var n=t.s;n.closeOnScroll?t._close("scroll"):(t._hasContext||"anchored"===n.display)&&t.position()},t._onWndKeyDown=function(e){var n=t.s,r=e.keyCode;if(pf===t&&void 0!==r){if(t._hook("onKeyDown",{keyCode:r}),n.closeOnEsc&&27===r&&t._close("esc"),13===r&&qh(e.target,'textarea,button,input[type="button"],input[type="submit"]')&&!e.shiftKey)return;if(t._buttons)for(var a=0,i=t._buttons;a<i.length;a++)for(var s=i[a],o=0,l=fu(s.keyCode)?s.keyCode:[s.keyCode];o<l.length;o++){var c=l[o];if(!s.disabled&&void 0!==c&&(c===r||bf[c]===r))return void s.handler(e)}}},t._onResize=function(){var e=t._wrapper,n=t._hasContext;if(e){t._vpWidth=Math.min(e.clientWidth,n?1/0:t._win.innerWidth),t._vpHeight=Math.min(e.clientHeight,n?1/0:t._win.innerHeight),t._maxWidth=t._limitator.offsetWidth,t._maxHeight=void 0!==t.s.maxHeight||t._vpWidth<768||t._vpHeight<650?t._limitator.offsetHeight:600,t._round=!1===t.s.touchUi||t._popup.offsetWidth<t._vpWidth&&t._vpWidth>t._maxWidth;var r={isLarge:t._round,maxPopupHeight:t._maxHeight,maxPopupWidth:t._maxWidth,target:e,windowHeight:t._vpHeight,windowWidth:t._vpWidth};!1===t._hook("onResize",r)||r.cancel||t.position()}},t}return Sc(t,e),t.prototype.open=function(){this._isOpen||this.setState({isOpen:!0})},t.prototype.close=function(){this._close()},t.prototype.isVisible=function(){return!!this._isOpen},t.prototype.position=function(){if(this._isOpen){var e=this.s,t=this.state,n=this._wrapper,r=this._popup,a=this._hasContext,i=e.anchor,s=e.anchorAlign,o=e.rtl,l=Hh(this._scrollCont),c=zh(this._scrollCont),u=this._vpWidth,h=this._vpHeight,d=this._maxWidth,f=this._maxHeight,m=Math.min(r.offsetWidth,d),p=Math.min(r.offsetHeight,f),v=e.showArrow;this._lock=e.scrollLock&&this._content.scrollHeight<=this._content.clientHeight,a&&(n.style.top=l+"px",n.style.left=c+"px");var g=!1===this._hook("onPosition",{isLarge:this._round,maxPopupHeight:f,maxPopupWidth:d,target:this._wrapper,windowHeight:h,windowWidth:u});if("anchored"!==e.display||g)this.setState({height:h,isReady:!0,showArrow:v,width:u});else{var _=0,y=0,b=hu(t.modalLeft||0,8,u-m-8),w=t.modalTop||8,E="bottom",x={},S=v?16:4,D=(n.offsetWidth-u)/2,k=(n.offsetHeight-h)/2;if(a){var C=this._ctx.getBoundingClientRect();y=C.top,_=C.left}if(i&&this._ctx.contains(i)){var T=i.getBoundingClientRect(),I=T.top-y,M=T.left-_,N=i.offsetWidth,L=i.offsetHeight;if(b=hu(b="start"===s&&!o||"end"===s&&o?M:"end"===s&&!o||"start"===s&&o?M+N-m:M-(m-N)/2,8,u-m-8),w=I+L+S,x={left:hu(M+N/2-b-D,30,m-30)+"px"},w+p+S>h)if(I-p-S>0)E="top",w=I-p-S;else if(!e.disableLeftRight){var R=M-m-8>0;(R||M+N+m+8<=u)&&((w=hu(I-(p-L)/2,8,h-p-8))+p+8>h&&(w=Math.max(h-p-8,0)),x={top:hu(I+L/2-w-k,30,p-30)+"px"},E=R?"left":"right",b=R?M-m:M+N)}}"top"!==E&&"bottom"!==E||w+p+S>h&&(w=Math.max(h-p-S,0),v=!1),this.setState({arrowPos:x,bubblePos:E,height:h,isReady:!0,modalLeft:b,modalTop:w,showArrow:v,width:u})}}},t.prototype._render=function(e,t){"bubble"===e.display&&(e.display="anchored");var n=e.animation,r=e.display,a=this._prevS,i="anchored"===r,s="inline"!==r,o=e.fullScreen&&s,l=!!s&&(void 0===e.isOpen?t.isOpen:e.isOpen);if(l&&(e.windowWidth!==a.windowWidth||e.display!==a.display||e.showArrow!==a.showArrow||e.anchor!==a.anchor&&"anchored"===e.display)&&(this._shouldPosition=!0),this._limits={maxHeight:Eu(e.maxHeight),maxWidth:Eu(e.maxWidth)},this._style={height:o?"100%":Eu(e.height),left:i&&t.modalLeft?t.modalLeft+"px":"",maxHeight:Eu(this._maxHeight||e.maxHeight),maxWidth:Eu(this._maxWidth||e.maxWidth),top:i&&t.modalTop?t.modalTop+"px":"",width:o?"100%":Eu(e.width)},this._hasContext="body"!==e.context&&void 0!==e.context,this._needsLock=wf&&!this._hasContext&&"anchored"!==r&&e.scrollLock,this._isModal=s,this._flexButtons="center"===r||!this._touchUi&&!o&&("top"===r||"bottom"===r),void 0!==n&&!0!==n)this._animation=vu(n)?n:"";else switch(r){case"bottom":this._animation="slide-up";break;case"top":this._animation="slide-down";break;default:this._animation="pop"}e.buttons?e.buttons!==a.buttons&&(this._buttons=Ef(this,e.buttons)):this._buttons=void 0,e.headerText!==a.headerText&&(this._headerText=e.headerText?this._safeHtml(e.headerText):void 0),e.context!==a.context&&(this._contextChanged=!0),l&&!this._isOpen&&this._onOpen(),!l&&this._isOpen&&this._onClose(),this._isOpen=l,this._isVisible=l||this._isClosing},t.prototype._updated=function(){var e=this,t=this.s,n=this._wrapper;if(!gh||!this._contextChanged&&this._ctx||((r=vu(t.context)?gh.querySelector(t.context):t.context)||(r=gh.body),this._ctx=r,this._contextChanged=!1,!this._justOpened)){if(n){if(this._justOpened){var r=this._ctx,a=this._hasContext,i=this._doc=Vh(n),s=this._win=Uh(n),o=i.activeElement;if(!this._hasWidth&&t.responsive){var l=Math.min(n.clientWidth,a?1/0:s.innerWidth),c=Math.min(n.clientHeight,a?1/0:s.innerHeight);if(this._hasWidth=!0,l!==this.state.width||c!==this.state.height)return void Tu(this,(function(){e.setState({height:c,width:l})}))}if(this._scrollCont=a?r:s,this._observer=gf(n,this._onResize,this._zone),this._prevFocus=t.focusElm||o,r.__mbscModals=(r.__mbscModals||0)+1,this._needsLock){if(!r.__mbscIOSLock){var u=Hh(this._scrollCont),h=zh(this._scrollCont);r.style.left=-h+"px",r.style.top=-u+"px",r.__mbscScrollLeft=h,r.__mbscScrollTop=u,r.classList.add("mbsc-popup-open-ios"),r.parentElement.classList.add("mbsc-popup-open-ios")}r.__mbscIOSLock=(r.__mbscIOSLock||0)+1}a&&r.classList.add("mbsc-popup-ctx"),t.focusTrap&&Ph(s,"focusin",this._onFocus),t.focusElm&&!t.focusOnOpen&&Ph(t.focusElm,"keydown",this._onKeyDown),Ph(this._scrollCont,"touchmove",this._onContentScroll,{passive:!1}),Ph(this._scrollCont,"wheel",this._onContentScroll,{passive:!1}),Ph(this._scrollCont,"mousewheel",this._onContentScroll,{passive:!1}),setTimeout((function(){t.focusOnOpen&&o&&o.blur(),Th&&e._animation||e._onOpened(),Ph(i,ud,e._onMouseDown),Ph(i,hd,e._onMouseUp),Ph(i,cd,e._onDocClick)})),this._hook("onOpen",{target:this._wrapper})}this._shouldPosition&&Tu(this,(function(){e._onResize()})),this._justOpened=!1,this._justClosed=!1,this._shouldPosition=!1}}else Tu(this,(function(){e.forceUpdate()}))},t.prototype._destroy=function(){this._isOpen&&(this._onClosed(),this._unlisten(),pf===this&&(pf=xf(this)))},t.prototype._onOpen=function(){var e=this;Th&&this._animation&&(this._isOpening=!0,this._isClosing=!1),this._justOpened=!0,this._preventClose=!1,this.s.setActive&&pf!==this&&setTimeout((function(){e._prevModal=pf,pf=e}))},t.prototype._onClose=function(){var e=this;Th&&this._animation?(this._isClosing=!0,this._isOpening=!1):setTimeout((function(){e._onClosed(),e.setState({isReady:!1})})),this._hasWidth=!1,this._unlisten()},t.prototype._onOpened=function(){var e=this.s;if(e.focusOnOpen){var t=e.activeElm,n=t?vu(t)?this._popup.querySelector(t)||this._active:t:this._active;n&&n.focus&&n.focus()}Ph(this._win,"keydown",this._onWndKeyDown),Ph(this._scrollCont,"scroll",this._onScroll)},t.prototype._onClosed=function(){var e=this,t=this._ctx,n=this._prevFocus,r=this.s.focusOnClose&&n&&n.focus&&n!==this._doc.activeElement;t.__mbscModals&&t.__mbscModals--,this._justClosed=!0,this._needsLock&&(t.__mbscIOSLock&&t.__mbscIOSLock--,t.__mbscIOSLock||(t.classList.remove("mbsc-popup-open-ios"),t.parentElement.classList.remove("mbsc-popup-open-ios"),t.style.left="",t.style.top="",function(e,t){e.scrollTo?e.scrollTo(t,e.scrollY):e.scrollLeft=t}(this._scrollCont,t.__mbscScrollLeft||0),function(e,t){e.scrollTo?e.scrollTo(e.scrollX,t):e.scrollTop=t}(this._scrollCont,t.__mbscScrollTop||0))),this._hasContext&&!t.__mbscModals&&t.classList.remove("mbsc-popup-ctx"),this._hook("onClosed",{focus:r}),r&&n.focus(),setTimeout((function(){pf===e&&(pf=xf(e))}))},t.prototype._unlisten=function(){Fh(this._win,"keydown",this._onWndKeyDown),Fh(this._scrollCont,"scroll",this._onScroll),Fh(this._scrollCont,"touchmove",this._onContentScroll,{passive:!1}),Fh(this._scrollCont,"wheel",this._onContentScroll,{passive:!1}),Fh(this._scrollCont,"mousewheel",this._onContentScroll,{passive:!1}),Fh(this._doc,ud,this._onMouseDown),Fh(this._doc,hd,this._onMouseUp),Fh(this._doc,cd,this._onDocClick),this.s.focusTrap&&Fh(this._win,"focusin",this._onFocus),this.s.focusElm&&Fh(this.s.focusElm,"keydown",this._onKeyDown),this._observer&&(this._observer.detach(),this._observer=null)},t.prototype._close=function(e){this._isOpen&&(void 0===this.s.isOpen&&this.setState({isOpen:!1}),this._hook("onClose",{source:e}))},t.defaults={buttonVariant:"flat",cancelText:"Cancel",closeOnEsc:!0,closeOnOverlayClick:!0,closeText:"Close",contentPadding:!0,display:"center",focusOnClose:!0,focusOnOpen:!0,focusTrap:!0,maxWidth:600,okText:"Ok",scrollLock:!0,setActive:!0,setText:"Set",showArrow:!0,showOverlay:!0},t}(sd);function Df(e,t,n){void 0===n&&(n=0),n>10?(delete e.__mbscTimer,t(e)):(clearTimeout(e.__mbscTimer),e.__mbscTimer=setTimeout((function(){e.getInputElement?e.getInputElement().then((function(r){r?(delete e.__mbscTimer,t(r)):Df(e,t,n+1)})):Df(e,t,n+1)}),10))}function kf(e,t){if(e)if(function(e){return e.getInputElement||e.tagName&&"ion-input"===e.tagName.toLowerCase()}(e))Df(e,t);else if(e.vInput)t(e.vInput.nativeElement);else if(e._el)t(e._el);else if(e.instance&&e.instance._el)t(e.instance._el);else if(1===e.nodeType)t(e);else if(vu(e)){var n=gh.querySelector(e);n&&t(n)}}function Cf(e,t,n,r){if(!e||1!==e.nodeType)return xu;var a,i=function(){(t.s.showOnClick||t.s.showOnFocus)&&m&&!t._allowTyping&&(p.readOnly=!0)},s=function(n){var a=t.s;i(),r&&r(n),!a.showOnClick||a.disabled||t._popup._isVisible&&e===t._popup._prevFocus||setTimeout((function(){t._focusElm=e,t._anchor=a.anchor||e,t.open()}))},o=function(e){t.s.showOnClick&&(t.s.showOnFocus&&(t._preventShow=!0),t._allowTyping||e.preventDefault())},l=function(e){t.s.showOnClick&&(t._isOpen?13===e.keyCode&&t._allowTyping&&e.stopPropagation():(32===e.keyCode&&e.preventDefault(),13!==e.keyCode&&32!==e.keyCode||s(e)))},c=function(e){i(),t.s.showOnFocus&&(t._preventShow?t._preventShow=!1:s(e))},u=function(){m&&(p.readOnly=a)},h=function(e){n&&n(e)},d=function(){f.document.activeElement===e&&(i(),t._preventShow=!0)},f=Uh(e),m=qh(e,"input,select"),p=e;return m&&(p.autocomplete="off",a=p.readOnly),Ph(e,cd,s),Ph(e,ud,o),Ph(e,"keydown",l),Ph(e,"focus",c),Ph(e,"blur",u),Ph(e,ld,h),Ph(f,"focus",d),function(){m&&(p.readOnly=a),Fh(e,cd,s),Fh(e,ud,o),Fh(e,"keydown",l),Fh(e,"focus",c),Fh(e,"blur",u),Fh(e,ld,h),Fh(f,"focus",d)}}var Tf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nullSupport=!0,t._onInputChange=function(e,n){var r=e.detail||(void 0!==n?n:e.target.value);if(r!==t._tempValueText&&!t._preventChange){t._readValue(r,!0),t._valueTextChange=r!==t._tempValueText;var a=gu(r)?null:t._get(t._tempValueRep);t.value=a,t._valueChange(a)}t._preventChange=!1},t._onResize=function(e){t._hook("onResize",e)},t._onWrapperResize=function(){t._wrapper&&t._onResize({windowWidth:t._wrapper.offsetWidth})},t._onPopupClose=function(e){/cancel|esc|overlay|scroll/.test(e.source)&&t._hook("onCancel",{value:t.value,valueText:t._valueText}),t.close()},t._onPopupClosed=function(e){e.focus&&(t._preventShow=!0),t._hook("onClosed",e),t._onClosed()},t._onPopupKey=function(e){13===e.keyCode&&t._onEnterKey(e)},t._onPopupOpen=function(e){e.value=t.value,e.valueText=t._valueText,t._hook("onOpen",e)},t._onButtonClick=function(e){var n=e.domEvent,r=e.button;"set"===r.name&&t.set(),t._popup&&t._popup._onButtonClick({domEvent:n,button:r})},t._setInput=function(e){t._el=e&&e.nativeElement?e.nativeElement:e},t._setPopup=function(e){t._popup=e},t._setWrapper=function(e){t._wrapper=e},t}return Sc(t,e),t.prototype.open=function(){this._inst?this._inst.open():void 0===this.s.isOpen&&this.setState({isOpen:!0})},t.prototype.close=function(){if("inline"!==this.s.display)if(this._inst)this._inst.close();else{var e={value:this.value,valueText:this._valueText};void 0===this.s.isOpen&&this.setState({isOpen:!1}),this._hook("onClose",e)}},t.prototype.set=function(){this._valueRep=this._copy(this._tempValueRep),this._valueText=this._tempValueText,this._value=this.value=this._get(this._valueRep),this._valueChange(this.value)},t.prototype.position=function(){this._inst?this._inst.position():this._popup&&this._popup.position()},t.prototype.isVisible=function(){return this._inst?this._inst.isVisible():!!this._popup&&this._popup.isVisible()},t.prototype.getVal=function(){return this._nullSupport&&gu(this._value)?this.s.selectMultiple?[]:null:this._get(this._valueRep)},t.prototype.setVal=function(e){this.value=e,this.setState({value:e})},t.prototype.getTempVal=function(){return this._get(this._tempValueRep)},t.prototype.setTempVal=function(e){this._tempValueSet=!0,this._tempValueRep=this._parse(e),this._setOrUpdate(!0)},t.prototype._shouldValidate=function(e,t){return!1},t.prototype._valueEquals=function(e,t){return e===t},t.prototype._change=function(e){},t.prototype._render=function(e,t){var n=this,r=this.props||{},a=this._respProps||{},i=this._prevS;this._touchUi||(e.display=a.display||r.display||Hc.display||"anchored",e.showArrow=a.showArrow||r.showArrow||!1),"bubble"===e.display&&(e.display="anchored"),this._scrollLock=e.scrollLock;var s=void 0!==e.isOpen?e.isOpen:t.isOpen,o=void 0!==e.modelValue?e.modelValue:e.value,l=void 0!==o?o:void 0===t.value?e.defaultValue:t.value;if(this._showInput=void 0!==e.showInput?e.showInput:"inline"!==e.display&&void 0===e.element,(!this._buttons||e.buttons!==i.buttons||e.display!==i.display||e.setText!==i.setText||e.cancelText!==i.cancelText||e.closeText!==i.closeText||e.touchUi!==i.touchUi)&&(this._buttons=Ef(this,e.buttons||("inline"===e.display||"anchored"===e.display&&!this._touchUi?[]:["cancel","set"])),this._live=!0,this._buttons&&this._buttons.length))for(var c=0,u=this._buttons;c<u.length;c++){var h=u[c];"ok"!==h.name&&"set"!==h.name||(this._live=!1)}if(!this._valueEquals(l,this._value)||void 0===this._tempValueRep||this._shouldValidate(e,i)||e.defaultSelection!==i.defaultSelection||e.invalid!==i.invalid||e.valid!==i.valid){this._readValue(l);var d=this._get(this._tempValueRep),f=!(this._valueEquals(l,d)||this._nullSupport&&gu(l));this._setHeader(),clearTimeout(this._handler),this._handler=setTimeout((function(){n.value=l,f&&n._valueChange(d),n._valueEquals(n._tempValue,d)||void 0!==n._inst||n._hook("onTempChange",{value:d})}))}if(e.headerText!==i.headerText&&this._setHeader(),s&&!this._isOpen){if(!this._tempValueSet||this._live){var m=this._get(this._tempValueRep),p=this._get(this._valueRep);this._tempValueRep=this._copy(this._valueRep),this._tempValueText=this._format(this._tempValueRep),this._tempValue=m,this._setHeader(),this._valueEquals(m,p)||setTimeout((function(){n._hook("onTempChange",{value:p})}))}this._onOpen()}this._allowTyping=e.inputTyping&&!Nc&&!this._touchUi,this._anchorAlign=e.anchorAlign||(this._touchUi?"center":"start"),this._cssClass="mbsc-picker "+(e.cssClass||""),this._isOpen=s,this._maxWidth=e.maxWidth,this._valueTextChange=this._valueTextChange||this._oldValueText!==this._valueText,this._oldValueText=this._valueText,this._value=l,this._shouldInitInput=this._shouldInitInput||void 0===i.display||"inline"===e.display&&"inline"!==i.display||"inline"!==e.display&&"inline"===i.display||e.element!==i.element},t.prototype._updated=function(){var e=this,t=this.s,n=this._input;this._shouldInitInput&&!this._inst&&(this._unlisten(),this._wrapper&&"inline"===t.display&&(this._observer=gf(this._wrapper,this._onWrapperResize,this._zone)),kf(t.element||this._el,(function(n){e._el=n,"inline"!==t.display&&(e._resetEl=Cf(n,e,e._onInputChange)),qh(n,"input,select")&&(e._input=n,e._write(n))}))),this._valueTextChange&&n&&this._write(n),setTimeout((function(){t.responsive&&"inline"!==t.display&&_h&&void 0===e.state.width&&e._onResize({windowWidth:_h.innerWidth})})),this._shouldInitInput=!1,this._valueTextChange=!1,this._anchor=t.anchor||this._focusElm||t.element||this._el},t.prototype._writeValue=function(e,t,n){var r=e.value;return e.value=t,r!==t},t.prototype._destroy=function(){this._unlisten(),this._shouldInitInput=!0},t.prototype._setHeader=function(){var e=this.s.headerText;this._headerText=e?e.replace(/\{value\}/i,this._tempValueText||"&nbsp;"):void 0},t.prototype._setOrUpdate=function(e){var t=this._get(this._tempValueRep);this._tempValue=t,this._tempValueText=this._format(this._tempValueRep),this._setHeader(),e||this._hook("onTempChange",{value:t}),this._live?this.set():this.forceUpdate()},t.prototype._copy=function(e){return e},t.prototype._format=function(e){return e},t.prototype._get=function(e){return e},t.prototype._parse=function(e,t){return e},t.prototype._validate=function(){},t.prototype._onClosed=function(){},t.prototype._onOpen=function(){},t.prototype._onParse=function(){},t.prototype._onEnterKey=function(e){this.set(),this.close()},t.prototype._valueChange=function(e){void 0===this.s.value&&this.setState({value:e}),this._change(e),this._hook("onChange",{value:e,valueText:this._tempValueText})},t.prototype._readValue=function(e,t){this._tempValueRep=this._parse(e,t),this._onParse(),this._validate(),this._tempValueText=this._format(this._tempValueRep),this._valueRep=this._copy(this._tempValueRep),this._valueText=gu(e)?"":this._tempValueText},t.prototype._unlisten=function(){this._resetEl&&(this._resetEl(),this._resetEl=void 0),this._observer&&(this._observer.detach(),this._observer=void 0)},t.prototype._write=function(e){var t=this,n=this._value;this._writeValue(e,this._valueText||"",n)&&setTimeout((function(){t._preventChange=!0,Gh(e,"input"),Gh(e,ld)}));var r=e.__mbscFormInst;r&&r.setOptions({pickerMap:this.s.valueMap,pickerValue:n})},t.defaults={cancelText:"Cancel",closeText:"Close",focusOnClose:"android"!==Cc,okText:"Ok",setText:"Set",showOnFocus:Nc},t}(sd);function If(e,t,n,r,a,i){var s=Yu(t);if(a&&+t<a||i&&+t>i)return!0;if(r&&r[s])return!1;var o=n&&n[s];if(o)for(var l=0,c=o;l<c.length;l++){var u=c[l],h=u.start,d=u.end,f=u.allDay;if(!h||!d||f)return u;var m=ju(e,f,h,d),p=Bu(e,t),v=Wu(e,m);if(!$u(h,d)&&(+h==+p||+m==+v||!$u(t,h)&&!$u(t,d)&&t>h&&t<d))return u}return!1}function Mf(e,t,n,r,a,i,s){var o,l,c=!0,u=!0,h=0,d=0;+e<n&&(e=rh(t,n)),+e>r&&(e=rh(t,r));var f=t.getYear(e),m=t.getMonth(e),p=t.getDate(f,m-1,1),v=t.getDate(f,m+2,1),g=+p>n?+p:n,_=+v<r?+v:r;if(a||(i=Ad(t.valid,p,v,t,!0),a=Ad(t.invalid,p,v,t,!0)),!If(t,e,a,i,n,r))return e;for(o=e,l=e;c&&+o<_&&h<100;)c=If(t,o=hh(o,1),a,i,n,r),h++;for(;u&&+l>g&&d<100;)u=If(t,l=hh(l,-1),a,i,n,r),d++;return c&&u?e:1!==s||c?-1!==s||u?Ju(e,o,t)&&!c?o:Ju(e,l,t)&&!u?l:u||d>=h&&!c?o:l:l:o}var Nf={},Lf=["calendar"],Rf=[{recurring:{repeat:"daily"}}];function Af(e){return"start"===e?"end":"start"}function Of(e,t){var n=Xu(new Date(e),t,void 0!==t.firstSelectDay?t.firstSelectDay:t.firstDay),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+t.selectSize-1);return{start:n,end:r}}var Pf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._iso={},t._remote=0,t._onActiveChange=function(e){t._active=e.date,t.forceUpdate()},t._onResize=function(e){var n=e.windowWidth;e.cancel=t.state.width!==n,t.setState({isLarge:e.isLarge,maxPopupWidth:e.maxPopupWidth,width:n,widthType:n>600?"md":"sm"})},t._onDayHoverIn=function(e){var n=e.date,r=e.hidden;t.setState({hoverDate:r?void 0:+n})},t._onDayHoverOut=function(e){var n=e.date;t.state.hoverDate===+n&&t.setState({hoverDate:void 0})},t._onCellClick=function(e){t._lastSelected=th(t.s,e.date),e.active=t._activeSelect,t._hook("onCellClick",e)},t._onCalendarChange=function(e){t._tempValueSet=!1;var n=t.s,r=t._copy(t._tempValueRep),a=function(e,t){return fu(e)?e.map(t):t(e,0,[e])}(e.value,(function(e){return th(n,e)})),i="preset-range"===n.select,s="range"===n.select,o=s&&t._newSelection,l=(s||i)&&n.exclusiveEndDates&&!t._hasTime;if(l&&r.end&&(r.end=+Bu(n,rh(n,r.end-1))),t._hasTime&&t._selectedTime&&!s)if(t.s.selectMultiple){var c=a[a.length-1];c&&c.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes())}else a.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes());if(s||i){var u=t._getDate(r),h=u.filter((function(e){return null!==e})),d=h.map((function(e){return+e})),f=h.map((function(e){return+qu(e)})),m=a.filter((function(e){return f.indexOf(+e)<0}))[0];if(i){if(m){var p=Of(+m,n),v=p.start,g=p.end;r.start=+v,r.end=+g}}else{var _=!t._hasTime,y=t._renderControls,b=t._activeSelect,w=Af(b);if(m){switch(t._hasTime&&t._selectedTime&&m.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes(),t._selectedTime.getSeconds(),t._selectedTime.getMilliseconds()),d.length){case 0:(r={})[b]=+m;break;case 1:if(y){r[b]=+m;break}d[0]>+m||"start"===t._activeSelect?t._hasTime?r[b]=+m:(r={start:+m},_=!1):r.end=+m;break;case 2:if(y){r[b]=+m;break}d[0]>+m||"start"===t._activeSelect?t._hasTime?r[b]=+m:(r={start:+m},"end"===t._activeSelect&&(_=!1)):"end"===t._activeSelect&&(r.end=+m)}y&&r.start&&r.end&&r.start>r.end&&(r={start:+m},t._setActiveSelect("end"))}else{var E=void 0;E=1===d.length?rh(n,d[0]):t._lastSelected,t._hasTime&&t._selectedTime?E.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes(),t._selectedTime.getSeconds(),t._selectedTime.getMilliseconds()):!n.exclusiveEndDates&&!t._hasTime&&"end"===t._activeSelect&&u[0]&&$u(E,u[0])&&E.setHours(23,59,59,999),y||t._hasTime?r[b]=+E:"start"===t._activeSelect?r={start:+E}:r.end=+E}if(r.start&&r.end){if(r.start>r.end){var x=rh(n,r.start),S=rh(n,r.end);$u(x,S)?(S.setHours(x.getHours(),x.getMinutes(),x.getSeconds(),x.getMilliseconds()),r.end=+S):r.end=void 0}if(n.minRange&&r.end){var D=t._hasTime?r.start+n.minRange:+hh(rh(n,r.start),n.minRange-1);r.end<D&&(!t._hasTime||"start"===b)&&(r.end=void 0)}if(n.maxRange&&r.end&&(D=t._hasTime?r.start+n.maxRange:+hh(rh(n,r.start),n.maxRange)-1,r.end>D&&(!t._hasTime||"start"===b)&&(r.end=void 0)),r.end&&"start"===b&&!n.inRangeInvalid){var k=n.valid?hh(Nd(n.valid,rh(n,r.start),n),1):Md(n.invalid||[],rh(n,r.start),n);null!==k&&+k<r.end&&(r.end=void 0)}}_&&(t._newSelection||!t._renderControls||void 0===t._newSelection&&"inline"===t.s.display)&&(t._setActiveSelect(w),t._newSelection=!1)}}else if(r={date:{}},t.s.selectMultiple)for(var C=0,T=a;C<T.length;C++){var I=T[C];r.date[+I]=I}else{if(t._hasTime){var M=t._selectedTime||new Date;a.setHours(M.getHours(),M.getMinutes(),M.getSeconds(),M.getMilliseconds())}r.date[+a]=a}t._tempValueRep=r,l&&r.end&&(r.end=+Bu(n,hh(rh(n,r.end),1))),t._setOrUpdate(),!t._live||t.s.selectMultiple&&!s||t._hasTime||s&&(!r.start||!r.end||o)||t.close()},t._onDatetimeChange=function(e){var n=t.s,r="range"===n.select,a=th(n,e.value),i=t._hasTime?a:qu(a),s=+i;t._tempValueSet=!1;var o=t._copy(t._tempValueRep),l=r&&n.exclusiveEndDates&&!t._hasTime;if(l&&o.end&&(o.end=+Bu(n,rh(n,o.end-1))),r)if("start"===t._activeSelect){if(t._hasTime&&t._selectedTime&&i.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes(),t._selectedTime.getSeconds(),t._selectedTime.getMilliseconds()),o.start=s,o.end){var c=n.minRange&&!t._hasTime?24*(n.minRange-1)*60*60*1e3-1:n.minRange||0;o.end-o.start<c&&(o.end=void 0)}}else t._hasTime?t._selectedTime&&i.setHours(t._selectedTime.getHours(),t._selectedTime.getMinutes(),t._selectedTime.getSeconds(),t._selectedTime.getMilliseconds()):o.start!==+qu(i)||n.exclusiveEndDates||i.setHours(23,59,59,999),o.end=+i;else{if(t._hasTime&&t._hasDate&&n.controls.indexOf("datetime")<0){var u=t._selectedTime||new Date;i.setHours(u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds())}else t._selectedTime=rh(n,i);(o={date:{}}).date[+i]=i}t._tempValueRep=o,l&&o.end&&(o.end=+Bu(n,hh(rh(n,o.end),1))),t._setOrUpdate()},t._onTimePartChange=function(e){t._tempValueSet=!1;var n=t.s,r="range"===n.select,a=th(n,e.value);if(t._selectedTime=a,r){var i=t._getDate(t._tempValueRep),s="start"===t._activeSelect?0:1;i[s]?((o=rh(n,i[s])).setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),i[s]=o,"start"===t._activeSelect&&+o>+i[1]&&(i.length=1),t._tempValueRep=t._parse(i)):t._selectedTime.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}else if(!n.selectMultiple){var o;(o=t._getDate(t._tempValueRep))?(o.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t._tempValueRep={date:{}},t._tempValueRep.date[+o]=o):(t._selectedTime.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t._live&&t.forceUpdate())}t._setOrUpdate()},t._changeActiveTab=function(e){t.setState({activeTab:e.target.value})},t._changeActiveSelect=function(e){var n=e.target.value;t._setActiveSelect(n),t.setActiveDate(n)},t._clearEnd=function(){t._tempValueRep.end=void 0,t._hasTimegrid&&(t._selectedTime=void 0),t._setOrUpdate()},t._clearStart=function(){t._tempValueRep={},t._newSelection=!0,t._hasTimegrid&&(t._selectedTime=void 0),t._setOrUpdate()},t._onInputClickRange=function(e){var n=e.target===t._startInput||t._renderControls?"start":"end";t._setActiveSelect(n)},t._onInputChangeRange=function(e){var n=t._startInput,r=t._endInput,a=(n?n.value:"")+(r&&r.value?" - "+r.value:"");t._onInputChange(e,a)},t}return Sc(t,e),t.prototype.setActiveDate=function(e){var t=Af(e);this._activeSelect=e;var n=this._tempValueRep[e],r=this._tempValueRep[t];this._tempValueRep.start&&this._tempValueRep.end||!n&&r?this._newSelection=!1:n&&!r&&(this._newSelection=!0),n&&(this._active=n),!n&&this._hasTimegrid&&(this._selectedTime=void 0),this.forceUpdate()},t.prototype.getTempVal=function(){return e.prototype.getTempVal.call(this)},t.prototype.setTempVal=function(t){e.prototype.setTempVal.call(this,t)},t.prototype.navigate=function(e){this._active=+ah(e),this.forceUpdate()},t.prototype._shouldValidate=function(e,t){return e.controls!==t.controls||e.dataTimezone!==t.dataTimezone||e.displayTimezone!==t.displayTimezone||e.dateFormat!==t.dateFormat||e.timeFormat!==t.timeFormat||e.locale!==t.locale||e.min!==t.min||e.max!==t.max},t.prototype._valueEquals=function(e,t){var n=fu(e)&&0===e.length||null==e,r=fu(t)&&0===t.length||null==t;return n&&n===r||ch(e,t,this.s)},t.prototype.setVal=function(t){if("range"===this.s.select&&t){var n=t[0],r=t[1];this._savedStartValue=+ah(n,this.s,this._valueFormat),this._savedEndValue=+ah(r,this.s,this._valueFormat)}e.prototype.setVal.call(this,t)},t.prototype._render=function(t,n){var r=this;t.inRangeInvalid&&(t.rangeEndInvalid=!1),"preset-range"===t.select&&(t.controls=Lf),void 0===t.exclusiveEndDates&&(t.exclusiveEndDates=!!t.displayTimezone);var a=this._hasTime,i=this._hasDate=!!Iu(t.controls,(function(e){return/date|calendar/.test(e)})),s=this._hasTime=!!Iu(t.controls,(function(e){return/time/.test(e)}));s||(t.timezonePlugin=t.dataTimezone=t.displayTimezone=void 0),!t.valid||t.invalid&&!s||(t.invalid=Rf);var o=this._prevS;t.buttons;var l=t.calendarSize;t.children,t.className;var c=t.controls;t.cssClass,t.element,t.modelValue,t.onDestroy,t.onInit,t.onTempChange,t.responsive;var u=t.select,h=t.selectMultiple,d=t.tabs,f=kc(t,["buttons","calendarSize","children","className","controls","cssClass","element","modelValue","onDestroy","onInit","onTempChange","responsive","select","selectMultiple","tabs"]),m=n.widthType||"sm",p="date"!==u;if(this._renderTabs=c.length>1&&("auto"===d?"sm"===m:d),u!==o.select&&this._tempValueRep)if(p&&this._tempValueRep.date){var v=Object.keys(this._tempValueRep.date).map((function(e){return+e})).sort(),g=v[0],_=v[1];this._tempValueRep.start=g,this._tempValueRep.end=_,this._tempValueRep.date=void 0,this._tempValueText=this._format(this._tempValueRep),setTimeout((function(){r.set()}))}else if(!p&&(this._tempValueRep.start||this._tempValueRep.end)){this._tempValueRep.date||(this._tempValueRep.date={});var y=this._tempValueRep.start||this._tempValueRep.end;this._tempValueRep.date[y]=new Date(y);var b=this._tempValueRep.end||this._tempValueRep.start;b!==y&&t.selectMultiple&&(this._tempValueRep.date[b]=new Date(b)),this._tempValueRep.start=void 0,this._tempValueRep.end=void 0,this._tempValueText=this._format(this._tempValueRep),setTimeout((function(){r.set()}))}t.min!==o.min&&(this._min=gu(t.min)?void 0:ah(t.min,t,t.dateFormat)),t.max!==o.max&&(this._max=gu(t.max)?void 0:ah(t.max,t,t.dateFormat)),t.minTime!==o.minTime&&(this._minTime=gu(t.minTime)?void 0:ah(t.minTime,t,t.timeFormat)),t.maxTime!==o.maxTime&&(this._maxTime=gu(t.maxTime)?void 0:ah(t.maxTime,t,t.timeFormat));var w=this._tempValueRep&&this._tempValueRep.end,E=this._tempValueRep&&this._tempValueRep.start,x=(i?t.dateFormat:"")+(s?(i?t.separator:"")+t.timeFormat:""),S=JSON.stringify(c)!==JSON.stringify(o.controls);if(S){this._controls=[],this._controlsClass="";var D={c:"datepicker",controls:c,dateFormat:t.dateFormat,dateText:t.dateText,separator:t.separator,timeFormat:t.timeFormat,timeText:t.timeText,v:"5.30.1"};this._remote++,uf(this),df("remote",this,D,(function(e){if(r._remote--,!r._remote){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var l=0,c=r._controls;l<c.length;l++){var u=c[l];u.Component=Nf["calendar"===u.name?"Calendar":"timegrid"===u.name?"Timegrid":"Datetime"],r._controlsClass+=" mbsc-datepicker-control-"+u.name}if(hf(e.notification),s||(r._selectedTime=void 0),S&&p&&t.exclusiveEndDates&&s!==a&&(w||E)){var h=r._savedStartValue,d=r._savedEndValue;setTimeout((function(){if(s)r._tempValueRep.start=h||E,r._tempValueRep.end=d||w;else{r._savedStartValue=E,r._savedEndValue=w,r._clearSaved=!1;var e=Dc({},t,{dataTimezone:r.props.dataTimezone,displayTimezone:r.props.displayTimezone,timezonePlugin:r.props.timezonePlugin});if(E&&(r._tempValueRep.start=+nh(Bu(e,rh(e,E)))),w){var n=rh(e,w-1);r._tempValueRep.end=+nh(rh(e,+Wu(e,n)+1))}}r._valueText=r._tempValueText=r._format(r._tempValueRep),r._valueTextChange=!0,r.set()})),r._valueTextChange=!1}r.forceUpdate()}}),"comp_"+this._uid),this._hasCalendar=-1!==c.indexOf("calendar")}this._renderControls=p&&"preset-range"!==u&&(void 0===t.showRangeLabels||t.showRangeLabels),this._nullSupport="inline"!==t.display||"date"!==u||!0===t.selectMultiple,this._valueFormat=x,this._activeTab=n.activeTab||c[0],e.prototype._render.call(this,t,n);var k,C=void 0!==t.value?t.value!==o.value:n.value!==this._prevStateValue;if(p&&this._clearSaved&&C&&(this._savedEndValue=this._savedStartValue=void 0),this._clearSaved=!0,t.headerText===o.headerText&&t.selectCounter===o.selectCounter&&t.selectMultiple===o.selectMultiple||this._setHeader(),this._scrollLock=void 0!==t.scrollLock?t.scrollLock:!this._hasTimegrid,this._showInput=void 0!==t.showInput?t.showInput:this._showInput&&(!p||!t.startInput&&!t.endInput),this._shouldInitInputs=this._shouldInitInputs||u!==o.select||t.startInput!==o.startInput||t.endInput!==o.endInput,this._shouldInitInput=this._shouldInitInput||this._shouldInitInputs,S||t.dateWheels!==o.dateWheels||t.timeWheels!==o.timeWheels||t.dateFormat!==o.dateFormat||t.timeFormat!==o.timeFormat){var T=t.dateWheels||t.dateFormat,I=t.timeWheels||t.timeFormat,M=this._iso={};i&&(/y/i.test(T)&&(M.y=1),/M/.test(T)&&(M.y=1,M.m=1),/d/i.test(T)&&(M.y=1,M.m=1,M.d=1)),s&&(/h/i.test(I)&&(M.h=1),/m/.test(I)&&(M.i=1),/s/i.test(I)&&(M.s=1))}if(p?(void 0===this._activeSelect&&this._setActiveSelect("start",!0),k=this._selectionNotReady()):(this._activeSelect=void 0,k=!1),this._buttons){var N=Iu(this._buttons,(function(e){return"set"===e.name}));N&&N.disabled!==k&&(N.disabled=k,this._buttons=this._buttons.slice())}var L=this._activeSelect;this._needsWidth=("anchored"===t.display||"center"===t.display||"inline"!==t.display&&n.isLarge||c.length>1&&!d)&&void 0===t.width;var R=void 0!==t.max?ah(t.max,t,x):void 0,A=void 0!==t.min?ah(t.min,t,x):void 0;this._maxLimited=R,this._minLimited=A;var O=this._tempValueRep.start;if(O&&(this._prevStart!==O||o.valid!==t.valid||o.invalid!==t.invalid)){var P=rh(t,O);this._nextInvalid=t.valid?hh(Nd(t.valid,P,t),1):Md(t.invalid||[],P,t)}var F="end"===L&&O;if(F){if(!t.inRangeInvalid){var V=this._nextInvalid;V&&(t.rangeEndInvalid?this._maxLimited=rh(t,+hh(V,1)-1):this._maxLimited=rh(t,+V-1))}this._hasCalendar&&!s||(!this._minLimited||ah(this._minLimited,t,x)<rh(t,O))&&(this._minLimited=rh(t,this._tempValueRep.start))}if(this._minTimeLimited=this._minLimited,F){if(t.minRange){var z=s?this._tempValueRep.start+t.minRange:+hh(rh(t,this._tempValueRep.start),t.minRange)-1;(!this._minLimited||+ah(this._minLimited,t,x)<z)&&(this._minLimited=rh(t,z),this._minTimeLimited=this._minLimited)}if(void 0===this._minTimeLimited&&this._tempValueRep.start&&this._tempValueRep.end&&(this._minTimeLimited=rh(t,+this._tempValueRep.start)),void 0!==t.maxRange){var H=s?this._tempValueRep.start+t.maxRange:+hh(rh(t,this._tempValueRep.start),t.maxRange)-1;(!this._maxLimited||+ah(this._maxLimited,t,x)>H)&&(this._maxLimited=rh(t,H))}}for(var U=0,B=this._controls;U<B.length;U++){var W=B[U],j=Dc({},f,{display:"inline",isOpen:t.isOpen||n.isOpen,max:this._maxLimited,min:this._minLimited});if(t.rangeEndInvalid&&F&&this._nextInvalid&&(j.valid=(j.valid||[]).concat([this._nextInvalid])),"calendar"===W.name){j.min=this._minLimited?qu(this._minLimited):void 0,j.max=this._maxLimited?qu(this._maxLimited):void 0,j.selectRange=p,j.width=this._needsWidth?296*Wd(t.pages,n.maxPopupWidth):void 0,"week"===t.calendarType&&l?j.weeks=l:j.size=l;var Y="auto"===t.pages?3:t.pages||1;if(this._maxWidth=t.maxWidth||(Y>2?296*Y:void 0),p){var q=this._getDate(this._tempValueRep),K=q[1];K&&t.exclusiveEndDates&&!s&&(q[1]=rh(t,+K-1));var G=q.filter((function(e){return null!==e})).map((function(e){return+qu(e)})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return new Date(e)}));if(j.value=G,t.rangeHighlight)if(j.rangeStart=q[0]&&+qu(nh(q[0])),j.rangeEnd=q[1]&&+qu(nh(q[1])),j.onDayHoverIn=this._onDayHoverIn,j.onDayHoverOut=this._onDayHoverOut,"preset-range"===u){if(n.hoverDate){var Q=Of(n.hoverDate,t);g=Q.start,_=Q.end,j.hoverStart=+g,j.hoverEnd=+_}}else"end"===L&&q[0]&&(j.hoverStart=j.rangeEnd||j.rangeStart,j.hoverEnd=n.hoverDate),"start"===L&&q[1]&&this._renderControls&&(j.hoverStart=n.hoverDate,j.hoverEnd=j.rangeStart||j.rangeEnd)}else j.selectMultiple=h,j.value=this._getDate(this._tempValueRep);for(var X=fu(j.value)?j.value:[j.value],$=j.min?+j.min:-1/0,J=j.max?+j.max:1/0,Z=void 0,ee=0,te=X;ee<te.length;ee++){var ne=te[ee];!Z&&ne>=$&&ne<=J&&(Z=+ne)}!Z&&p&&X.length&&(Z=+X[0]),Z===this._selectedDate&&void 0!==this._active&&t.min===o.min&&t.max===o.max||(this._selectedDate=Z,this._active=Z?+qu(new Date(Z)):hu(this._active||+qu(new Date),$,J));var re=t.dateWheels||t.dateFormat,ae=/d/i.test(re)?"page":/m/i.test(re)?"year":/y/i.test(re)?"multi-year":"page";j.active=this._active,j.onActiveChange=this._onActiveChange,j.onChange=this._onCalendarChange,j.onCellClick=this._onCellClick,j.onCellHoverIn=this._proxyHook,j.onCellHoverOut=this._proxyHook,j.onLabelClick=this._proxyHook,j.onPageChange=this._proxyHook,j.onPageLoaded=this._proxyHook,j.onPageLoading=this._proxyHook,j.selectView=ae}else{var ie=Object.keys(this._tempValueRep.date||{});if(j.displayStyle="bottom"!==t.display&&"top"!==t.display||!this._hasCalendar&&!this._renderTabs?t.display:"center",j.mode=W.name,"time"!==W.name&&"timegrid"!==W.name||!i)if(j.onChange=this._onDatetimeChange,p){var se=this._tempValueRep[L],oe=this._tempValueRep[Af(L)];j.value=se?rh(t,se):oe?rh(t,oe):null,"end"===L&&t.exclusiveEndDates&&!s&&(j.value=rh(t,+j.value-1))}else{var le=this._tempValueRep.date&&this._tempValueRep.date[ie[0]],ce=le;le&&(s||(ce=qu(le))),j.value=ce||null}else{if(j.onChange=this._onTimePartChange,p){var ue=this._tempValueRep[L],he=void 0;this._selectedTime&&(!this._minTimeLimited||this._selectedTime>this._minTimeLimited?he=this._selectedTime:(he=rh(t,this._minTimeLimited)).setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),this._selectedTime.getSeconds(),this._selectedTime.getMilliseconds()));var de=rh(t);de.setSeconds(0,0),this._selectedTime=ue?rh(t,ue):he||("time"===W.name?de:void 0),j.value=this._selectedTime}else if(!t.selectMultiple){var fe=this._tempValueRep.date&&this._tempValueRep.date[ie[0]]||this._selectedTime;this._selectedTime=j.value=fe}j.min=this._minTimeLimited,j.max=this._maxLimited}if("time"===W.name||"timegrid"===W.name){var me=j.value||ph(new Date,j.min,j.max);if(this._minTime){var pe=this._minTime;$=new Date(me.getFullYear(),me.getMonth(),me.getDate(),pe.getHours(),pe.getMinutes(),pe.getSeconds(),pe.getMilliseconds()),(!j.min||$>j.min)&&(j.min=$)}if(this._maxTime){var ve=this._maxTime;J=new Date(me.getFullYear(),me.getMonth(),me.getDate(),ve.getHours(),ve.getMinutes(),ve.getSeconds(),ve.getMilliseconds()),(!j.max||J<j.max)&&(j.max=J)}}}W.options=j}this._prevStart=this._tempValueRep.start,this._prevStateValue=n.value},t.prototype._updated=function(){var t=this,n=this.s;if(this._shouldInitInputs){if(this._resetInputs(),"range"===n.select){var r=n.startInput;r&&this._setupInput("start",r);var a=n.endInput;a&&this._setupInput("end",a),!n.element||this._startInput!==n.element&&this._endInput!==n.element||(this._shouldInitInput=!1,clearTimeout(n.element.__mbscTimer))}this._shouldInitInputs=!1}var i=this._valueTextChange;if(e.prototype._updated.call(this),"range"===n.select&&i){var s=function(e,n){e.value=n,setTimeout((function(){t._preventChange=!0,Gh(e,"input"),Gh(e,ld)}))};this._startInput&&s(this._startInput,this._getValueText("start")),this._endInput&&s(this._endInput,this._getValueText("end"))}},t.prototype._onEnterKey=function(t){this._selectionNotReady()||e.prototype._onEnterKey.call(this,t)},t.prototype._setupInput=function(e,t){var n=this;kf(t,(function(t){var r=Cf(t,n,n._onInputChangeRange,n._onInputClickRange);"start"===e?(n._startInput=t,n._resetStartInput=r):(n._endInput=t,n._resetEndInput=r);var a=n._getValueText(e),i=a!==t.value;t.value=a,i&&setTimeout((function(){n._preventChange=!0,Gh(t,"input"),Gh(t,ld)}))}))},t.prototype._destroy=function(){this._resetInputs(),e.prototype._destroy.call(this)},t.prototype._setHeader=function(){var t=this.s;if(t.selectCounter&&t.selectMultiple){var n=Object.keys(this._tempValueRep&&this._tempValueRep.date||{}).length;this._headerText=(n>1&&t.selectedPluralText||t.selectedText).replace(/{count}/,""+n)}else e.prototype._setHeader.call(this)},t.prototype._validate=function(){if(!(this._max<=this._min)){var e=this.s,t=this._min?+this._min:-1/0,n=this._max?+this._max:1/0;if("date"===e.select){var r=this._tempValueRep.date;if(!e.selectMultiple)for(var a=0,i=Object.keys(r);a<i.length;a++){var s=i[a],o=r[s],l=Mf(o,e,t,n);+l!=+o&&(delete r[s],r[+qu(l)]=l)}}else{var c=this._getDate(this._tempValueRep),u=c[0],h=c[1];u&&(u=Mf(u,e,t,n),e.inRangeInvalid||this._prevStart&&this._prevStart===+u||(this._nextInvalid=e.valid?hh(Nd(e.valid,u,e),1):Md(e.invalid||[],u,e))),h&&(h=!e.inRangeInvalid&&this._nextInvalid&&this._nextInvalid<=h?e.rangeEndInvalid?this._nextInvalid:hh(this._nextInvalid,-1):Mf(h,e,t,n)),u&&h&&u>h&&("end"===this._activeSelect?u=h:h=u),u&&(this._prevStart=this._tempValueRep.start=+u),h&&(this._tempValueRep.end=+h)}}},t.prototype._copy=function(e){var t=e.date?Dc({},e.date):e.date;return Dc({},e,{date:t})},t.prototype._format=function(e){var t=this.s,n=[];if(!t)return"";if("date"===t.select){var r=e.date;for(var a in r)void 0!==r[a]&&null!==r[a]&&n.push(oh(this._valueFormat,r[a],t));return t.selectMultiple?n.join(", "):n[0]}if(e.start&&n.push(oh(this._valueFormat,rh(t,e.start),t)),e.end){n.length||n.push("");var i=rh(t,e.end-(t.exclusiveEndDates&&!this._hasTime?1:0));n.push(oh(this._valueFormat,i,t))}return this._tempStartText=n[0]||"",this._tempEndText=n[1]||"",n.join(" - ")},t.prototype._parse=function(e,t){var n=this.s,r={},a="date"!==n.select,i=n.selectMultiple,s=[];if(gu(e)){var o=n.defaultSelection;e=i||a?o:null===o||this._live&&"inline"!==n.display?null:o||new Date}if(vu(e)&&(a||i)?s=e.split(a?" - ":","):fu(e)?s=e:e&&!fu(e)&&(s=[e]),a){var l=s[0],c=s[1],u=ah(l,n,this._valueFormat,this._iso),h=ah(c,n,this._valueFormat,this._iso);r.start=u?+u:void 0,r.end=h?+h:void 0}else{r.date={};for(var d=0,f=s;d<f.length;d++){var m=f[d];if(!gu(m)){var p=ah(m,n,this._valueFormat,this._iso,t);if(p){t&&(p=th(n,p));var v=+qu(p);r.date[v]=p,this._hasTime&&(this._selectedTime=new Date(p))}}}}return r},t.prototype._getDate=function(e){var t=this.s;if("date"!==t.select){var n=e.start?rh(t,e.start):null,r=e.end?rh(t,e.end):null;return n||r?[n,r]:[]}if(t.selectMultiple){var a=[],i=e.date;if(i)for(var s=0,o=Object.keys(i);s<o.length;s++){var l=o[s];a.push(rh(t,+l))}return a}var c=Object.keys(e.date||{});return c.length?rh(t,e.date[c[0]]):null},t.prototype._get=function(e){var t=this,n=this.s,r=this._valueFormat,a=this._iso,i=this._getDate(e);return fu(i)?i.map((function(e){return e?ih(e,n,r,a,t._hasTime):null})):null===i?null:ih(i,n,r,a,this._hasTime)},t.prototype._onClosed=function(){this._active=this._activeSelect=void 0,this._hasTimegrid&&(this._selectedTime=void 0)},t.prototype._onOpen=function(){this._newSelection=!0},t.prototype._resetInputs=function(){this._resetStartInput&&(this._resetStartInput(),this._resetStartInput=void 0),this._resetEndInput&&(this._resetEndInput(),this._resetEndInput=void 0)},t.prototype._getValueText=function(e){return this._valueText.split(" - ")["start"===e?0:1]||""},t.prototype._selectionNotReady=function(){var e=!1;if("range"===this.s.select){var t=(this._get(this._tempValueRep||{})||[]).filter((function(e){return e}));(e=!t.length)||(e=this._hasCalendar&&!this._hasTime||this._renderControls?t.length<2:!this._tempValueRep[this._activeSelect])}return e},t.prototype._setActiveSelect=function(e,t){var n=this;this._activeSelect!==e&&(t?setTimeout((function(){return n._hook("onActiveDateChange",{active:e})})):this._hook("onActiveDateChange",{active:e})),this._activeSelect=e},t.defaults=Dc({},Pu,Tf.defaults,{activeElm:'.mbsc-calendar-cell[tabindex="0"]',controls:Lf,dateText:"Date",inRangeInvalid:!1,inputTyping:!0,rangeEndHelp:"Please select",rangeEndLabel:"End",rangeHighlight:!0,rangeStartHelp:"Please select",rangeStartLabel:"Start",select:"date",selectSize:7,selectedText:"{count} selected",showOnClick:!0,timeText:"Time"}),t._name="Datepicker",t}(Tf),Ff=function(){function e(){this.pageSize=0,this._prevS={},this._s={}}return e.prototype.options=function(e,t){var n=this._s=Dc({},this._s,e),r=this._prevS,a=n.getDate,i=n.getYear,s=n.getMonth,o=n.showCalendar,l=n.calendarType,c=n.startDay,u=n.endDay,h=n.firstDay,d="week"===l,f=o?d?n.weeks:6:0,m=n.min===r.min&&this.minDate?this.minDate:gu(n.min)?-1/0:ah(n.min),p=n.max===r.max&&this.maxDate?this.maxDate:gu(n.max)?1/0:ah(n.max),v=n.activeDate||+new Date,g=hu(v,+m,+p),_=this.forcePageChange||g!==v,y=new Date(g),b=g!==r.activeDate,w=n.calendarType!==r.calendarType||n.eventRange!==r.eventRange||n.firstDay!==r.firstDay||n.eventRangeSize!==r.eventRangeSize||n.refDate!==r.refDate||o!==r.showCalendar||n.size!==r.size||n.weeks!==r.weeks,E=_||void 0===this.pageIndex||w||!this.preventPageChange&&b&&(g<+this.firstDay||g>=+this.lastDay)?Vd(y,n):this.pageIndex,x="year"===l?12:n.size||1,S=x>1&&!d,D=S?1:Wd(n.pages,this.pageSize),k="vertical"===n.calendarScroll&&"auto"!==n.pages&&(void 0===n.pages||1===n.pages),C=void 0!==n.showOuterDays?n.showOuterDays:!k&&D<2&&(d||!x||x<2),T=S?0:1,I=Fd(E,n),M=Fd(E+D,n);o||"week"!==n.eventRange||void 0===c||void 0===u||(I=hh(I,c-h+(c<h?7:0)),M=hh(I,7*n.eventRangeSize+u-c+1-(u<c?0:7)));var N=o&&C?Xu(I,n):I,L=S?a(i(M),s(M)-1,1):Fd(E+D-1,n),R=o&&C?hh(Xu(L,n),7*f):M,A=o?Xu(Fd(E-T,n),n):I,O=o?Xu(Fd(E+D+T-1,n),n):M,P=o?hh(S?Xu(L,n):O,7*f):M,F=void 0===this.pageIndex,V=A,z=P;if(!o&&"week"===n.resolution&&("year"===n.eventRange||"month"===n.eventRange)){var H=u-c+1+(u<c?7:0);if(I.getDay()!==c&&(V=(B=hh(U=Xu(I,n,c),H))<=I?hh(U,7):U),M.getDay()!==c){var U,B=hh(U=Xu(M,n,c),H);z=U>M?hh(B,-7):B}}var W=!1;void 0!==E&&(W=+V!=+this.viewStart||+z!=+this.viewEnd,this.pageIndex=E),this.firstDay=I,this.lastDay=M,this.firstPageDay=N,this.lastPageDay=R,this.viewStart=V,this.viewEnd=z,this.forcePageChange=!1,this.preventPageChange=!1,this.minDate=m,this.maxDate=p,this._prevS=n,void 0!==E&&(W||t)&&(W&&!F&&this.pageChange(),this.pageLoading(W))},e.prototype.pageChange=function(){this._s.onPageChange&&this._s.onPageChange({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:"month"===this._s.calendarType?this.firstDay:void 0,type:"onPageChange",viewEnd:this.viewEnd,viewStart:this.viewStart})},e.prototype.pageLoading=function(e){this._s.onPageLoading&&this._s.onPageLoading({firstDay:this.firstPageDay,lastDay:this.lastPageDay,month:"month"===this._s.calendarType?this.firstDay:void 0,type:"onPageLoading",viewChanged:e,viewEnd:this.viewEnd,viewStart:this.viewStart})},e}(),Vf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._navService=new Ff,t._update=0,t._onDayClick=function(e){var n=t.s,r=th(n,e.date),a=+r;if(!e.disabled){if(n.selectMultiple){var i=t._tempValueRep;i[a]?delete i[a]:(void 0===n.selectMax||Object.keys(i).length<n.selectMax)&&(i[a]=r),t._tempValueRep=Dc({},i)}else n.selectRange||(t._tempValueRep={}),t._tempValueRep[a]=r;t._navService.preventPageChange=n.selectRange,t._hook("onCellClick",e),t._setOrUpdate()}},t._onTodayClick=function(){var e=new Date,n=+qu(e);t.s.selectRange||t.s.selectMultiple||(t._tempValueRep={},t._tempValueRep[n]=e,t._setOrUpdate())},t._onActiveChange=function(e){t._navService.forcePageChange=e.pageChange,t._update++,t._hook("onActiveChange",e)},t._setCal=function(e){t._calendarView=e},t}return Sc(t,e),t.prototype._valueEquals=function(e,t){return ch(e,t,this.s)},t.prototype._shouldValidate=function(e,t){return e.dataTimezone!==t.dataTimezone||e.displayTimezone!==t.displayTimezone},t.prototype._render=function(t,n){e.prototype._render.call(this,t,n),this._navService.options({activeDate:t.active,calendarType:t.calendarType,firstDay:t.firstDay,getDate:t.getDate,getDay:t.getDay,getMonth:t.getMonth,getYear:t.getYear,max:t.max,min:t.min,onPageChange:t.onPageChange,onPageLoading:t.onPageLoading,pages:t.pages,refDate:t.refDate,showCalendar:!0,showOuterDays:t.showOuterDays,size:t.size,weeks:t.weeks})},t.prototype._copy=function(e){return Dc({},e)},t.prototype._format=function(e){var t=this.s,n=[];for(var r in e)void 0!==e[r]&&null!==e[r]&&n.push(oh(t.dateFormat,new Date(+e[r]),t));return t.selectMultiple||t.selectRange?n.join(", "):n[0]},t.prototype._parse=function(e){var t=this.s,n=t.selectRange,r={},a=[];vu(e)?a=e.split(","):fu(e)?a=e:e&&!fu(e)&&(a=[e]);for(var i=0,s=a;i<s.length;i++){var o=s[i];if(null!==o){var l=ah(o,t,t.dateFormat);r[n?+l:+qu(l)]=l}}return r},t.prototype._get=function(e){var t=this.s,n=t.selectRange;if(this.s.selectMultiple||n){for(var r=[],a=0,i=Object.keys(e);a<i.length;a++){var s=i[a];r.push(rh(t,+e[s]))}return r}var o=Object.keys(e||{});return o.length?rh(t,e[o[0]]):null},t.defaults=Dc({},Pd,{calendarScroll:"horizontal",calendarType:"month",selectedText:"{count} selected",showControls:!0,showOnClick:!0,weeks:1}),t._name="Calendar",t}(Tf),zf=function(){function e(){this.onInstanceReady=new Ic,this.onComponentChange=new Ic}return Object.defineProperty(e.prototype,"instance",{get:function(){return this.inst},set:function(e){this.inst=e,this.onInstanceReady.next(e)},enumerable:!0,configurable:!0}),e}(),Hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={height:"sm",pageSize:0,pickerSize:0,width:"sm"},t._dim={},t._months=[1,2,3],t._title=[],t.PAGE_VIEW="page",t.MONTH_VIEW="month",t.YEAR_VIEW="year",t.MULTI_YEAR_VIEW="multi-year",t.nextPage=function(){switch(t._prevDocClick(),t._view){case"month":t._activeMonthChange(1);break;case"multi-year":t._activeYearsChange(1);break;case"year":t._activeYearChange(1);break;default:t._activeChange(1)}},t.prevPage=function(){switch(t._prevDocClick(),t._view){case"month":t._activeMonthChange(-1);break;case"multi-year":t._activeYearsChange(-1);break;case"year":t._activeYearChange(-1);break;default:t._activeChange(-1)}},t._changeView=function(e){var n=t.s,r=t._view,a=t._hasPicker,i=n.selectView,s=n.navView,o=n.showCalendar&&"year"===n.calendarType;if(!e){switch(r){case"page":e=s||(o?"multi-year":"year");break;case"month":e="year";break;case"multi-year":e=o||"multi-year"===s?"page":"year";break;default:e=a&&"year"===s||"year"===i||"multi-year"!==t._prevView?"multi-year":"month"===s?"month":"page"}"multi-year"!==i&&"multi-year"!==s||(e="multi-year")}"page"===r&&(t._activeMonth=t._active);var l=a&&e===i;t._prevView=r,t.setState({view:e,viewClosing:l?void 0:r,viewOpening:l?void 0:e})},t._onDayHoverIn=function(e){t._disableHover||(t._hook("onDayHoverIn",e),t._hoverTimer=setTimeout((function(){var n=Yu(e.date);t._labels&&(e.labels=t._labels[n]),t._marked&&(e.marked=t._marked[n]),t._isHover=!0,t._hook("onCellHoverIn",e)}),150))},t._onDayHoverOut=function(e){if(!t._disableHover&&(t._hook("onDayHoverOut",e),clearTimeout(t._hoverTimer),t._isHover)){var n=Yu(e.date);t._labels&&(e.labels=t._labels[n]),t._marked&&(e.marked=t._marked[n]),t._isHover=!1,t._hook("onCellHoverOut",e)}},t._onLabelClick=function(e){t._isLabelClick=!0,t._hook("onLabelClick",e)},t._onDayClick=function(e){t._shouldFocus=!t._isLabelClick,t._prevAnim=!1,t._isLabelClick=!1,t._hook("onDayClick",e)},t._onTodayClick=function(e){t._prevAnim=!1,t._hook("onActiveChange",{date:+nh(rh(t.s)),today:!0}),t._hook("onTodayClick",{})},t._onNavDayClick=function(e){if(!e.disabled){var n=e.date,r=Vd(n,t.s);t._prevDocClick(),t._changeView("page"),t._shouldFocus=!0,t._prevAnim=!t._hasPicker,t._hook("onActiveChange",{date:+n,nav:!0,pageChange:r!==t._pageIndex,today:!0})}},t._onMonthClick=function(e){if(!e.disabled){var n=t.s,r=new Date(e.date);if("year"===n.selectView)t._hook("onDayClick",e);else if(t._prevDocClick(),t._shouldFocus=!0,t._prevAnim=!t._hasPicker,t._activeMonth=+r,"year"===n.navView||void 0===n.navView){var a=Vd(r,n);t._changeView("page"),t._hook("onActiveChange",{date:+r,nav:!0,pageChange:a!==t._pageIndex,today:!0})}else t._changeView("month")}},t._onYearClick=function(e){if(!e.disabled){var n=e.date,r=t.s,a=r.selectView;if("multi-year"===a)t._hook("onDayClick",e);else if(t._shouldFocus=!0,t._prevAnim="year"===a,t._activeMonth=+n,t._prevDocClick(),"multi-year"===r.navView||"year"===r.calendarType){var i=Vd(n,r);t._changeView("page"),t._hook("onActiveChange",{date:+n,pageChange:i!==t._pageIndex,today:!0})}else t._changeView("year")}},t._onPageChange=function(e){t._isSwipeChange=!0,t._activeChange(e.diff)},t._onMonthPageChange=function(e){t._activeMonthChange(e.diff)},t._onYearPageChange=function(e){t._activeYearChange(e.diff)},t._onYearsPageChange=function(e){t._activeYearsChange(e.diff)},t._onAnimationEnd=function(e){t._disableHover=!1,t._isIndexChange&&(t._pageLoaded(),t._isIndexChange=!1)},t._onStart=function(){clearTimeout(t._hoverTimer)},t._onGestureStart=function(e){t._disableHover=!0,t._hook("onGestureStart",e)},t._onGestureEnd=function(e){t._prevDocClick()},t._onPickerClose=function(){t.setState({view:"page"})},t._onPickerOpen=function(){var e=t._pickerCont.clientHeight,n=t._pickerCont.clientWidth;t.setState({pickerSize:t._isVertical?e:n})},t._onPickerBtnClick=function(e){"page"===t._view&&(t._pickerBtn=e.currentTarget),t._prevDocClick(),t._changeView()},t._onDocClick=function(){var e=t.s.selectView;t._prevClick||t._hasPicker||t._view===e||t._changeView(e)},t._onViewAnimationEnd=function(){t.state.viewClosing&&t.setState({viewClosing:void 0}),t.state.viewOpening&&t.setState({viewOpening:void 0})},t._onResize=function(){if(t._body&&Lc){var e=t.s,n=t.state,r=e.showCalendar,a=r?t._body.querySelector(".mbsc-calendar-body-inner"):t._body,i=t._el.offsetWidth,s=t._el.offsetHeight,o=a.clientHeight,l=a.clientWidth,c=t._isVertical?o:l,u=t._hasPicker?n.pickerSize:c,h=void 0!==r,d="sm",f="sm",m=void 0,p=!1,v=0,g=0;if(e.responsiveStyle&&!t._isGrid&&(o>300&&(f="md"),l>767&&(d="md")),d!==n.width||f!==n.height)t._shouldCheckSize=!0,t.setState({width:d,height:f});else{if(t._labels&&r){var _=a.querySelector(".mbsc-calendar-text"),y=a.querySelector(".mbsc-calendar-day-inner"),b=y.querySelector(".mbsc-calendar-labels"),w=_?function(e,t){return parseFloat(getComputedStyle(e)[t]||"0")}(_,"marginBottom"):2,E=_?_.offsetHeight:18;v=b.offsetTop,p=a.scrollHeight>a.clientHeight,g=E+w,m=Math.max(1,Cu((y.clientHeight-v)/g))}t._hook("onResize",{height:s,target:t._el,width:i}),e.navService.pageSize=c;var x=t._shouldPageLoad?(n.update||0)+1:n.update;t.setState({cellTextHeight:v,hasScrollY:p,labelHeight:g,maxLabels:m,pageSize:c,pickerSize:u,ready:h,update:x})}}},t._onKeyDown=function(e){var n,r=t.s,a=t._view,i="page"===a?t._active:t._activeMonth,s=new Date(i),o=r.getYear(s),l=r.getMonth(s),c=r.getDay(s),u=r.getDate,h=r.weeks,d="month"===r.calendarType;if("multi-year"===a){var f=void 0;switch(e.keyCode){case 37:f=o-1*t._rtlNr;break;case 39:f=o+1*t._rtlNr;break;case 38:f=o-3;break;case 40:f=o+3;break;case 36:f=t._getPageYears(t._yearsIndex);break;case 35:f=t._getPageYears(t._yearsIndex)+11;break;case 33:f=o-12;break;case 34:f=o+12}f&&t._minYears<=f&&t._maxYears>=f&&(e.preventDefault(),t._shouldFocus=!0,t._prevAnim=!1,t._activeMonth=+u(f,0,1),t.forceUpdate())}else if("year"===a){switch(e.keyCode){case 37:n=u(o,l-1*t._rtlNr,1);break;case 39:n=u(o,l+1*t._rtlNr,1);break;case 38:n=u(o,l-3,1);break;case 40:n=u(o,l+3,1);break;case 36:n=u(o,0,1);break;case 35:n=u(o,11,1);break;case 33:n=u(o-1,l,1);break;case 34:n=u(o+1,l,1)}n&&t._minYear<=n&&t._maxYear>=n&&(e.preventDefault(),t._shouldFocus=!0,t._prevAnim=!1,t._activeMonth=+n,t.forceUpdate())}else{switch(e.keyCode){case 37:n=u(o,l,c-1*t._rtlNr);break;case 39:n=u(o,l,c+1*t._rtlNr);break;case 38:n=u(o,l,c-7);break;case 40:n=u(o,l,c+7);break;case 36:n=u(o,l,1);break;case 35:n=u(o,l+1,0);break;case 33:n=e.altKey?u(o-1,l,c):d?u(o,l-1,c):u(o,l,c-7*h);break;case 34:n=e.altKey?u(o+1,l,c):d?u(o,l+1,c):u(o,l,c+7*h)}if(n&&t._minDate<=n&&t._maxDate>=n){e.preventDefault();var m=Vd(n,r);t._shouldFocus=!0,t._prevAnim=!1,"month"===a?(t._activeMonth=+n,t.forceUpdate()):(t._pageChange=r.noOuterChange&&m!==t._pageIndex,t._hook("onActiveChange",{date:+n,pageChange:t._pageChange}))}}},t._setHeader=function(e){t._headerElement=e},t._setBody=function(e){t._body=e},t._setPickerCont=function(e){t._pickerCont=e},t}return Sc(t,e),t.prototype._getPageDay=function(e){return+Fd(e,this.s)},t.prototype._getPageStyle=function(e,t,n,r){var a;return(a={})[(Lh?Lh+"T":"t")+"ransform"]="translate"+this._axis+"("+100*(e-t)*this._rtlNr+"%)",a.position=e===n?"relative":"",a.width=100/(r||1)+"%",a},t.prototype._getPageMonth=function(e){var t=this.s,n=t.refDate?ah(t.refDate):Ru,r=t.getYear(n),a=t.getMonth(n);return+t.getDate(r,a+e,1)},t.prototype._getPageYear=function(e){var t=this.s,n=t.refDate?ah(t.refDate):Ru;return t.getYear(n)+e},t.prototype._getPageYears=function(e){var t=this.s,n=t.refDate?ah(t.refDate):Ru;return t.getYear(n)+12*e},t.prototype._getPickerClass=function(e){var t,n=e===this.s.selectView?" mbsc-calendar-picker-main":"",r="mbsc-calendar-picker",a=this._hasPicker,i=this.state,s=i.viewClosing,o=i.viewOpening;switch(e){case"page":t=a?"":("page"===o?"in-down":"")+("page"===s?"out-down":"");break;case"month":t=a&&"page"===s?"":("month"===o?"in-down":"")+("month"===s?"out-down":"");break;case"multi-year":t=a&&"page"===s?"":("multi-year"===o?"in-up":"")+("multi-year"===s?"out-up":"");break;default:t=!a||"page"!==o&&"page"!==s?("year"===o?"multi-year"===s?"in-down":"in-up":"")+("year"===s?"multi-year"===o?"out-down":"out-up":""):""}return r+n+(Th&&t?" "+r+"-"+t:"")},t.prototype._isNextDisabled=function(e){if(!this._hasPicker||e){var t=this._view;if("multi-year"===t)return this._yearsIndex+1>this._maxYearsIndex;if("year"===t)return this._yearIndex+1>this._maxYearIndex;if("month"===t)return this._monthIndex+1>this._maxMonthIndex}return this._pageIndex+1>this._maxIndex},t.prototype._isPrevDisabled=function(e){if(!this._hasPicker||e){var t=this._view;if("multi-year"===t)return this._yearsIndex-1<this._minYearsIndex;if("year"===t)return this._yearIndex-1<this._minYearIndex;if("month"===t)return this._monthIndex-1<this._minMonthIndex}return this._pageIndex-1<this._minIndex},t.prototype._render=function(e,t){var n=e.getDate,r=e.getYear,a=e.getMonth,i=e.showCalendar,s=e.calendarType,o=e.eventRange,l=e.eventRangeSize||1,c=e.firstDay,u="week"===s,h="month"===s,d="year"===s?12:+(e.size||1),f=d>1&&!u,m=i?u?e.weeks:6:0,p=e.activeDate||this._active||+new Date,v=p!==this._active,g=new Date(p),_=this._prevS,y=e.dateFormat,b=e.monthNames,w=e.yearSuffix,E=mu(e.labelList)?+e.labelList+1:"all"===e.labelList?-1:0,x=e.labelList!==_.labelList,S=e.navService,D=S.pageIndex,k=S.firstDay,C=S.lastDay,T=S.viewStart,I=S.viewEnd;if(this._minDate=S.minDate,this._maxDate=S.maxDate,gu(e.min))this._minIndex=-1/0,this._minYears=-1/0,this._minYearsIndex=-1/0,this._minYear=-1/0,this._minYearIndex=-1/0,this._minMonthIndex=-1/0;else{var M=qu(this._minDate);this._minDate=qu(M),this._minYear=n(r(M),a(M),1),this._minYears=r(M),this._minIndex=Vd(M,e),this._minYearIndex=Hd(M,e),this._minYearsIndex=zd(M,e),this._minMonthIndex=Ud(M,e)}if(gu(e.max))this._maxIndex=1/0,this._maxYears=1/0,this._maxYearsIndex=1/0,this._maxYear=1/0,this._maxYearIndex=1/0,this._maxMonthIndex=1/0;else{var N=this._maxDate;this._maxYear=n(r(N),a(N)+1,1),this._maxYears=r(N),this._maxIndex=Vd(N,e),this._maxYearIndex=Hd(N,e),this._maxYearsIndex=zd(N,e),this._maxMonthIndex=Ud(N,e)}var L=s!==_.calendarType||o!==_.eventRange||c!==_.firstDay||e.eventRangeSize!==_.eventRangeSize||e.refDate!==_.refDate||e.showCalendar!==_.showCalendar||e.weeks!==_.weeks;L&&void 0!==this._pageIndex&&(this._prevAnim=!0),v&&(this._activeMonth=p),this._view=t.view||e.selectView,this._yearsIndex=zd(new Date(this._activeMonth),e),this._yearIndex=Hd(new Date(this._activeMonth),e),this._monthIndex=Ud(new Date(this._activeMonth),e);var R=f?1:Wd(e.pages,t.pageSize),A="vertical"===e.calendarScroll&&"auto"!==e.pages&&(void 0===e.pages||1===e.pages),O=void 0!==e.showOuterDays?e.showOuterDays:!A&&R<2&&(u||!d||d<2),P=y.search(/m/i),F=y.search(/y/i);if("month"===this._view){var V=new Date(this._getPageMonth(this._monthIndex)),z=b[a(V)],H=r(V)+w;this._viewTitle=F<P?H+" "+z:z+" "+H}else if("year"===this._view)this._viewTitle=this._getPageYear(this._yearIndex)+"";else if("multi-year"===this._view){var U=this._getPageYears(this._yearsIndex);this._viewTitle=U+" - "+(U+11)}if(f&&(this._monthsMulti=[],void 0!==D)){for(var B=Cu(.96*t.pageSize/325.6)||1;d%B;)B--;for(var W=0;W<d/B;++W){for(var j=[],Y=0;Y<B;++Y)j.push(+n(r(k),a(k)+W*B+Y,1));this._monthsMulti.push(j)}}(s!==_.calendarType||e.theme!==_.theme||e.calendarScroll!==_.calendarScroll||e.hasContent!==_.hasContent||e.showCalendar!==_.showCalendar||e.showSchedule!==_.showSchedule||e.showWeekNumbers!==_.showWeekNumbers||e.weeks!==_.weeks||x)&&(this._shouldCheckSize=!0),_.width===e.width&&_.height===e.height||(this._dim={height:Eu(e.height),width:Eu(e.width)}),this._cssClass="mbsc-calendar mbsc-font mbsc-flex-col"+this._theme+this._rtl+(t.ready?"":" mbsc-hidden")+(f?" mbsc-calendar-grid-view":" mbsc-calendar-height-"+t.height+" mbsc-calendar-width-"+t.width)+" "+e.cssClass,this._dayNames="sm"===t.width||f?e.dayNamesMin:e.dayNamesShort,this._isSwipeChange=!1,this._yearFirst=F<P,this._pageNr=R,this._variableRow=E;var q=e.pageLoad!==_.pageLoad,K=+T!=+this._viewStart||+I!=+this._viewEnd;if(void 0!==this._pageIndex&&K&&(this._isIndexChange=!this._isSwipeChange&&!L),void 0!==D&&(this._pageIndex=D),void 0!==D&&(e.marked!==_.marked||e.colors!==_.colors||e.labels!==_.labels||e.invalid!==_.invalid||e.valid!==_.valid||t.maxLabels!==this._maxLabels||K||x||q)){this._maxLabels=t.maxLabels,this._viewStart=T,this._viewEnd=I;var G=e.labelsMap||Ad(e.labels,T,I,e),Q=G&&jd(e,G,T,I,this._variableRow||this._maxLabels||1,7,!1,c,!0,e.eventOrder,!O,e.showLabelCount,e.moreEventsText,e.moreEventsPluralText);Q&&!this._labels&&(this._shouldCheckSize=!0),(Q&&t.maxLabels||!Q)&&(this._shouldPageLoad=!this._isIndexChange||this._prevAnim||!i||q),this._labelsLayout=Q,this._labels=G,this._marked=G?void 0:e.marksMap||Ad(e.marked,T,I,e),this._colors=Ad(e.colors,T,I,e),this._valid=Ad(e.valid,T,I,e,!0),this._invalid=Ad(e.invalid,T,I,e,!0)}if(K||v||o!==_.eventRange||l!==_.eventRangeSize||e.monthNames!==_.monthNames){this._title=[];var X=hh(C,-1),$=void 0===D?g:k;if(u){$=g;for(var J=0,Z=Object.keys(e.selectedDates);J<Z.length;J++){var ee=Z[J];if(+ee>=+k&&+ee<+C){$=new Date(+ee);break}}}if(this._pageNr>1)for(W=0;W<R;W++){var te=n(r(k),a(k)+W,1),ne=r(te)+w,re=b[a(te)];this._title.push({yearTitle:ne,monthTitle:re})}else{var ae={yearTitle:r($)+w,monthTitle:b[a($)]},ie=e.showSchedule&&1===l?o:i?s:o,se=o&&!i&&(!e.showSchedule||l>1);switch(ie){case"year":ae.title=r(k)+w,l>1&&(ae.title+=" - "+(r(X)+w));break;case"month":if(l>1&&!i){var oe=b[a(k)],le=r(k)+w,ce=this._yearFirst?le+" "+oe:oe+" "+le,ue=b[a(X)],he=r(X)+w,de=this._yearFirst?he+" "+ue:ue+" "+he;ae.title=ce+" - "+de}else f&&(ae.title=r(k)+w);break;case"day":case"week":if(se){var fe=y.search(/d/i)<P?"D MMM, YYYY":"MMM D, YYYY";ae.title=oh(fe,k,e),("week"===ie||l>1)&&(ae.title+=" - "+oh(fe,X,e))}}this._title.push(ae)}}this._active=p,this._hasPicker=e.hasPicker||f||!h||!i||"md"===t.width&&!1!==e.hasPicker,this._axis=A?"Y":"X",this._rtlNr=!A&&e.rtl?-1:1,this._weeks=m,this._nextIcon=A?e.nextIconV:e.rtl?e.prevIconH:e.nextIconH,this._prevIcon=A?e.prevIconV:e.rtl?e.nextIconH:e.prevIconH,this._mousewheel=void 0===e.mousewheel?A:e.mousewheel,this._isGrid=f,this._isVertical=A,this._showOuter=O,this._showDaysTop=A||!!E&&1===d},t.prototype._mounted=function(){this._observer=gf(this._el,this._onResize,this._zone),this._doc=Vh(this._el),Ph(this._doc,cd,this._onDocClick)},t.prototype._updated=function(){var e=this;if(this._shouldCheckSize?(setTimeout((function(){e._onResize()})),this._shouldCheckSize=!1):this._shouldPageLoad&&(this._pageLoaded(),this._shouldPageLoad=!1),this._shouldFocus&&setTimeout((function(){e._focusActive(),e._shouldFocus=!1})),this.s.instanceService&&this.s.instanceService.onComponentChange.next({}),this._pageChange=!1,this._variableRow&&this.s.showCalendar){var t=this._body.querySelector(".mbsc-calendar-body-inner"),n=t.scrollHeight>t.clientHeight;n!==this.state.hasScrollY&&(this._shouldCheckSize=!0,this.setState({hasScrollY:n}))}},t.prototype._destroy=function(){this._observer&&this._observer.detach(),Fh(this._doc,cd,this._onDocClick),clearTimeout(this._hoverTimer)},t.prototype._getActiveCell=function(){var e=this._view,t="page"===e?this._body:this._pickerCont,n="multi-year"===e?"year":"year"===e?"month":"cell";return t&&t.querySelector(".mbsc-calendar-"+n+'[tabindex="0"]')},t.prototype._focusActive=function(){var e=this._getActiveCell();e&&e.focus()},t.prototype._pageLoaded=function(){var e=this.s.navService;this._hook("onPageLoaded",{activeElm:this._getActiveCell(),firstDay:e.firstPageDay,lastDay:e.lastPageDay,month:"month"===this.s.calendarType?e.firstDay:void 0,viewEnd:e.viewEnd,viewStart:e.viewStart})},t.prototype._activeChange=function(e){var t=this._pageIndex+e;this._minIndex<=t&&this._maxIndex>=t&&(this._prevAnim=!1,this._pageChange=!0,this._hook("onActiveChange",{date:this._getPageDay(t),dir:e,pageChange:!0}))},t.prototype._activeMonthChange=function(e){var t=this._monthIndex+e;this._minMonthIndex<=t&&this._maxMonthIndex>=t&&(this._prevAnim=!1,this._activeMonth=this._getPageMonth(t),this.forceUpdate())},t.prototype._activeYearsChange=function(e){var t=this._yearsIndex+e;if(this._minYearsIndex<=t&&this._maxYearsIndex>=t){var n=this._getPageYears(t);this._prevAnim=!1,this._activeMonth=+this.s.getDate(n,0,1),this.forceUpdate()}},t.prototype._activeYearChange=function(e){var t=this._yearIndex+e;if(this._minYearIndex<=t&&this._maxYearIndex>=t){var n=this._getPageYear(t);this._prevAnim=!1,this._activeMonth=+this.s.getDate(n,0,1),this.forceUpdate()}},t.prototype._prevDocClick=function(){var e=this;this._prevClick=!0,setTimeout((function(){e._prevClick=!1}))},t}(sd),Uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype.render=function(){var e=this.props.context;return e?(0,vc.createPortal)(this.props.children,e):null},t}(r.Component),Bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e,t){return function(e,t,n,a){var i,s,o=n._hb,l=n._rtl,c=n._theme,u=e.display,h=((i={}).onKeyDown=n._onKeyDown,i),d=((s={}).onAnimationEnd=n._onAnimationEnd,s);return n._isModal?n._isVisible?(0,r.createElement)(Uf,{context:n._ctx},(0,r.createElement)("div",Dc({className:"mbsc-font mbsc-flex mbsc-popup-wrapper mbsc-popup-wrapper-"+u+c+l+" "+n._className+(e.fullScreen?" mbsc-popup-wrapper-"+u+"-full":"")+(n._touchUi?"":" mbsc-popup-pointer")+(n._round?" mbsc-popup-round":"")+(n._hasContext?" mbsc-popup-wrapper-ctx":"")+(t.isReady?"":" mbsc-popup-hidden"),ref:n._setWrapper},h),e.showOverlay&&(0,r.createElement)("div",{className:"mbsc-popup-overlay mbsc-popup-overlay-"+u+c+(n._isClosing?" mbsc-popup-overlay-out":"")+(n._isOpening&&t.isReady?" mbsc-popup-overlay-in":""),onClick:n._onOverlayClick}),(0,r.createElement)("div",{className:"mbsc-popup-limits mbsc-popup-limits-"+u,ref:n._setLimitator,style:n._limits}),(0,r.createElement)("div",Dc({className:"mbsc-flex-col mbsc-popup mbsc-popup-"+u+c+o+(e.fullScreen?"-full":"")+(t.bubblePos&&t.showArrow&&"anchored"===u?" mbsc-popup-anchored-"+t.bubblePos:"")+(n._isClosing?" mbsc-popup-"+n._animation+"-out":"")+(n._isOpening&&t.isReady?" mbsc-popup-"+n._animation+"-in":""),role:"dialog","aria-modal":"true",ref:n._setPopup,style:n._style,onClick:n._onPopupClick},d),"anchored"===u&&t.showArrow&&(0,r.createElement)("div",{className:"mbsc-popup-arrow-wrapper mbsc-popup-arrow-wrapper-"+t.bubblePos+c},(0,r.createElement)("div",{className:"mbsc-popup-arrow mbsc-popup-arrow-"+t.bubblePos+c,style:t.arrowPos})),(0,r.createElement)("div",{className:"mbsc-popup-focus",tabIndex:-1,ref:n._setActive}),(0,r.createElement)("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-popup-body mbsc-popup-body-"+u+c+o+(e.fullScreen?" mbsc-popup-body-"+u+"-full":"")+(n._round?" mbsc-popup-body-round":"")},n._headerText&&(0,r.createElement)("div",{className:"mbsc-flex-none mbsc-popup-header mbsc-popup-header-"+u+c+o+(n._buttons?"":" mbsc-popup-header-no-buttons"),dangerouslySetInnerHTML:n._headerText,"v-html":void 0}),(0,r.createElement)("div",{className:"mbsc-flex-1-1 mbsc-popup-content"+(e.contentPadding?" mbsc-popup-padding":""),ref:n._setContent},a),n._buttons&&(0,r.createElement)("div",{className:"mbsc-flex-none mbsc-popup-buttons mbsc-popup-buttons-"+u+c+l+o+(n._flexButtons?" mbsc-flex":"")+(e.fullScreen?" mbsc-popup-buttons-"+u+"-full":"")},n._buttons.map((function(t,a){return(0,r.createElement)(bd,{color:t.color,className:"mbsc-popup-button mbsc-popup-button-"+u+l+o+(n._flexButtons?" mbsc-popup-button-flex":"")+" "+(t.cssClass||""),icon:t.icon,disabled:t.disabled,key:a,theme:e.theme,themeVariant:e.themeVariant,variant:t.variant||e.buttonVariant,onClick:t.handler},t.text)}))))))):null:(0,r.createElement)(r.Fragment,null,a)}(e,t,this,e.children)},t}(Sf),Wf={},jf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){if(t._isDrag)e.stopPropagation();else{t._triggerEvent("onClick",e);var n=t.s,r=Wf[n.id];r&&n.selected&&r.next({hasFocus:!1})}},t._onRightClick=function(e){t._triggerEvent("onRightClick",e)},t._onDocTouch=function(e){Fh(t._doc,"touchstart",t._onDocTouch),Fh(t._doc,ud,t._onDocTouch),t._isDrag=!1,t._hook("onDragModeOff",{domEvent:e,event:t.s.event})},t._updateState=function(e){t.s.showText&&t.setState(e)},t._triggerEvent=function(e,n){t._hook(e,{domEvent:n,label:t.s.event,target:t._el})},t}return Sc(t,e),t.prototype._mounted=function(){var e,t=this,n=this.s,r=this._el,a=n.id,i=n.isPicker,s=Wf[a];s||(s=new Ic,Wf[a]=s),this._unsubscribe=s.subscribe(this._updateState),this._doc=Vh(r),this._unlisten=yd(r,{keepFocus:!0,onBlur:function(){i||s.next({hasFocus:!1})},onDoubleClick:function(e){e.domEvent.stopPropagation(),t._hook("onDoubleClick",{domEvent:e.domEvent,label:t.s.event,target:r})},onEnd:function(n){if(t._isDrag){var a=t.s,i=Dc({},n);i.domEvent.preventDefault(),i.event=a.event,a.resize&&e?(i.resize=!0,i.direction=e):a.drag&&(i.drag=!0),t._hook("onDragEnd",i),a.isUpdate||(t._isDrag=!1),r&&i.moved&&r.blur()}clearTimeout(t._touchTimer),e=void 0},onFocus:function(){i||s.next({hasFocus:!0})},onHoverIn:function(e){t._isDrag||i||(s.next({hasHover:!0}),t._triggerEvent("onHoverIn",e))},onHoverOut:function(e){s.next({hasHover:!1}),t._triggerEvent("onHoverOut",e)},onKeyDown:function(e){var n=t.s.event;switch(e.keyCode){case 13:case 32:r.click(),e.preventDefault();break;case 8:case 46:n&&!1!==n.editable&&t._hook("onDelete",{domEvent:e,event:n,source:"calendar"})}},onMove:function(n){var r=t.s,a=Dc({},n);if(a.event=r.event,e)a.resize=!0,a.direction=e;else{if(!r.drag)return;a.drag=!0}r.event&&!1!==r.event.editable&&(t._isDrag?(a.domEvent.preventDefault(),t._hook("onDragMove",a)):(Math.abs(a.deltaX)>7||Math.abs(a.deltaY)>7)&&(clearTimeout(t._touchTimer),a.isTouch||(t._isDrag=!0,t._hook("onDragStart",a))))},onStart:function(n){var r=t.s,a=Dc({},n),i=a.domEvent.target;if(a.event=r.event,r.resize&&i.classList.contains("mbsc-calendar-label-resize"))e=i.classList.contains("mbsc-calendar-label-resize-start")?"start":"end",a.resize=!0,a.direction=e;else{if(!r.drag)return;a.drag=!0}r.event&&!1!==r.event.editable&&(!t._isDrag&&a.isTouch||a.domEvent.stopPropagation(),t._isDrag?t._hook("onDragStart",a):a.isTouch&&(t._touchTimer=setTimeout((function(){t._hook("onDragModeOn",a),t._hook("onDragStart",a),t._isDrag=!0}),350)))}}),this._isDrag&&(Ph(this._doc,"touchstart",this._onDocTouch),Ph(this._doc,ud,this._onDocTouch))},t.prototype._destroy=function(){if(this._el&&this._el.blur(),this._unsubscribe){var e=this.s.id,t=Wf[e];t&&(t.unsubscribe(this._unsubscribe),t.nr||delete Wf[e])}this._unlisten&&this._unlisten(),Fh(this._doc,"touchstart",this._onDocTouch),Fh(this._doc,ud,this._onDocTouch)},t.prototype._render=function(e,t){var n,r,a,i,s,o,l=e.event,c=new Date(e.date),u=e.render||e.renderContent,h=!1;if(this._isDrag=this._isDrag||e.isUpdate,this._content=void 0,this._title=e.more||e.count||!e.showEventTooltip?void 0:function(e){if(gh&&e){var t=gh.createElement("div");return t.innerHTML=e,t.textContent.trim()}return e||""}(l.tooltip||l.title||l.text),this._tabIndex=e.isActiveMonth&&e.showText&&!e.count&&!e.isPicker?0:-1,l){var d=l.allDay,f=d?void 0:e;n=l.start?ah(l.start,f):null,r=l.end?ah(l.end,f):null;var m=n&&r&&ju(e,d,n,r,!0),p=hh(Xu(c,e),7),v=e.lastDay&&e.lastDay<p?e.lastDay:p;a=!(h=n&&m&&!$u(n,m))||n&&$u(n,c),i=!h||m&&$u(m,c),s=!h||(e.showText?m<v:i),this._hasResizeStart=e.resize&&a,this._hasResizeEnd=e.resize&&s;var g=l.color;if(!g&&l.resource&&e.resourcesMap){var _=e.resourcesMap[fu(l.resource)?l.resource[0]:l.resource];g=_&&_.color}e.showText&&(this._textColor=g?Wh(g):void 0),this._color=e.render||e.template?void 0:l.textColor&&!g?"transparent":g}if(l&&e.showText&&(u||e.contentTemplate||e.template)){var y=l.allDay||!n||h&&!a&&!i;if(this._data={end:!y&&i&&r?oh(e.timeFormat,r,e):"",id:l.id,isMultiDay:h,original:l,start:!y&&a&&n?oh(e.timeFormat,n,e):"",title:this._title},u){var b=u(this._data);vu(b)?o=b:this._content=b}}else o=e.more||e.count||e.showText&&(l.title||l.text)||"";o!==this._text&&(this._text=o,this._html=o?this._safeHtml(o):void 0,this._shouldEnhance=o&&l&&e.showText&&!!u),this._cssClass="mbsc-calendar-text"+this._theme+this._rtl+(t.hasFocus&&!e.inactive&&!e.selected||e.selected&&e.showText?" mbsc-calendar-label-active ":"")+(!t.hasHover||e.inactive||this._isDrag?"":" mbsc-calendar-label-hover")+(e.more?" mbsc-calendar-text-more":e.render||e.template?" mbsc-calendar-custom-label":" mbsc-calendar-label")+(e.inactive?" mbsc-calendar-label-inactive":"")+(e.isUpdate?" mbsc-calendar-label-dragging":"")+(e.hidden?" mbsc-calendar-label-hidden":"")+(a?" mbsc-calendar-label-start":"")+(s?" mbsc-calendar-label-end":"")+(l&&!1===l.editable?" mbsc-readonly-event":"")+(l&&l.cssClass?" "+l.cssClass:"")},t}(sd),Yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n,a=e.event&&!1!==e.event.editable,i=((n={}).onContextMenu=t._onRightClick,n);return(0,r.createElement)("div",Dc({"aria-hidden":e.showText?void 0:"true",className:t._cssClass,"data-id":e.showText&&e.event?e.event.id:null,onClick:t._onClick,ref:t._setEl,role:e.showText?"button":void 0,style:{color:t._color},tabIndex:t._tabIndex,title:t._title},i),t._hasResizeStart&&a&&(0,r.createElement)("div",{className:"mbsc-calendar-label-resize mbsc-calendar-label-resize-start"+t._rtl+(e.isUpdate?" mbsc-calendar-label-resize-start-touch":"")}),t._hasResizeEnd&&a&&(0,r.createElement)("div",{className:"mbsc-calendar-label-resize mbsc-calendar-label-resize-end"+t._rtl+(e.isUpdate?" mbsc-calendar-label-resize-end-touch":"")}),e.showText&&!e.more&&!e.render&&(0,r.createElement)("div",{className:"mbsc-calendar-label-background"+t._theme}),e.showText&&!e.more&&e.render?t._html?(0,r.createElement)("div",{dangerouslySetInnerHTML:t._html},void 0):t._content:(0,r.createElement)("div",{className:"mbsc-calendar-label-inner"+t._theme,style:{color:t._textColor}},(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-calendar-label-text"+t._theme,dangerouslySetInnerHTML:t._html,style:{color:e.event&&e.event.textColor}},t._content),e.label&&(0,r.createElement)("div",{className:"mbsc-hidden-content"},e.label)))}(e,this)},t}(jf);function qf(e,t,n,a,i,s,o){return(0,r.createElement)(Yf,{key:o,amText:t.amText,count:n.count?n.count+" "+(n.count>1?t.eventsText:t.eventText):void 0,date:t.date,dataTimezone:t.dataTimezone,displayTimezone:t.displayTimezone,drag:t.dragToMove,resize:qd(n.event&&n.event.resize,t.dragToResize),event:n.event,exclusiveEndDates:t.exclusiveEndDates,firstDay:t.firstDay,hidden:i,id:n.id,inactive:!s&&n.event&&t.dragData&&t.dragData.draggedEvent&&n.event.id===t.dragData.draggedEvent.id,isActiveMonth:t.isActiveMonth,isPicker:t.isPicker,isUpdate:s,label:n.label,lastDay:n.lastDay,more:n.more,pmText:t.pmText,resourcesMap:t.resourcesMap,rtl:t.rtl,selected:n.event&&t.selectedEventsMap&&!(!t.selectedEventsMap[n.id]&&!t.selectedEventsMap[n.event.id]),showEventTooltip:t.showEventTooltip,showText:a,theme:t.theme,timeFormat:t.timeFormat,timezonePlugin:t.timezonePlugin,render:t.renderLabel,renderContent:t.renderLabelContent,onClick:e._onLabelClick,onDoubleClick:e._onLabelDoubleClick,onRightClick:e._onLabelRightClick,onHoverIn:e._onLabelHoverIn,onHoverOut:e._onLabelHoverOut,onDelete:t.onLabelDelete,onDragStart:t.onLabelUpdateStart,onDragMove:t.onLabelUpdateMove,onDragEnd:t.onLabelUpdateEnd,onDragModeOn:t.onLabelUpdateModeOn,onDragModeOff:t.onLabelUpdateModeOff})}var Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n,a,i=t._draggedLabel,s=t._draggedLabelOrig,o=t._theme,l=((n={}).onContextMenu=t._onRightClick,n);return e.renderDay&&(a=e.renderDay(t._data)),e.renderDayContent&&(a=e.renderDayContent(t._data)),vu(a)&&(a=(0,r.createElement)("div",{dangerouslySetInnerHTML:t._safeHtml(a)}),t._shouldEnhance=!0),(0,r.createElement)("div",Dc({ref:t._setEl,className:t._cssClass,onClick:t._onClick,style:t._cellStyles,tabIndex:e.disabled?void 0:e.active?0:-1},l),(0,r.createElement)("div",{className:"mbsc-calendar-cell-inner mbsc-calendar-"+e.type+"-inner"+o+("day"===e.type?"":t._hb)+(e.display?"":" mbsc-calendar-day-hidden")},e.renderDay?a:(0,r.createElement)(r.Fragment,null,1===e.text&&(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-calendar-month-name"+o+t._rtl},e.monthShort),(0,r.createElement)("div",{"aria-disabled":e.disabled?"true":void 0,"aria-label":t._ariaLabel,"aria-pressed":e.selected,className:"mbsc-calendar-cell-text mbsc-calendar-"+e.type+"-text"+o+t._todayClass,role:"button",style:t._circleStyles},e.text),e.marks&&(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"mbsc-calendar-marks"+o+t._rtl},e.marks.map((function(e,t){return(0,r.createElement)("div",{className:"mbsc-calendar-mark "+(e.markCssClass||"")+o,key:t,style:{background:e.color}})})))),e.renderDayContent&&a),e.labels&&(0,r.createElement)("div",null,s&&s.event&&(0,r.createElement)("div",{className:"mbsc-calendar-labels mbsc-calendar-labels-dragging"},(0,r.createElement)("div",{style:{width:s.width+"%"||0}},qf(t,e,{id:0,event:s.event},!0,!!e.dragData.draggedDates,!0))),i&&i.event&&(0,r.createElement)("div",{className:"mbsc-calendar-labels mbsc-calendar-labels-dragging"},(0,r.createElement)("div",{className:"mbsc-calendar-label-wrapper",style:{width:i.width+"%"||0}},qf(t,e,{id:0,event:i.event},!0,!1,!0))),(0,r.createElement)("div",{className:"mbsc-calendar-labels"},e.labels.data.map((function(n){return function(e,t,n){var a=n.id;return n.placeholder?(0,r.createElement)("div",{className:"mbsc-calendar-text mbsc-calendar-text-placeholder",key:a}):n.more||n.count?qf(e,t,n,!0,!1,!1,a):n.multiDay?[(0,r.createElement)("div",{className:"mbsc-calendar-label-wrapper",style:{width:n.width+"%"},key:a},qf(e,t,n,!0)),qf(e,t,n,!1,!1,!1,"-"+a)]:qf(e,t,n,n.showText,!1,!1,a)}(t,e,n)}))),(0,r.createElement)("div",{className:"mbsc-calendar-text mbsc-calendar-text-placeholder"}))))}(e,this)},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){t._cellClick("onDayClick",e)},t._onRightClick=function(e){t._cellClick("onDayRightClick",e)},t._onLabelClick=function(e){t._labelClick("onLabelClick",e)},t._onLabelDoubleClick=function(e){t._labelClick("onLabelDoubleClick",e)},t._onLabelRightClick=function(e){t._labelClick("onLabelRightClick",e)},t._onLabelHoverIn=function(e){t._labelClick("onLabelHoverIn",e)},t._onLabelHoverOut=function(e){t._labelClick("onLabelHoverOut",e)},t}return Sc(t,e),t.prototype._mounted=function(){var e,t,n,r=this;this._unlisten=yd(this._el,{click:!0,onBlur:function(){r.setState({hasFocus:!1})},onDoubleClick:function(e){var t=r.s;t.clickToCreate&&"single"!==t.clickToCreate&&t.labels&&!t.disabled&&t.display&&(r._hook("onLabelUpdateStart",e),r._hook("onLabelUpdateEnd",e)),r._cellClick("onDayDoubleClick",e.domEvent)},onEnd:function(a){e&&(a.domEvent.preventDefault(),r._hook("onLabelUpdateEnd",a),e=!1),clearTimeout(n),e=!1,t=!1},onFocus:function(){r.setState({hasFocus:!0})},onHoverIn:function(e){var t=r.s;t.disabled||r.setState({hasHover:!0}),r._hook("onHoverIn",{date:new Date(t.date),domEvent:e,hidden:!t.display,outer:t.outer,target:r._el})},onHoverOut:function(e){var t=r.s;r.setState({hasHover:!1}),r._hook("onHoverOut",{date:new Date(t.date),domEvent:e,hidden:!t.display,outer:t.outer,target:r._el})},onKeyDown:function(e){switch(e.keyCode){case 13:case 32:e.preventDefault(),r._onClick(e)}},onMove:function(a){e&&r.s.dragToCreate?(a.domEvent.preventDefault(),r._hook("onLabelUpdateMove",a)):t&&r.s.dragToCreate&&(Math.abs(a.deltaX)>7||Math.abs(a.deltaY)>7)?(e=!a.isTouch,r._hook("onLabelUpdateStart",a)):clearTimeout(n)},onStart:function(a){var i=r.s;a.create=!0,i.disabled||!i.dragToCreate&&!i.clickToCreate||!i.labels||e||Kh(a.domEvent.target,".mbsc-calendar-text",r._el)||(a.isTouch&&i.dragToCreate?n=setTimeout((function(){r._hook("onLabelUpdateStart",a),r._hook("onLabelUpdateModeOn",a),e=!0}),350):"single"===i.clickToCreate?(r._hook("onLabelUpdateStart",a),e=!0):t=!a.isTouch)}})},t.prototype._render=function(e,t){var n=rh(e),r=e.date,a=e.colors,i=e.display,s=e.dragData,o=e.hoverEnd,l=e.hoverStart,c=e.labels,u=e.rangeEnd,h=e.rangeStart,d=new Date(r),f=Yu(d),m=$u(n,d),p=c&&c.events,v=a&&a[0],g=v&&v.background,_=v&&v.highlight,y="",b="";this._draggedLabel=s&&s.draggedDates&&s.draggedDates[f],this._draggedLabelOrig=s&&s.originDates&&s.originDates[f],this._todayClass=m?" mbsc-calendar-today":"",this._cellStyles=g&&i?{backgroundColor:g,color:Wh(g)}:void 0,this._circleStyles=_?{backgroundColor:_,color:Wh(v.highlight)}:void 0,this._ariaLabel="day"===e.type?(m?e.todayText+", ":"")+e.day+", "+e.month+" "+e.text+", "+e.year:"month"===e.type?e.month:"",i&&((h&&r>=h&&r<=(u||h)||u&&r<=u&&r>=(h||u))&&(b=" mbsc-range-day"+(r===(h||u)?" mbsc-range-day-start":"")+(r===(u||h)?" mbsc-range-day-end":"")),l&&o&&r>=l&&r<=o&&(b+=" mbsc-range-hover"+(r===l?" mbsc-range-hover-start mbsc-hover":"")+(r===o?" mbsc-range-hover-end mbsc-hover":""))),e.marks&&e.marks.forEach((function(e){y+=e.cellCssClass?" "+e.cellCssClass:""})),a&&a.forEach((function(e){y+=e.cellCssClass?" "+e.cellCssClass:""})),p&&p.forEach((function(e){y+=e.cellCssClass?" "+e.cellCssClass:""})),this._cssClass="mbsc-calendar-cell mbsc-flex-1-0-0 mbsc-calendar-"+e.type+this._theme+this._rtl+this._hb+y+(c?" mbsc-calendar-day-labels":"")+(a?" mbsc-calendar-day-colors":"")+(e.outer?" mbsc-calendar-day-outer":"")+(e.hasMarks?" mbsc-calendar-day-marked":"")+(e.disabled?" mbsc-disabled":"")+(i?"":" mbsc-calendar-day-empty")+(e.selected?" mbsc-selected":"")+(t.hasFocus?" mbsc-focus":"")+(!t.hasHover||r!==l&&r!==o&&(l||o)?"":" mbsc-hover")+(this._draggedLabel?" mbsc-calendar-day-highlight":"")+b,this._data={date:d,events:e.events||[],selected:e.selected}},t.prototype._destroy=function(){this._unlisten&&this._unlisten()},t.prototype._cellClick=function(e,t){var n=this.s;n.display&&this._hook(e,{date:new Date(n.date),disabled:n.disabled,domEvent:t,outer:n.outer,selected:n.selected,source:"calendar",target:this._el})},t.prototype._labelClick=function(e,t){var n=this.s;t.date=new Date(n.date),t.labels=n.labels.events,this._hook(e,t)},t}(sd)),Gf=function(e){var t=e.firstDay,n=e.hidden,a=e.rtl,i=e.theme,s=e.dayNamesShort,o=e.showWeekNumbers,l=e.hasScroll;return(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-calendar-week-days mbsc-flex"+(n?" mbsc-hidden":"")},o&&(0,r.createElement)("div",{className:"mbsc-calendar-week-day mbsc-flex-none mbsc-calendar-week-nr"+i+a}),uu.map((function(e,n){return(0,r.createElement)("div",{className:"mbsc-calendar-week-day mbsc-flex-1-0-0"+i+a,key:n},s[(n+t)%7])})),l&&(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"}))},Qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n=e.showWeekNumbers,a=e.showWeekDays?(0,r.createElement)(Gf,{dayNamesShort:e.dayNamesShort,firstDay:e.firstDay,rtl:t._rtl,showWeekNumbers:n,theme:t._theme}):null;return(0,r.createElement)("div",{"aria-hidden":e.isActive?void 0:"true",className:"mbsc-calendar-table mbsc-flex-col mbsc-flex-1-1"+(e.isActive?" mbsc-calendar-table-active":"")},a,t._rows.map((function(a,i){var s=n?t._getWeekNr(e,a[0].date):"";return(0,r.createElement)("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:i,style:{minHeight:t._rowHeights[i]+"px"}},n&&(0,r.createElement)("div",{className:"mbsc-calendar-cell mbsc-flex-none mbsc-calendar-day mbsc-calendar-week-nr"+t._theme},(0,r.createElement)("div",{"aria-hidden":"true"},s),(0,r.createElement)("div",{className:"mbsc-hidden-content"},e.weekText.replace("{count}",s))),a.map((function(n,a){return(0,r.createElement)(Kf,{active:n.display&&t._isActive(n.date),amText:e.amText,clickToCreate:e.clickToCreate,colors:n.colors,date:n.date,day:n.day,disabled:t._isInvalid(n.date),display:n.display,dataTimezone:e.dataTimezone,displayTimezone:e.displayTimezone,dragData:e.dragData,dragToCreate:e.dragToCreate,dragToResize:e.dragToResize,dragToMove:e.dragToMove,eventText:e.eventText,events:n.events,eventsText:e.eventsText,exclusiveEndDates:e.exclusiveEndDates,firstDay:e.firstDay,hasMarks:e.hasMarks,hoverEnd:e.hoverEnd,hoverStart:e.hoverStart,isActiveMonth:e.isActive,isPicker:e.isPicker,key:n.date,labels:n.labels,pmText:e.pmText,marks:n.marks,month:n.month,monthShort:n.monthShort,onDayClick:e.onDayClick,onDayDoubleClick:e.onDayDoubleClick,onDayRightClick:e.onDayRightClick,onLabelClick:e.onLabelClick,onLabelDoubleClick:e.onLabelDoubleClick,onLabelRightClick:e.onLabelRightClick,onLabelHoverIn:e.onLabelHoverIn,onLabelHoverOut:e.onLabelHoverOut,onLabelDelete:e.onLabelDelete,onLabelUpdateStart:e.onLabelUpdateStart,onLabelUpdateMove:e.onLabelUpdateMove,onLabelUpdateEnd:e.onLabelUpdateEnd,onLabelUpdateModeOn:e.onLabelUpdateModeOn,onLabelUpdateModeOff:e.onLabelUpdateModeOff,outer:n.outer,renderDay:e.renderDay,renderDayContent:e.renderDayContent,renderLabel:e.renderLabel,renderLabelContent:e.renderLabelContent,rangeEnd:e.rangeEnd,rangeStart:e.rangeStart,resourcesMap:e.resourcesMap,selectedEventsMap:e.selectedEventsMap,rtl:e.rtl,showEventTooltip:e.showEventTooltip,selected:t._isSelected(n.date),text:n.text,theme:e.theme,timeFormat:e.timeFormat,timezonePlugin:e.timezonePlugin,todayText:e.todayText,type:"day",year:n.year,onHoverIn:e.onDayHoverIn,onHoverOut:e.onDayHoverOut})})))})))}(e,this)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._isActive=function(e){return this.s.isActive&&e===this.s.activeDate},t.prototype._isInvalid=function(e){var t=this.s;return If(t,th(t,new Date(e)),t.invalid,t.valid,+t.min,+t.max)},t.prototype._isSelected=function(e){var t=new Date(e),n=th(this.s,t);return!!this.s.selectedDates[+n]},t.prototype._getWeekNr=function(e,t){var n=new Date(t);return""+e.getWeekNumber(e.getDate(n.getFullYear(),n.getMonth(),n.getDate()+(7-e.firstDay+1)%7))},t.prototype._render=function(e){var t=e.weeks||6,n=e.firstDay,r=new Date(e.firstPageDay),a=e.getYear(r),i=e.getMonth(r),s=e.getDay(r),o=e.getDate(a,i,s).getDay(),l=n-o>0?7:0,c=[],u=0;this._rowHeights=[],this._rows=[],this._days=uu;for(var h=0;h<7*t;h++){var d=e.getDate(a,i,h+n-l-o+s),f=Yu(d),m=e.getMonth(d),p=m!==i&&"week"!==e.calendarType,v=e.marked&&e.marked[f],g=v?e.showSingleMark?[{}]:v:null,_=e.labels&&e.labels[f],y=_?_.data.length:0,b=h%7==0;if(e.variableRow){if(b&&p&&h)break;y>u&&(u=y),h%7==6&&(this._rowHeights.push(u*(e.labelHeight||20)+(e.cellTextHeight||0)+3),u=0)}b&&(c=[],this._rows.push(c)),c.push({colors:e.colors&&e.colors[f],date:+d,day:e.dayNames[d.getDay()],display:!p||e.showOuter,events:e.events&&e.events[f],labels:_,marks:g,month:e.monthNames[m],monthShort:e.monthNamesShort[m],outer:p,text:e.getDay(d),year:e.getYear(d)})}},t}(sd));function Xf(e,t,n,r){var a;if(!(t<n||t>r)){if(fu(e)){var i=e.length,s=t%i;a=e[s>=0?s:s+i]}else a=e(t);return a}}var $f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currPos=0,t._delta=0,t._endPos=0,t._lastRaf=0,t._maxSnapScroll=0,t._margin=0,t._scrollEnd=function(e,t){var n;return void 0===t&&(t=100),function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}}((function(){Ch(t._raf),t._raf=!1,t._onEnd(),t._hasScrolled=!1}),200),t._setInnerEl=function(e){t._innerEl=e},t._setScrollEl=function(e){t._scrollEl=e},t._setScrollEl3d=function(e){t._scrollEl3d=e},t._setScrollbarEl=function(e){t._scrollbarEl=e},t._setScrollbarContEl=function(e){t._scrollbarContEl=e},t._onStart=function(e){var n=t.s;t._hook("onStart",{}),n.changeOnEnd&&t._isScrolling||!n.mouseSwipe&&!e.isTouch||!n.swipe||(t._started=!0,t._hasScrolled=t._isScrolling,t._currX=e.startX,t._currY=e.startY,t._delta=0,t._velocityX=0,t._velocityY=0,t._startPos=Bh(t._scrollEl,t._isVertical),t._timestamp=+new Date,t._isScrolling&&(Ch(t._raf),t._raf=!1,t._scroll(t._startPos)))},t._onMove=function(e){var n=e.domEvent,r=t.s;t._isVertical||r.scrollLock||t._hasScrolled?n.cancelable&&n.preventDefault():"touchmove"===n.type&&(Math.abs(e.deltaY)>7||!r.swipe)&&(t._started=!1),t._started&&(t._delta=t._isVertical?e.deltaY:e.deltaX,(t._hasScrolled||Math.abs(t._delta)>t._threshold)&&(t._hasScrolled||t._hook("onGestureStart",{}),t._hasScrolled=!0,t._isScrolling=!0,t._raf||(t._raf=kh((function(){return t._move(e)})))))},t._onEnd=function(){if(t._started=!1,t._hasScrolled){var e,n=t.s,r=17*(t._isVertical?t._velocityY:t._velocityX),a=t._maxSnapScroll,i=t._delta;i+=r*r*.5*(r<0?-1:1),a&&(i=hu(i,-t._round*a,t._round*a));var s=hu(Du((t._startPos+i)/t._round)*t._round,t._min,t._max),o=Du(-s*t._rtlNr/n.itemSize)+t._offset,l=i>0?t._isVertical?270:360:t._isVertical?90:180,c=o-n.selectedIndex;e=n.time||Math.max(1e3,3*Math.abs(s-t._currPos)),t._hook("onGestureEnd",{direction:l,index:o}),t._delta=0,t._scroll(s,e),c&&!n.changeOnEnd&&(t._hook("onIndexChange",{index:o,diff:c}),n.selectedIndex===t._prevIndex&&n.selectedIndex!==o&&t.forceUpdate())}},t._onClick=function(e){t._hasScrolled&&(t._hasScrolled=!1,e.stopPropagation(),e.preventDefault())},t._onScroll=function(e){e.target.scrollTop=0,e.target.scrollLeft=0},t._onMouseWheel=function(e){var n=t._isVertical?void 0===e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX;if(n&&t.s.mousewheel){if(e.preventDefault(),t._hook("onStart",{}),t._started||(t._delta=0,t._velocityX=0,t._velocityY=0,t._startPos=t._currPos,t._hook("onGestureStart",{})),e.deltaMode&&1===e.deltaMode&&(n*=15),n=hu(-n,-t._scrollSnap,t._scrollSnap),t._delta+=n,t._maxSnapScroll&&Math.abs(t._delta)>t._round*t._maxSnapScroll&&(n=0),t._startPos+t._delta<t._min&&(t._startPos=t._min,t._delta=0,n=0),t._startPos+t._delta>t._max&&(t._startPos=t._max,t._delta=0,n=0),t._raf||(t._raf=kh((function(){return t._move()}))),!n&&t._started)return;t._hasScrolled=!0,t._isScrolling=!0,t._started=!0,t._scrollEnd()}},t._onTrackStart=function(e){e.stopPropagation();var n={domEvent:e,startX:md(e,"X",!0),startY:md(e,"Y",!0)};if(t._onStart(n),t._trackStartX=n.startX,t._trackStartY=n.startY,e.target===t._scrollbarEl)Ph(t._doc,hd,t._onTrackEnd),Ph(t._doc,"mousemove",t._onTrackMove);else{var r=Yh(t._scrollbarContEl).top,a=(n.startY-r)/t._barContSize;t._startPos=t._currPos=t._max+(t._min-t._max)*a,t._hasScrolled=!0,t._onEnd()}},t._onTrackMove=function(e){var n=t._barContSize,r=md(e,"X",!0),a=md(e,"Y",!0),i=(t._isVertical?a-t._trackStartY:r-t._trackStartX)/n;t._isInfinite?t._delta=-(t._maxSnapScroll*t._round*2+n)*i:t._delta=(t._min-t._max-n)*i,(t._hasScrolled||Math.abs(t._delta)>t._threshold)&&(t._hasScrolled||t._hook("onGestureStart",{}),t._hasScrolled=!0,t._isScrolling=!0,t._raf||(t._raf=kh((function(){return t._move({endX:r,endY:a},!t._isInfinite)}))))},t._onTrackEnd=function(){t._delta=0,t._startPos=t._currPos,t._onEnd(),Fh(t._doc,hd,t._onTrackEnd),Fh(t._doc,"mousemove",t._onTrackMove)},t._onTrackClick=function(e){e.stopPropagation()},t}return Sc(t,e),t.prototype._render=function(e,t){var n=this._prevS,r=e.batchSize,a=e.batchSize3d,i=e.itemNr||1,s=e.itemSize,o=e.selectedIndex,l=n.selectedIndex,c=void 0===t.index?o:t.index,u=[],h=[],d=o-l,f=c-this._currIndex,m=e.minIndex,p=e.maxIndex,v=e.items,g=e.offset;this._currIndex=c,this._isVertical="Y"===e.axis,this._threshold=this._isVertical?e.thresholdY:e.thresholdX,this._rtlNr=!this._isVertical&&e.rtl?-1:1,this._round=e.snap?s:1;for(var _=this._round;_>44;)_/=2;if(this._scrollSnap=Du(44/_)*_,v){for(var y=c-r;y<c+i+r;y++)u.push({key:y,data:Xf(v,y,m,p)});if(e.scroll3d)for(y=c-a;y<c+i+a;y++)h.push({key:y,data:Xf(v,y,m,p)});this.visibleItems=u,this.visible3dItems=h,this._maxSnapScroll=r,this._isInfinite="function"==typeof v}void 0===this._offset&&(this._offset=o);var b=-(o-this._offset)*s*this._rtlNr;if(Math.abs(d)>r&&b!==this._endPos){var w=d+r*(d>0?-1:1);this._offset+=w,this._margin-=w}if(g&&g!==n.offset&&(this._offset+=g,this._margin-=g),f&&(this._margin+=f),this._max=void 0!==m?-(m-this._offset)*s*this._rtlNr:1/0,this._min=void 0!==p?-(p-this._offset-(e.spaceAround?0:i-1))*s*this._rtlNr:-1/0,-1===this._rtlNr){var E=this._min;this._min=this._max,this._max=E}this._min>this._max&&(this._min=this._max);var x=e.visibleSize*s;this._barContSize=x,this._barSize=Math.max(20,x*x/(this._max-this._min+x)),this._cssClass=this._className+" mbsc-ltr"},t.prototype._mounted=function(){var e=this._el,t=this._scrollbarContEl;this._doc=Vh(e),Ph(this.s.scroll3d?this._innerEl:e,"scroll",this._onScroll),Ph(e,cd,this._onClick,!0),Ph(e,"mousewheel",this._onMouseWheel,{passive:!1}),Ph(e,"wheel",this._onMouseWheel,{passive:!1}),Ph(t,ud,this._onTrackStart),Ph(t,cd,this._onTrackClick),this._unlisten=yd(e,{onEnd:this._onEnd,onHoverIn:function(){t.classList.add("mbsc-scroller-bar-hover")},onHoverOut:function(){t.classList.remove("mbsc-scroller-bar-hover")},onMove:this._onMove,onStart:this._onStart,prevDef:!0})},t.prototype._updated=function(){var e=this.s,t=e.batchSize,n=e.itemSize,r=e.selectedIndex,a=this._prevIndex,i=!e.prevAnim&&(void 0!==a&&a!==r||this._isAnimating),s=-(r-this._offset)*n*this._rtlNr;e.margin&&(this._scrollEl.style.marginTop=this._isVertical?(this._margin-t)*n+"px":""),this._started||this._scroll(s,i?this._isAnimating||e.time||1e3:0),this._prevIndex=r},t.prototype._destroy=function(){Fh(this.s.scroll3d?this._innerEl:this._el,"scroll",this._onScroll),Fh(this._el,cd,this._onClick,!0),Fh(this._el,"mousewheel",this._onMouseWheel,{passive:!1}),Fh(this._el,"wheel",this._onMouseWheel,{passive:!1}),Fh(this._scrollbarContEl,ud,this._onTrackStart),Fh(this._scrollbarContEl,cd,this._onTrackClick),Ch(this._raf),this._raf=!1,this._scroll(0),this._unlisten()},t.prototype._anim=function(e){var t=this;return this._raf=kh((function(){var n=t.s,r=+new Date;if(t._raf){if((t._currPos-t._endPos)*-e<4)return t._currPos=t._endPos,t._raf=!1,t._isAnimating=0,t._isScrolling=!1,t._infinite(t._currPos),t._hook("onAnimationEnd",{}),void t._scrollbarContEl.classList.remove("mbsc-scroller-bar-started");r-t._lastRaf>100&&(t._lastRaf=r,t._currPos=Bh(t._scrollEl,t._isVertical),n.changeOnEnd||t._infinite(t._currPos)),t._raf=t._anim(e)}}))},t.prototype._infinite=function(e){var t=this.s;if(t.itemSize){var n=Du(-e*this._rtlNr/t.itemSize)+this._offset,r=n-this._currIndex;r&&(t.changeOnEnd?this._hook("onIndexChange",{index:n,diff:r}):this.setState({index:n}))}},t.prototype._scroll=function(e,t){var n=this.s,r=n.itemSize,a=this._isVertical,i=this._scrollEl.style,s=Lh?Lh+"T":"t",o=t?Rh+"transform "+Du(t)+"ms "+n.easing:"";if(i[s+"ransform"]="translate3d("+(a?"0,"+e+"px,":e+"px,0,")+"0)",i[s+"ransition"]=o,this._endPos=e,n.scroll3d){var l=this._scrollEl3d.style,c=360/(2*n.batchSize3d);l[s+"ransform"]="translateY(-50%) rotateX("+-e/r*c+"deg)",l[s+"ransition"]=o}if(this._scrollbarEl){var u=this._scrollbarEl.style,h=this._isInfinite?(this._maxSnapScroll*this._round-this._delta)/(this._maxSnapScroll*this._round*2):(e-this._max)/(this._min-this._max),d=hu((this._barContSize-this._barSize)*h,0,this._barContSize-this._barSize);u[s+"ransform"]="translate3d("+(a?"0,"+d+"px,":d+"px,0,")+"0)",u[s+"ransition"]=o}t?(Ch(this._raf),this._isAnimating=t,this._scrollbarContEl.classList.add("mbsc-scroller-bar-started"),this._raf=this._anim(e>this._currPos?1:-1)):(this._currPos=e,n.changeOnEnd||this._infinite(e))},t.prototype._move=function(e,t){var n=this._currX,r=this._currY,a=this._timestamp,i=this._maxSnapScroll;if(e){this._currX=e.endX,this._currY=e.endY,this._timestamp=+new Date;var s=this._timestamp-a;if(s>0&&s<100){var o=(this._currX-n)/s,l=(this._currY-r)/s;this._velocityX=.7*o+.3*this._velocityX,this._velocityY=.7*l+.3*this._velocityY}}i&&!t&&(this._delta=hu(this._delta,-this._round*i,this._round*i)),this._scroll(hu(this._startPos+this._delta,this._min-this.s.itemSize,this._max+this.s.itemSize)),this._raf=!1},t.defaults={axis:"Y",batchSize:40,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",mouseSwipe:!0,mousewheel:!0,prevDef:!0,selectedIndex:0,spaceAround:!0,stopProp:!0,swipe:!0,thresholdX:10,thresholdY:5},t}(sd),Jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t,n){var a;return e.itemRenderer&&(n=t.visibleItems.map((function(n){return e.itemRenderer(n,t._offset)})),e.scroll3d&&(a=t.visible3dItems.map((function(n){return e.itemRenderer(n,t._offset,!0)})))),(0,r.createElement)("div",{ref:t._setEl,className:t._cssClass,style:e.styles},(0,r.createElement)("div",{ref:t._setInnerEl,className:e.innerClass,style:e.innerStyles},(0,r.createElement)("div",{ref:t._setScrollEl,className:"mbsc-scrollview-scroll"+t._rtl},n)),e.scroll3d&&(0,r.createElement)("div",{ref:t._setScrollEl3d,style:{height:e.itemSize+"px"},className:"mbsc-scroller-items-3d"},a),(0,r.createElement)("div",{ref:t._setScrollbarContEl,className:"mbsc-scroller-bar-cont "+t._rtl+(e.scrollBar&&t._barSize!==t._barContSize?"":" mbsc-scroller-bar-hidden")+(t._started?" mbsc-scroller-bar-started":"")},(0,r.createElement)("div",{className:"mbsc-scroller-bar"+t._theme,ref:t._setScrollbarEl,style:{height:t._barSize+"px"}})))}(e,this,e.children)},t}($f),Zf=0,em=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e,t){return function(e,t,n,a){var i,s;Zf++;var o=n._variableRow,l="page"!==n._view,c=((i={}).onAnimationEnd=n._onViewAnimationEnd,i),u=((s={}).onKeyDown=n._onKeyDown,s),h=function(a,i){return(0,r.createElement)(Qf,Dc({},i,{activeDate:n._active,amText:e.amText,calendarType:e.calendarType,cellTextHeight:t.cellTextHeight,clickToCreate:e.clickToCreate,colors:n._colors,dayNames:e.dayNames,dayNamesShort:n._dayNames,dataTimezone:e.dataTimezone,displayTimezone:e.displayTimezone,eventText:e.eventText,events:e.eventMap,eventsText:e.eventsText,exclusiveEndDates:e.exclusiveEndDates,firstDay:e.firstDay,firstPageDay:a,getDate:e.getDate,getDay:e.getDay,getMonth:e.getMonth,getWeekNumber:e.getWeekNumber,getYear:e.getYear,hasMarks:!!n._marked,hoverEnd:e.hoverEnd,hoverStart:e.hoverStart,isPicker:e.isPicker,invalid:n._invalid,labels:n._labelsLayout,labelHeight:t.labelHeight,marked:n._marked,max:n._maxDate,min:n._minDate,monthNames:e.monthNames,monthNamesShort:e.monthNamesShort,onDayClick:n._onDayClick,onDayDoubleClick:e.onDayDoubleClick,onDayRightClick:e.onDayRightClick,onDayHoverIn:n._onDayHoverIn,onDayHoverOut:n._onDayHoverOut,onLabelClick:n._onLabelClick,onLabelDoubleClick:e.onLabelDoubleClick,onLabelRightClick:e.onLabelRightClick,onLabelHoverIn:e.onLabelHoverIn,onLabelHoverOut:e.onLabelHoverOut,onLabelDelete:e.onLabelDelete,pmText:e.pmText,rangeEnd:e.rangeEnd,rangeStart:e.rangeStart,resourcesMap:e.resourcesMap,rtl:e.rtl,selectedDates:e.selectedDates,selectedEventsMap:e.selectedEventsMap,showEventTooltip:e.showEventTooltip,showOuter:n._showOuter,showWeekDays:!n._showDaysTop,showWeekNumbers:e.showWeekNumbers,showSingleMark:!!e.marksMap,todayText:e.todayText,theme:e.theme,timeFormat:e.timeFormat,timezonePlugin:e.timezonePlugin,valid:n._valid,weeks:n._weeks,weekText:e.weekText,renderDay:e.renderDay,renderDayContent:e.renderDayContent,renderLabel:e.renderLabel,renderLabelContent:e.renderLabelContent,variableRow:n._variableRow}))},d=n._showDaysTop&&e.showCalendar?(0,r.createElement)(Gf,{dayNamesShort:n._dayNames,rtl:n._rtl,theme:n._theme,firstDay:e.firstDay,hasScroll:t.hasScrollY,hidden:"page"!==n._view&&!n._hasPicker,showWeekNumbers:e.showWeekNumbers}):null,f={axis:n._axis,batchSize:1,changeOnEnd:!0,className:"mbsc-calendar-scroll-wrapper"+n._theme,data:Zf,easing:"ease-out",itemSize:t.pickerSize,items:n._months,mousewheel:n._mousewheel,prevAnim:n._prevAnim,rtl:e.rtl,snap:!0,time:200},m=(0,r.createElement)("div",{ref:n._setPickerCont,className:n._hasPicker?"mbsc-calendar-picker-wrapper":""},("multi-year"===t.view||"multi-year"===t.viewClosing||"multi-year"===e.selectView)&&(0,r.createElement)("div",Dc({className:n._getPickerClass("multi-year")},c),(0,r.createElement)(Jf,Dc({key:"years",itemRenderer:function(t,a){var i=t.key,s=n._getPageYears(i),o=e.getYear(new Date(n._active)),l=e.getYear(new Date(n._activeMonth));return(0,r.createElement)("div",{"aria-hidden":n._yearsIndex===i?void 0:"true",className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+n._theme+n._rtl,key:i,style:n._getPageStyle(i,a,n._yearsIndex)},(0,r.createElement)("div",{className:"mbsc-calendar-table mbsc-flex-col"},cu.map((function(t,a){return(0,r.createElement)("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:a},lu.map((function(t,i){var c=s+3*a+i,u=+e.getDate(c,0,1);return(0,r.createElement)(Kf,{active:c===l,date:u,display:!0,selected:c===o,disabled:c<n._minYears||c>n._maxYears,rtl:e.rtl,text:c+e.yearSuffix,theme:e.theme,type:"year",onDayClick:n._onYearClick,key:c})})))}))))},maxIndex:n._maxYearsIndex,minIndex:n._minYearsIndex,onGestureEnd:n._onGestureEnd,onIndexChange:n._onYearsPageChange,selectedIndex:n._yearsIndex},f))),("year"===t.view||"year"===t.viewClosing||"year"===e.selectView)&&(0,r.createElement)("div",Dc({className:n._getPickerClass("year")},c),(0,r.createElement)(Jf,Dc({key:"year",itemRenderer:function(t,a){var i=t.key,s=n._getPageYear(i),o=new Date(n._activeMonth),l=e.getYear(o),c=e.getMonth(o),u=new Date(n._active),h=e.getYear(u),d=e.getMonth(u);return(0,r.createElement)("div",{"aria-hidden":n._yearIndex===i?void 0:"true",className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+n._theme+n._rtl,key:i,style:n._getPageStyle(i,a,n._yearIndex)},(0,r.createElement)("div",{className:"mbsc-calendar-table mbsc-flex-col"},cu.map((function(t,a){return(0,r.createElement)("div",{className:"mbsc-calendar-row mbsc-flex mbsc-flex-1-0",key:a},lu.map((function(t,i){var o=e.getDate(s,3*a+i,1),u=e.getYear(o),f=e.getMonth(o);return(0,r.createElement)(Kf,{active:u===l&&f===c,date:+o,display:!0,selected:u===h&&f===d,disabled:o<n._minYear||o>=n._maxYear,month:e.monthNames[f],rtl:e.rtl,text:e.monthNamesShort[f],theme:e.theme,type:"month",onDayClick:n._onMonthClick,key:+o})})))}))))},maxIndex:n._maxYearIndex,minIndex:n._minYearIndex,onGestureEnd:n._onGestureEnd,onIndexChange:n._onYearPageChange,selectedIndex:n._yearIndex},f))),n._hasPicker&&("month"===t.view||"month"===t.viewClosing)&&(0,r.createElement)("div",Dc({className:n._getPickerClass("month")},c),(0,r.createElement)(Jf,Dc({key:"month",itemRenderer:function(t,a){var i=t.key;return(0,r.createElement)("div",{className:"mbsc-calendar-picker-slide mbsc-calendar-slide"+n._theme+n._rtl,key:i,style:n._getPageStyle(i,a,1)},(0,r.createElement)(Qf,{activeDate:n._activeMonth,dataTimezone:e.dataTimezone,dayNames:e.dayNames,dayNamesShort:e.dayNamesMin,displayTimezone:e.displayTimezone,firstDay:e.firstDay,firstPageDay:n._getPageMonth(i),getDate:e.getDate,getDay:e.getDay,getMonth:e.getMonth,getYear:e.getYear,isActive:i>=n._monthIndex&&i<n._monthIndex+1,max:n._maxDate,min:n._minDate,monthNames:e.monthNames,monthNamesShort:e.monthNamesShort,onDayClick:n._onNavDayClick,rtl:e.rtl,selectedDates:e.selectedDates,showOuter:!0,showWeekDays:!n._showDaysTop,theme:e.theme,timezonePlugin:e.timezonePlugin,todayText:e.todayText}))},maxIndex:n._maxMonthIndex,minIndex:n._minMonthIndex,onGestureEnd:n._onGestureEnd,onIndexChange:n._onMonthPageChange,selectedIndex:n._monthIndex},f))));return(0,r.createElement)("div",{className:n._cssClass,ref:n._setEl,style:n._dim,onClick:xu},(0,r.createElement)("div",{className:"mbsc-calendar-wrapper mbsc-flex-col"+n._theme+n._hb+(e.hasContent||!e.showCalendar?" mbsc-calendar-wrapper-fixed mbsc-flex-none":" mbsc-flex-1-1")},(0,r.createElement)("div",{className:"mbsc-calendar-header"+n._theme+n._hb+(n._showDaysTop?" mbsc-calendar-header-vertical":""),ref:n._setHeader},e.showControls&&function(){var t,a;if(e.renderHeader)vu(t=e.renderHeader())&&(t!==n._headerHTML&&(n._headerHTML=t,n._shouldEnhanceHeader=!0),a=n._safeHtml(t));else{var i=n._pageNr>1;t=(0,r.createElement)(r.Fragment,null,(0,r.createElement)(rf,{className:"mbsc-flex mbsc-flex-1-1 mbsc-calendar-title-wrapper"}),(0,r.createElement)(ef,{className:"mbsc-calendar-button-prev"+(i?" mbsc-calendar-button-prev-multi":"")}),e.showToday&&(0,r.createElement)(nf,{className:"mbsc-calendar-header-today"}),(0,r.createElement)(tf,{className:"mbsc-calendar-button-next"+(i?" mbsc-calendar-button-next-multi":"")}))}var s=(0,r.createElement)("div",{className:"mbsc-calendar-controls mbsc-flex"+n._theme,dangerouslySetInnerHTML:a},t);return(0,r.createElement)(Gd.Provider,{children:s,value:{instance:n}})}(),d),(0,r.createElement)("div",Dc({className:"mbsc-calendar-body mbsc-flex-col mbsc-flex-1-1"+n._theme,ref:n._setBody},u),e.showCalendar&&(0,r.createElement)("div",{className:"mbsc-calendar-body-inner mbsc-flex-col mbsc-flex-1-1"+(o?" mbsc-calendar-body-inner-variable":"")},n._isGrid?(0,r.createElement)("div",{"aria-hidden":l?"true":void 0,className:"mbsc-calendar-grid mbsc-flex-1-1 mbsc-flex-col"+n._theme+n._hb},n._monthsMulti.map((function(t,a){return(0,r.createElement)("div",{key:a,className:"mbsc-calendar-grid-row mbsc-flex mbsc-flex-1-1"},t.map((function(t,a){return(0,r.createElement)("div",{key:a,className:"mbsc-calendar-grid-item mbsc-flex-col mbsc-flex-1-1"+n._theme},(0,r.createElement)("div",{className:"mbsc-calendar-month-title"+n._theme},e.monthNames[new Date(t).getMonth()]),h(t,{isActive:!0}))})))}))):o?(0,r.createElement)("div",{"aria-hidden":l?"true":void 0,className:"mbsc-calendar-slide mbsc-calendar-slide-active "+n._getPickerClass("page")},h(+e.navService.firstDay,{dragData:e.dragData,dragToCreate:e.dragToCreate,dragToMove:e.dragToMove,dragToResize:e.dragToResize,isActive:!0,onLabelUpdateEnd:e.onLabelUpdateEnd,onLabelUpdateModeOff:e.onLabelUpdateModeOff,onLabelUpdateModeOn:e.onLabelUpdateModeOn,onLabelUpdateMove:e.onLabelUpdateMove,onLabelUpdateStart:e.onLabelUpdateStart})):"page"===e.selectView&&(0,r.createElement)("div",Dc({"aria-hidden":l?"true":void 0,className:n._getPickerClass("page")},c),(0,r.createElement)(Jf,Dc({},f,{itemNr:n._pageNr,itemSize:t.pageSize/n._pageNr,itemRenderer:function(t,a){var i=t.key,s=i>=n._pageIndex&&i<n._pageIndex+n._pageNr&&"page"===n._view,o={dragData:e.dragData,dragToCreate:e.dragToCreate,dragToMove:e.dragToMove,dragToResize:e.dragToResize,isActive:s,onLabelUpdateEnd:e.onLabelUpdateEnd,onLabelUpdateModeOff:e.onLabelUpdateModeOff,onLabelUpdateModeOn:e.onLabelUpdateModeOn,onLabelUpdateMove:e.onLabelUpdateMove,onLabelUpdateStart:e.onLabelUpdateStart};return(0,r.createElement)("div",{className:"mbsc-calendar-slide"+(s?" mbsc-calendar-slide-active":"")+n._theme+n._rtl,key:i,style:n._getPageStyle(i,a,n._pageIndex,n._pageNr)},h(n._getPageDay(i),o))},maxIndex:n._maxIndex,minIndex:n._minIndex,mouseSwipe:e.mouseSwipe,onAnimationEnd:n._onAnimationEnd,onGestureStart:n._onGestureStart,onIndexChange:n._onPageChange,onStart:n._onStart,selectedIndex:n._pageIndex,swipe:e.swipe}))),!n._hasPicker&&m))),a,n._hasPicker&&(0,r.createElement)(Bf,{anchor:n._pickerBtn,closeOnScroll:!0,contentPadding:!1,context:e.context,cssClass:"mbsc-calendar-popup",display:"anchored",isOpen:"page"!==n._view,locale:e.locale,onClose:n._onPickerClose,onOpen:n._onPickerOpen,rtl:e.rtl,scrollLock:!1,showOverlay:!1,theme:e.theme,themeVariant:e.themeVariant},(0,r.createElement)("div",Dc({},u),(0,r.createElement)("div",{className:"mbsc-calendar-controls mbsc-flex"+n._theme},(0,r.createElement)("div",{"aria-live":"polite",className:"mbsc-calendar-picker-button-wrapper mbsc-calendar-title-wrapper mbsc-flex mbsc-flex-1-1"+n._theme},(0,r.createElement)(bd,{className:"mbsc-calendar-button",onClick:n._onPickerBtnClick,theme:e.theme,themeVariant:e.themeVariant,type:"button",variant:"flat"},n._viewTitle)),(0,r.createElement)(bd,{className:"mbsc-calendar-button",ariaLabel:e.prevPageText,disabled:n._isPrevDisabled(!0),iconSvg:n._prevIcon,onClick:n.prevPage,theme:e.theme,themeVariant:e.themeVariant,type:"button",variant:"flat"}),(0,r.createElement)(bd,{className:"mbsc-calendar-button",ariaLabel:e.nextPageText,disabled:n._isNextDisabled(!0),iconSvg:n._nextIcon,onClick:n.nextPage,theme:e.theme,themeVariant:e.themeVariant,type:"button",variant:"flat"})),m)))}(e,t,this,e.children)},t.prototype._updated=function(){e.prototype._updated.call(this),this._shouldEnhanceHeader&&(Zh(this._headerElement,{view:this}),this._shouldEnhanceHeader=!1)},t}(Hf),tm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._instanceService=new zf,t}return Sc(t,e),t.prototype._template=function(e){return function(e,t){return(0,r.createElement)(em,{ref:t._setCal,refDate:e.refDate,activeDate:e.active,amText:e.amText,cssClass:t._className+" mbsc-flex-1-1 mbsc-calendar-"+e.display,calendarScroll:e.calendarScroll,calendarType:e.calendarType,colors:e.colors,context:e.context,dataTimezone:e.dataTimezone,displayTimezone:e.displayTimezone,timezonePlugin:e.timezonePlugin,downIcon:e.downIcon,exclusiveEndDates:e.exclusiveEndDates,hoverEnd:e.hoverEnd,hoverStart:e.hoverStart,invalid:e.invalid,instanceService:t._instanceService,isPicker:!0,labels:e.labels,marked:e.marked,max:e.max,min:e.min,mousewheel:e.mousewheel,navService:t._navService,nextIconH:e.nextIconH,nextIconV:e.nextIconV,nextPageText:e.nextPageText,noOuterChange:e.selectRange,onActiveChange:t._onActiveChange,onCellHoverIn:e.onCellHoverIn,onCellHoverOut:e.onCellHoverOut,onDayClick:t._onDayClick,onDayHoverIn:e.onDayHoverIn,onDayHoverOut:e.onDayHoverOut,onLabelClick:e.onLabelClick,onPageChange:e.onPageChange,onPageLoaded:e.onPageLoaded,onPageLoading:e.onPageLoading,onTodayClick:t._onTodayClick,pages:e.pages,pmText:e.pmText,prevIconH:e.prevIconH,prevIconV:e.prevIconV,prevPageText:e.prevPageText,renderDay:e.renderDay,renderDayContent:e.renderDayContent,renderHeader:e.renderCalendarHeader,rangeEnd:e.rangeEnd,rangeStart:e.rangeStart,rtl:e.rtl,selectedDates:t._tempValueRep,selectView:e.selectView,showCalendar:!0,showControls:e.showControls,showOuterDays:e.showOuterDays,showToday:!1,showWeekNumbers:e.showWeekNumbers,size:e.size,theme:e.theme,themeVariant:e.themeVariant,update:t._update,upIcon:e.upIcon,valid:e.valid,weeks:e.weeks,width:e.width,getDate:e.getDate,getDay:e.getDay,getMaxDayOfMonth:e.getMaxDayOfMonth,getMonth:e.getMonth,getWeekNumber:e.getWeekNumber,getYear:e.getYear,dateFormat:e.dateFormat,dayNames:e.dayNames,dayNamesMin:e.dayNamesMin,dayNamesShort:e.dayNamesShort,eventText:e.eventText,eventsText:e.eventsText,firstDay:e.firstDay,fromText:e.fromText,monthNames:e.monthNames,monthNamesShort:e.monthNamesShort,moreEventsPluralText:e.moreEventsPluralText,moreEventsText:e.moreEventsText,todayText:e.todayText,toText:e.toText,weekText:e.weekText,yearSuffix:e.yearSuffix})}(e,this)},t}(Vf);function nm(e,t,n,r){var a=void 0===e.min?-1/0:e.min,i=void 0===e.max?1/0:e.max,s=im(e,t),o=sm(e,s),l=o,c=o,u=0,h=0;if(n&&n.get(o)){for(;s-u>=a&&n.get(l)&&u<100;)l=sm(e,s-++u);for(;s+h<i&&n.get(c)&&h<100;)c=sm(e,s+ ++h);if(n.get(l)&&n.get(c))return o;o=(h<u&&h&&-1!==r||!u||s-u<0||1===r)&&!n.get(c)?c:l}return o}function rm(e){return void 0!==e?void 0!==e.value?e.value:void 0!==e.display?e.display:e:e}function am(e,t){if(e.getItem)return e.getItem(t);var n=e.data||[],r=n.length,a=t%r;return e._circular?n[a>=0?a:a+r]:n[hu(t,0,r-1)]}function im(e,t){var n=e.multiple?t&&t.length&&t[0]||void 0:t;return(e.getIndex?+e.getIndex(t):e._map.get(n))||0}function sm(e,t){return rm(am(e,t))}var om,lm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._indexes=[],t._activeIndexes=[],t._wheels=[],t._batches=[],t._lastIndexes=[],t._onSet=function(){t._setOrUpdate()},t._onActiveChange=function(e){var n=e.wheel,r=e.index,a=n._key;t._activeIndexes[a]=r;var i=t._indexes,s=i[a];t._scroll3d?s=r:r-s>=t._rows?s++:r<s&&s--,i[a]=s,t.forceUpdate()},t._onWheelIndexChange=function(e){var n=t.s,r=e.wheel,a=r._key,i=r.multiple,s=sm(r,e.index),o=t._disabled&&t._disabled[a]&&t._disabled[a].get(s),l=[],c=n.selectOnScroll;(c||!e.click)&&(t._lastIndexes[a]=t._indexes[a]=e.index,t._indexes.forEach((function(e,n){var r=t._wheelMap[n],a=r.data?r.data.length:0;t._batches[n]=a?Cu(e/a):0,l[n]=a}))),t._activeIndexes[a]=e.index;var u=t._get(t._tempValueRep),h=!!e.click&&!o,d=c||h;if(i){if(h){var f=(t._tempValueRep[a]||[]).slice();!1===e.selected?f.push(s):!0===e.selected&&f.splice(f.indexOf(s),1),t._tempValueRep[a]=f}}else d&&(t._tempValueRep[a]=s);if(n.onWheelMove&&void 0!==e.index){var m=n.onWheelMove({dataItem:am(r,e.index),selection:d,wheelIndex:a});m&&m.forEach((function(e,n){if(void 0!==e&&(t._tempValueRep[n]=e),!d){var r=t._wheelMap[n],a=im(r,e);t._constrainIndex(a,r)}}))}d&&t._validate(a,e.diff>0?1:-1),c&&t._tempValueRep.forEach((function(e,n){var r=t._wheelMap[n],a=r.data?r.data.length:0,i=t._indexes[n],s=im(r,e)+t._batches[n]*a;t._activeIndexes[n]=t._lastIndexes[n]=t._indexes[n]=s,r._offset=a!==l[n]?s-i:0}));var p=t._get(t._tempValueRep),v=!t._valueEquals(u,p);v||e.click&&t._live&&!t._valueEquals(t.value,p)?t._setOrUpdate(!v):t.forceUpdate(),t._live&&h&&r.closeOnTap&&t.close()},t}return Sc(t,e),t.prototype._initWheels=function(){var e=this,t=0,n=this.s.wheels||[];this._wheelMap=[],n.forEach((function(n){n.forEach((function(n){e._initWheel(n,t),e._wheelMap[t]=n,t++}))})),this._wheels=n},t.prototype._shouldValidate=function(e,t){return!!e.shouldValidate&&e.shouldValidate(e,t)},t.prototype._valueEquals=function(e,t){return this.s.valueEquality?this.s.valueEquality(e,t):e===t},t.prototype._render=function(t,n){var r=this,a=this.props||{},i=this._respProps||{},s=this._prevS,o=!!this._touchUi&&t.circular,l=this._touchUi?t.rows:i.rows||a.rows||7;if(this._displayStyle=t.displayStyle||t.display,this._scroll3d=t.scroll3d&&this._touchUi&&Ah,(t.itemHeight!==s.itemHeight||l!==this._rows)&&(this._rows=l,this._lineStyle={height:t.itemHeight+"px"},this._scroll3d)){var c="translateZ("+(t.itemHeight*l/2+3)+"px";this._overlayStyle={},this._overlayStyle[Rh+"transform"]=c,this._lineStyle[Rh+"transform"]="translateY(-50%) "+c}t.wheels===s.wheels&&o===this._circular||(this._batches=[],this._shouldSetIndex=!0,this._circular=o,this._initWheels()),e.prototype._render.call(this,t,n),this._shouldSetIndex&&(this._setIndexes(),this._shouldSetIndex=this._indexFromValue=!1),t.wheels!==s.wheels&&void 0!==s.wheels&&setTimeout((function(){for(var e=0,t=r._wheelMap;e<t.length;e++){var n=t[e];r._onWheelIndexChange({diff:0,index:r._indexes[n._key],wheel:n})}}))},t.prototype._writeValue=function(t,n,r){return this.s.writeValue?this.s.writeValue(t,n,r):e.prototype._writeValue.call(this,t,n,r)},t.prototype._copy=function(e){return e.slice(0)},t.prototype._format=function(e){return this.s.formatValue?this.s.formatValue(e):e.join(" ")},t.prototype._get=function(e){return this.s.getValue?this.s.getValue(e):e},t.prototype._parse=function(e){if(this.s.parseValue)return this.s.parseValue(e);var t=[],n=[],r=0;return null!=e&&(n=(e+"").split(" ")),this._wheels.forEach((function(e){e.forEach((function(e){for(var a=e.data||[],i=a.length,s=rm(a[0]),o=0;s!=n[r]&&o<i;)s=rm(a[o]),o++;t.push(s),r++}))})),t},t.prototype._validate=function(e,t){var n=this;if(this.s.validate){var r=this.s.validate.call(this._el,{direction:t,index:e,values:this._tempValueRep.slice(0),wheels:this._wheelMap});this._disabled=r.disabled,r.init&&this._initWheels(),r.indexes&&r.indexes.forEach((function(e,t){if(void 0!==e){var r=n._wheelMap[t],a=im(r,e);n._constrainIndex(a,r)}})),r.valid?this._tempValueRep=r.valid.slice(0):this._wheelMap.forEach((function(e,r){n._tempValueRep[r]=nm(e,n._tempValueRep[r],n._disabled&&n._disabled[r],t)}))}},t.prototype._onOpen=function(){this._batches=[],this._shouldSetIndex=!0,this._indexFromValue=!0},t.prototype._onParse=function(){this._shouldSetIndex=!0},t.prototype._initWheel=function(e,t){var n=this._circular;e._key=t,e._map=new Map,e._circular=void 0===n?void 0===e.circular?e.data&&e.data.length>this._rows:e.circular:fu(n)?n[t]:n,e.data&&(e.min=e._circular?void 0:0,e.max=e._circular?void 0:e.data.length-1,e.data.forEach((function(t,n){e._map.set(rm(t),n)})))},t.prototype._setIndexes=function(){var e=this,t=this._indexes||[];this._indexes=[],this._activeIndexes=[],this._tempValueRep.forEach((function(n,r){var a=e._wheelMap[r],i=a.data?a.data.length:0,s=im(a,n);if(e.s.selectOnScroll)e._activeIndexes[r]=e._indexes[r]=s+(e._batches[r]||0)*i;else{var o=s;e._indexFromValue||void 0!==(o=e._prevS.wheels!==e.s.wheels?0:t[r])&&(o=function(e,t){if(e.getItem&&e.getIndex)return e.getIndex(rm(e.getItem(t)));var n=(e.data||[]).length,r=t%n;return n?r>=0?r:r+n:0}(a,o)+(e._batches[r]||0)*i),e._constrainIndex(o,a)}}))},t.prototype._constrainIndex=function(e,t){var n=t._key;void 0!==e&&t.data?(t.spaceAround||(e=hu(e,0,Math.max(t.data.length-this._rows,0))),this._activeIndexes[n]=this._indexes[n]=e):this._activeIndexes[n]=this._indexes[n]=this._lastIndexes[n]||0},t.defaults={itemHeight:40,rows:5,selectOnScroll:!0,showOnClick:!0},t._name="Scroller",t}(Tf),cm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n;if(e.renderItem&&void 0!==e.data){var a=e.renderItem(e.data),i=vu(a)?{__html:a}:void 0;n=i?(0,r.createElement)("div",{dangerouslySetInnerHTML:i}):(0,r.createElement)("div",null,a)}else n=e.text;return(0,r.createElement)("div",{"aria-disabled":e.disabled?"true":void 0,"aria-hidden":void 0===n||e.is3d?"true":void 0,"aria-selected":e.selected?"true":void 0,ref:t._setEl,tabIndex:e.active?0:void 0,className:t._cssClass,role:"option",style:t._style,onClick:t._onClick},e.checkmark&&(0,r.createElement)("span",{className:t._checkmarkClass}),n)}(e,this)},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(){var e=t.s;void 0===e.text||e.isGroup||t._hook("onClick",{index:e.index,selected:e.selected,disabled:e.disabled})},t}return Sc(t,e),t.prototype._mounted=function(){var e=this;this._unlisten=yd(this._el,{click:!0,keepFocus:!1,onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})},onHoverIn:function(){void 0!==e.s.text&&e.setState({hasHover:!0})},onHoverOut:function(){void 0!==e.s.text&&e.setState({hasHover:!1})},onKeyDown:function(t){(32===t.keyCode||!e.s.multiple&&13===t.keyCode)&&e._onClick()},onPress:function(){void 0!==e.s.text&&e.setState({isActive:!0})},onRelease:function(){void 0!==e.s.text&&e.setState({isActive:!1})}})},t.prototype._destroy=function(){this._unlisten()},t.prototype._render=function(e,t){var n=e.height;this._cssClass="mbsc-scroller-wheel-"+(e.isGroup?"header":"item")+this._theme+this._rtl+(e.checkmark&&!e.isGroup?" mbsc-wheel-item-checkmark":"")+(e.is3d?" mbsc-scroller-wheel-item-3d":"")+(e.scroll3d&&!e.is3d?" mbsc-scroller-wheel-item-2d":"")+(e.selected&&!e.is3d?" mbsc-selected":"")+(e.selected&&e.is3d?" mbsc-selected-3d":"")+(e.disabled?" mbsc-disabled":"")+(e.multiple&&!e.isGroup?" mbsc-wheel-item-multi":"")+(t.hasHover?" mbsc-hover":"")+(t.hasFocus?" mbsc-focus":"")+(t.isActive?" mbsc-active":""),this._style={height:n+"px",lineHeight:n+"px"},this._checkmarkClass=this._theme+this._rtl+" mbsc-wheel-checkmark"+(e.selected?" mbsc-selected":""),e.is3d&&(this._transform="rotateX("+(e.offset-e.index)*e.angle3d%360+"deg) translateZ("+n*e.rows/2+"px)",this._style[Rh+"transform"]=this._transform)},t}(sd)),um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n,a=((n={}).onKeyDown=t._onKeyDown,n);return(0,r.createElement)("div",Dc({"aria-multiselectable":e.multiple?"true":void 0,"aria-label":e.wheel.label,className:"mbsc-scroller-wheel-wrapper mbsc-scroller-wheel-wrapper-"+e.wheel._key+" "+(e.wheel.cssClass||"")+(e.scroll3d?" mbsc-scroller-wheel-wrapper-3d":"")+t._theme+t._rtl,ref:t._setEl,role:"listbox",style:t._wheelStyle},a),(0,r.createElement)(Jf,{batchSize3d:t._batchSize3d,className:"mbsc-scroller-wheel"+(e.scroll3d?" mbsc-scroller-wheel-3d":"")+t._theme,innerClass:"mbsc-scroller-wheel-cont mbsc-scroller-wheel-cont-"+e.display+(e.scroll3d?" mbsc-scroller-wheel-cont-3d":"")+(e.multiple?" mbsc-scroller-wheel-multi":"")+t._theme,innerStyles:t._innerStyle,items:t._items,itemSize:e.itemHeight,itemRenderer:function(n,a,i){if(void 0!==n){var s=t._getText(n.data);return(0,r.createElement)(cm,{active:t._isActive(n,s,i),angle3d:t._angle3d,data:n.data,disabled:t._isDisabled(n.data),height:e.itemHeight,index:n.key,is3d:i,isGroup:n.data&&n.data.isGroup,key:n.key,multiple:e.multiple,onClick:t._onItemClick,offset:a,checkmark:e.wheel.checkmark,renderItem:e.renderItem,rows:e.rows,rtl:e.rtl,scroll3d:e.scroll3d,selected:t._isSelected(n),text:s,theme:e.theme})}return null},itemNr:t._itemNr,margin:!0,maxIndex:e.maxIndex,minIndex:e.minIndex,onIndexChange:t._onIndexChange,offset:e.wheel._offset,rtl:e.rtl,scroll3d:e.scroll3d,scrollBar:!t._touchUi,selectedIndex:e.selectedIndex,snap:!0,spaceAround:e.wheel.spaceAround,styles:t._style,visibleSize:e.rows}))}(e,this)},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onIndexChange=function(e){e.wheel=t.s.wheel,t._hook("onIndexChange",e)},t._onItemClick=function(e){t._hook("onIndexChange",{click:!0,index:e.index,wheel:t.s.wheel,selected:e.selected})},t._onKeyDown=function(e){var n=0;38===e.keyCode?n=-1:40===e.keyCode&&(n=1);var r=t.s,a=r.activeIndex+n,i=!(a<r.minIndex||a>r.maxIndex);if(n&&e.preventDefault(),n&&i){var s=r.selectOnScroll?"onIndexChange":"onActiveChange";t._shouldFocus=!0,t._hook(s,{diff:n,index:a,wheel:r.wheel})}else 13===e.keyCode&&r.multiple&&t._hook("onSet",{})},t}return Sc(t,e),t.prototype._getText=function(e){return void 0!==e?void 0!==e.display?e.display:e:void 0},t.prototype._getValue=function(e){return e?void 0!==e.value?e.value:void 0!==e.display?e.display:e:e},t.prototype._isActive=function(e,t,n){var r=this.s,a=r.scroll3d&&r.multiple?n:!n;return r.activeIndex===e.key&&t&&a},t.prototype._isSelected=function(e){var t=this.s,n=t.selectedValues,r=this._getValue(e.data);return t.multiple?!(!n||!n.indexOf)&&n.indexOf(r)>=0:t.selectOnScroll?e.key===t.selectedIndex:void 0!==r&&r===n},t.prototype._isDisabled=function(e){var t=this.s.disabled,n=e&&e.disabled,r=this._getValue(e);return!!(n||t&&t.get(r))},t.prototype._render=function(e){var t=e.rows,n=e.itemHeight,r=e.wheel._key,a=2*Du((n-.03*(n*t/2+3))/2);this._items=e.wheel.getItem||e.wheel.data||[],this._batchSize3d=Du(1.8*t),this._angle3d=360/(2*this._batchSize3d),this._style={height:2*Du(t*n*(e.scroll3d?1.1:1)/2)+"px"},this._itemNr=e.wheel.spaceAround?1:t,this._innerStyle={height:(e.scroll3d?a:e.wheel.spaceAround?n:n*t)+"px"},this._wheelStyle=e.wheelWidth?{width:(fu(e.wheelWidth)?e.wheelWidth[r]:e.wheelWidth)+"px"}:{maxWidth:(fu(e.maxWheelWidth)?e.maxWheelWidth[r]:e.maxWheelWidth)+"px",minWidth:(fu(e.minWheelWidth)?e.minWheelWidth[r]:e.minWheelWidth)+"px"},e.scroll3d&&(this._innerStyle[Rh+"transform"]="translateY(-50%) translateZ("+(n*t/2+3)+"px")},t.prototype._updated=function(){if(this._shouldFocus){var e=this._el.querySelector('[tabindex="0"]');e&&setTimeout((function(){e.focus()})),this._shouldFocus=!1}},t}(sd)),hm=new Ic,dm=0;function fm(){clearTimeout(om),om=setTimeout((function(){hm.next()}),100)}function mm(e){try{return qh(e,"*:-webkit-autofill")}catch(e){return!1}}var pm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tag="input",t._onClick=function(){t._hidePass=!t._hidePass},t._onMouseDown=function(e){t.s.tags&&(t._preventFocus=!0)},t._onTagClear=function(e,n){if(e.stopPropagation(),e.preventDefault(),!t.s.disabled){var r=t.s.pickerValue.slice();r.splice(n,1),Gh(t._el,ld,r)}},t._sizeTextArea=function(){var e,n,r,a=t._el,i=t.s.rows;a.offsetHeight&&(a.style.height="",r=a.scrollHeight-a.offsetHeight,e=a.offsetHeight+(r>0?r:0),(n=Math.round(e/24))>i?(e=24*i+(e-24*n),a.style.overflow="auto"):a.style.overflow="",e&&(a.style.height=e+"px"))},t._onAutoFill=function(){"floating"===t.s.labelStyle&&mm(t._el)&&t.setState({isFloatingActive:!0})},t}return Sc(t,e),t.prototype._change=function(e){},t.prototype._checkFloating=function(){var e=this,t=this._el,n=this.s,r=mm(t),a=this.state.hasFocus||r||!gu(this.value);if(t&&"floating"===n.labelStyle){if("select"===this._tag){var i=t,s=i.options[0];a=!!(a||i.multiple||i.value||i.selectedIndex>-1&&s&&s.label)}else void 0===this.value&&(a=!(!a&&!t.value));this._valueChecked=!0,Tu(this,(function(){e.setState({isFloatingActive:a})}))}},t.prototype._mounted=function(){var e,t=this,n=this.s,r=this._el;Ph(r,"animationstart",this._onAutoFill),"textarea"===this._tag&&(Ph(r,"input",this._sizeTextArea),this._unsubscribe=(e=this._sizeTextArea,dm||Ph(_h,"resize",fm),dm++,hm.subscribe(e))),this._unlisten=yd(r,{keepFocus:!0,onBlur:function(){t.setState({hasFocus:!1,isFloatingActive:!!r.value})},onChange:function(e){if("file"===n.type){for(var r=[],a=0,i=e.target.files;a<i.length;a++){var s=i[a];r.push(s.name)}t.setState({files:r.join(", ")})}n.tags&&void 0===n.value&&void 0===n.defaultValue&&t.setState({value:e.target.value}),t._checkFloating(),t._change(e.target.value),t._emit("onChange",e)},onFocus:function(){t._preventFocus||t.setState({hasFocus:!0,isFloatingActive:!0}),t._preventFocus=!1},onHoverIn:function(){t._disabled||t.setState({hasHover:!0})},onHoverOut:function(){t.setState({hasHover:!1})},onInput:function(e){t._change(e.target.value)}})},t.prototype._render=function(e,t){var n=!(!e.endIconSvg&&!e.endIcon),r=e.pickerValue,a=!(!e.startIconSvg&&!e.startIcon),i=void 0!==e.label||e.hasChildren,s=e.error,o=e.rtl?"right":"left",l=e.rtl?"left":"right",c=e.inputStyle,u=e.labelStyle,h="floating"===u,d=!(!h||!i||!t.isFloatingActive&&gu(e.value)),f=void 0===e.disabled?t.disabled:e.disabled,m=this._prevS,p=void 0!==e.modelValue?e.modelValue:e.value,v=void 0!==p?p:void 0!==t.value?t.value:e.defaultValue,g=this._theme+this._rtl+(s?" mbsc-error":"")+(f?" mbsc-disabled":"")+(t.hasHover?" mbsc-hover":"")+(t.hasFocus&&!f?" mbsc-focus":"");"file"!==e.type||n||(e.endIconSvg='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>',n=!0),e.tags&&(gu(r)&&(r=[]),fu(r)||(r=[r]),this._tagsArray=e.pickerMap?r.map((function(t){return e.pickerMap.get(t)})):gu(v)?[]:v.split(", ")),e.passwordToggle&&(n=!0,this._passIconClass=g+" mbsc-toggle-icon mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+l+" mbsc-textfield-icon-"+c+"-"+l+(i?" mbsc-textfield-icon-"+u:""),this._hidePass=void 0===this._hidePass?"password"===e.type:this._hidePass),this._hasStartIcon=a,this._hasEndIcon=n,this._hasError=s,this._disabled=f,this._value=v,this._cssClass=this._className+this._hb+g+" mbsc-form-control-wrapper mbsc-textfield-wrapper mbsc-font mbsc-textfield-wrapper-"+c+(f?" mbsc-disabled":"")+(i?" mbsc-textfield-wrapper-"+u:"")+(a?" mbsc-textfield-wrapper-has-icon-"+o+" ":"")+(n?" mbsc-textfield-wrapper-has-icon-"+l+" ":""),i&&(this._labelClass=g+" mbsc-label mbsc-label-"+u+" mbsc-label-"+c+"-"+u+(a?" mbsc-label-"+c+"-"+u+"-has-icon-"+o+" ":"")+(n?" mbsc-label-"+c+"-"+u+"-has-icon-"+l+" ":"")+(h&&this._animateFloating?" mbsc-label-floating-animate":"")+(d?" mbsc-label-floating-active":"")),this._innerClass=g+" mbsc-textfield-inner mbsc-textfield-inner-"+c+(i?" mbsc-textfield-inner-"+u:""),a&&(this._startIconClass=g+" mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+o+" mbsc-textfield-icon-"+c+"-"+o+(i?" mbsc-textfield-icon-"+u:"")),n&&(this._endIconClass=g+" mbsc-textfield-icon mbsc-textfield-icon-"+c+" mbsc-textfield-icon-"+l+" mbsc-textfield-icon-"+c+"-"+l+(i?" mbsc-textfield-icon-"+u:"")),this._nativeElmClass=g+" "+(e.inputClass||"")+" mbsc-textfield mbsc-textfield-"+c+(e.dropdown?" mbsc-select":"")+(i?" mbsc-textfield-"+u+" mbsc-textfield-"+c+"-"+u:"")+(d?" mbsc-textfield-floating-active":"")+(a?" mbsc-textfield-has-icon-"+o+" mbsc-textfield-"+c+"-has-icon-"+o+(i?" mbsc-textfield-"+c+"-"+u+"-has-icon-"+o:""):"")+(n?" mbsc-textfield-has-icon-"+l+" mbsc-textfield-"+c+"-has-icon-"+l+(i?" mbsc-textfield-"+c+"-"+u+"-has-icon-"+l:""):""),("select"===this._tag||e.dropdown)&&(this._selectIconClass="mbsc-select-icon mbsc-select-icon-"+c+this._rtl+this._theme+(i?" mbsc-select-icon-"+u:"")+(a?" mbsc-select-icon-"+o:"")+(n?" mbsc-select-icon-"+l:"")),("textarea"===this._tag||e.tags)&&(this._cssClass+=" mbsc-textarea-wrapper",this._innerClass+=" mbsc-textarea-inner",this._nativeElmClass+=" mbsc-textarea","textarea"!==this._tag||v===this._prevValue&&e.inputStyle===m.inputStyle&&e.labelStyle===m.labelStyle&&e.rows===m.rows&&e.theme===m.theme||(this._shouldSize=!0),this._prevValue=v),e.tags&&(this._innerClass+=" mbsc-textfield-tags-inner"),"file"===e.type&&(this._dummyElmClass=this._nativeElmClass,this._nativeElmClass+=" mbsc-textfield-file"),this._errorClass=this._theme+this._rtl+" mbsc-error-message mbsc-error-message-"+c+(i?" mbsc-error-message-"+u:"")+(a?" mbsc-error-message-has-icon-"+o:"")+(n?" mbsc-error-message-has-icon-"+l:""),e.notch&&"outline"===c&&(this._fieldSetClass="mbsc-textfield-fieldset"+g+(a?" mbsc-textfield-fieldset-has-icon-"+o:"")+(n?" mbsc-textfield-fieldset-has-icon-"+l:""),this._legendClass="mbsc-textfield-legend"+this._theme+(d||i&&"stacked"===u?" mbsc-textfield-legend-active":"")),e.ripple&&"outline"!==e.inputStyle&&(this._rippleClass="mbsc-textfield-ripple"+this._theme+(s?" mbsc-error":"")+(t.hasFocus?" mbsc-textfield-ripple-active":"")),this._valueChecked&&(this._animateFloating=!0)},t.prototype._updated=function(){var e=this;this._shouldSize&&(this._shouldSize=!1,Tu(this,(function(){e._sizeTextArea()}))),this._checkFloating()},t.prototype._destroy=function(){Fh(this._el,"animationstart",this._onAutoFill),Fh(this._el,"input",this._sizeTextArea),this._unsubscribe&&function(e){dm--,hm.unsubscribe(e),dm||Fh(_h,"resize",fm)}(this._unsubscribe),this._unlisten&&this._unlisten()},t.defaults={dropdown:!1,dropdownIcon:yc,hideIcon:"eye-blocked",inputStyle:"underline",labelStyle:"stacked",placeholder:"",ripple:!1,rows:6,showIcon:"eye",type:"text"},t._name="Input",t}(sd),vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._el&&this._el.value},set:function(e){this._el.value=e,this._checkFloating(),"textarea"===this._tag&&this._sizeTextArea()},enumerable:!0,configurable:!0}),t.prototype._template=function(e,t){return function(e,t,n,a,i){var s,o=n.props;o.children;var l=o.dropdown;o.dropdownIcon,o.endIcon,o.endIconSrc,o.endIconSvg,o.error;var c=o.errorMessage,u=o.hasChildren;o.hideIcon,o.hideIconSvg,o.inputClass,o.inputStyle,o.label,o.labelStyle,o.modelValue,o.notch,o.passwordToggle,o.pickerMap,o.pickerValue,o.ripple,o.rows,o.rtl,o.showIcon,o.showIconSvg,o.startIcon,o.startIconSrc,o.startIconSvg;var h=o.tags;o.theme,o.themeVariant;var d=o.type,f=kc(o,["children","dropdown","dropdownIcon","endIcon","endIconSrc","endIconSvg","error","errorMessage","hasChildren","hideIcon","hideIconSvg","inputClass","inputStyle","label","labelStyle","modelValue","notch","passwordToggle","pickerMap","pickerValue","ripple","rows","rtl","showIcon","showIconSvg","startIcon","startIconSrc","startIconSvg","tags","theme","themeVariant","type"]),m=e.label,p=((s={}).onMouseDown=n._onMouseDown,s),v=f;return(0,r.createElement)("label",Dc({className:n._cssClass},p),(m||u)&&(0,r.createElement)("span",{className:n._labelClass},u?"":m),(0,r.createElement)("span",{className:n._innerClass},"input"===n._tag&&(0,r.createElement)("input",Dc({},v,{ref:n._setEl,className:n._nativeElmClass+(e.tags?" mbsc-textfield-hidden":""),disabled:n._disabled,type:e.passwordToggle?n._hidePass?"password":"text":d})),"file"===d&&(0,r.createElement)("input",{className:n._dummyElmClass,disabled:n._disabled,placeholder:e.placeholder,readOnly:!0,type:"text",value:t.files||""}),"select"===n._tag&&(0,r.createElement)("select",Dc({},v,{ref:n._setEl,className:"mbsc-select"+n._nativeElmClass,disabled:n._disabled}),a),"textarea"===n._tag&&(0,r.createElement)("textarea",Dc({},v,{ref:n._setEl,className:n._nativeElmClass,disabled:n._disabled})),h&&(0,r.createElement)("span",{className:"mbsc-textfield-tags"+n._nativeElmClass},n._tagsArray.length?n._tagsArray.map((function(t,a){return t&&(0,r.createElement)("span",{key:a,className:"mbsc-textfield-tag"+n._theme+n._rtl},(0,r.createElement)("span",{className:"mbsc-textfield-tag-text"+n._theme},t),(0,r.createElement)(od,{className:"mbsc-textfield-tag-clear",onClick:function(e){return n._onTagClear(e,a)},svg:e.clearIcon,theme:e.theme}))})):(0,r.createElement)("span",{className:"mbsc-textfield-tags-placeholder"+n._theme},e.placeholder)),("select"===n._tag||l)&&(0,r.createElement)(od,{className:n._selectIconClass,svg:e.dropdownIcon,theme:e.theme}),n._hasStartIcon&&(0,r.createElement)(od,{className:n._startIconClass,name:e.startIcon,svg:e.startIconSvg,theme:e.theme}),n._hasEndIcon&&!e.passwordToggle&&(0,r.createElement)(od,{className:n._endIconClass,name:e.endIcon,svg:e.endIconSvg,theme:e.theme}),e.passwordToggle&&(0,r.createElement)(od,{onClick:n._onClick,className:n._passIconClass,name:n._hidePass?e.showIcon:e.hideIcon,svg:n._hidePass?e.showIconSvg:e.hideIconSvg,theme:e.theme}),n._hasError&&(0,r.createElement)("span",{className:n._errorClass},c),e.notch&&"outline"===e.inputStyle&&(0,r.createElement)("fieldset",{"aria-hidden":"true",className:n._fieldSetClass},(0,r.createElement)("legend",{className:n._legendClass},m&&"inline"!==e.labelStyle?m:"&nbsp;")),e.ripple&&"outline"!==e.inputStyle&&(0,r.createElement)("span",{className:n._rippleClass})))}(e,t,this,e.children)},t}(pm);function gm(e,t,n){var a=t.inputComponent,i=Dc({defaultValue:e._value&&e._valueText||"",placeholder:t.placeholder,ref:e._setInput},t.inputProps);t.inputComponent||(a=vm,i=Dc({"aria-expanded":!!e._isOpen,"aria-haspopup":"dialog","aria-label":t.ariaLabel,disabled:t.disabled,dropdown:t.dropdown,endIcon:t.endIcon,endIconSrc:t.endIconSrc,endIconSvg:t.endIconSvg,error:t.error,errorMessage:t.errorMessage,inputStyle:t.inputStyle,label:t.label,labelStyle:t.labelStyle,name:t.name,pickerMap:t.valueMap,pickerValue:e._value,placeholder:t.placeholder,role:"combobox",rtl:t.rtl,startIcon:t.startIcon,startIconSrc:t.startIconSrc,startIconSvg:t.startIconSvg,tags:void 0===t.tagInput?t.selectMultiple:t.tagInput,theme:t.theme,themeVariant:t.themeVariant},i));var s=(0,r.createElement)(a,i);return(0,r.createElement)(r.Fragment,null,e._showInput&&s,(0,r.createElement)(Bf,{activeElm:t.activeElm,anchor:e._anchor,anchorAlign:e._anchorAlign,animation:t.animation,buttons:e._buttons,cancelText:t.cancelText,closeOnEsc:t.closeOnEsc,closeOnOverlayClick:t.closeOnOverlayClick,closeOnScroll:t.closeOnScroll,closeText:t.closeText,contentPadding:!1,context:t.context,cssClass:e._cssClass,disableLeftRight:!0,display:t.display,focusElm:e._focusElm,focusOnClose:t.focusOnClose,focusOnOpen:!e._allowTyping,focusTrap:t.focusTrap,fullScreen:t.fullScreen,headerText:e._headerText,height:t.height,isOpen:e._isOpen,maxHeight:t.maxHeight,maxWidth:e._maxWidth,onClose:e._onPopupClose,onClosed:e._onPopupClosed,onKeyDown:e._onPopupKey,onOpen:e._onPopupOpen,onResize:e._onResize,setText:t.setText,showArrow:t.showArrow,showOverlay:!e._allowTyping&&t.showOverlay,ref:e._setPopup,rtl:t.rtl,scrollLock:e._scrollLock,theme:t.theme,themeVariant:t.themeVariant,touchUi:e._touchUi,windowWidth:e.state.width,width:t.width},n))}var _m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return gm(this,e,function(e,t){var n=e.renderPreContent?e.renderPreContent(e.preContentData):"",a=e.renderInContent?e.renderInContent(e.preContentData):"";return(0,r.createElement)(r.Fragment,null,n,(0,r.createElement)("div",{className:"mbsc-scroller mbsc-scroller-"+t._displayStyle+t._theme+t._rtl+(t._touchUi?" mbsc-scroller-touch":" mbsc-scroller-pointer")+("inline"===e.display?" mbsc-font ":" ")+t._className},a,t._wheels.map((function(n,a){return(0,r.createElement)("div",{key:a,className:"mbsc-scroller-wheel-group-cont"+(e.scroll3d?" mbsc-scroller-wheel-group-cont-3d":"")+t._theme},e.selectOnScroll&&(0,r.createElement)("div",{className:"mbsc-scroller-wheel-line"+t._theme,style:t._lineStyle}),(0,r.createElement)("div",{className:"mbsc-flex mbsc-scroller-wheel-group"+(e.scroll3d?" mbsc-scroller-wheel-group-3d":"")+t._theme},(0,r.createElement)("div",{className:"mbsc-scroller-wheel-overlay mbsc-scroller-wheel-overlay-"+t._displayStyle+t._theme,style:t._overlayStyle}),n.map((function(n,a){return(0,r.createElement)(um,{activeIndex:t._activeIndexes[n._key],disabled:t._disabled&&t._disabled[n._key],display:t._displayStyle,key:a,itemHeight:e.itemHeight,onActiveChange:t._onActiveChange,onIndexChange:t._onWheelIndexChange,onSet:t._onSet,maxIndex:n.max,maxWheelWidth:e.maxWheelWidth,minIndex:n.min,minWheelWidth:e.minWheelWidth,multiple:n.multiple,renderItem:e.renderItem,rows:t._rows,scroll3d:t._scroll3d,selectedIndex:t._indexes[n._key],selectedValues:t._tempValueRep[n._key],selectOnScroll:e.selectOnScroll,theme:e.theme,touchUi:e.touchUi,rtl:e.rtl,wheel:n,wheelWidth:e.wheelWidth})}))))}))))}(e,this))},t}(lm),ym={ios:50,material:46,windows:50},bm=["a","h","i","s","tt"];function wm(e,t,n,r,a,i,s,o,l,c,u,h,d,f,m,p){for(var v=$u(d,f),g=v||!$u(h,f)?d:Bu(e,d),_=v||!$u(h,d)?f:Wu(e,f),y=i.a(g),b=i.a(_),w=!0,E=!0,x=!1,S=0,D=0,k=0;k<n;k++){var C=r[a[M=bm[k]]];if(void 0!==C){var T=w?i[M](g):0,I=E?i[M](_):s[M];t&&1===k&&(T+=y?12:0,I+=b?12:0,C+=r[a.a]?12:0),(w||E)&&T<C&&C<I&&(x=!0),C!==T&&(w=!1),C!==I&&(E=!1)}}if(!m){for(k=n+1;k<4;k++){var M;void 0!==a[M=bm[k]]&&(i[M](g)>0&&w&&(S=o[l]),i[M](_)<s[M]&&E&&(D=o[l]))}E&&p&&!D&&(D=999!==_.getMilliseconds()?o[l]:0)}if(w||E||x)for(T=w&&!x?i[l](g)+S:0,I=E&&!x?i[l](_)-D:s[l],k=T;k<=I;k+=o[l])c[u].set(k,!m)}function Em(e,t){var n=new Date(e);return t?Cu(+n/864e5):n.getMonth()+12*(n.getFullYear()-1970)}function xm(e){return e.getFullYear()+"-"+Su(e.getMonth()+1)+"-"+Su(e.getDate())}function Sm(e){return e.getMilliseconds()}function Dm(e){return e.getHours()>11?1:0}var km=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._preset="date",t._innerValues={},t._onChange=function(e){void 0===t.s.value&&t.setState({value:e.value}),t._hook("onChange",e)},t._parseDate=function(e){var n=t.s;return e||(t._innerValues={}),t._getArray(ah(e||n.defaultSelection||new Date,n,t._format),!!e)},t._formatDate=function(e){var n=t._getDate(e);return n?oh(t._format,n,t.s):""},t._getDate=function(e){var n,r,a=t.s,i=t._getArrayPart,s=t._wheelOrder,o=new Date((new Date).setHours(0,0,0,0));if(null==e)return null;if(void 0!==s.dd){var l=e[s.dd].split("-");n=new Date(l[0],l[1]-1,l[2])}void 0!==s.tt&&(r=n||o,r=new Date(r.getTime()+e[s.tt]%86400*1e3));var c=i(e,"y",n,o),u=i(e,"m",n,o),h=Math.min(i(e,"d",n,o),a.getMaxDayOfMonth(c,u)),d=i(e,"h",r,o);return a.getDate(c,u,h,t._hasAmPm&&i(e,"a",r,o)?d+12:d,i(e,"i",r,o),i(e,"s",r,o),i(e,"u",r,o))},t._validate=function(e){var n=e.direction,r=e.index,a=e.values,i=e.wheels,s=[],o=t.s,l=o.stepHour,c=o.stepMinute,u=o.stepSecond,h=o.mode||t._preset,d=t._wheelOrder,f=t._getDatePart,m=t._max,p=t._min,v=th(o,t._getDate(a)),g=o.getYear(v),_=o.getMonth(v),y=o.getDate(g,_-1,1),b=o.getDate(g,_+2,1);r!==d.y&&r!==d.m&&r!==d.d&&r!==d.dd&&void 0!==r||(t._valids=Ad(o.valid,y,b,o,!0),t._invalids=Ad(o.invalid,y,b,o,!0));var w=t._valids,E=t._invalids,x=Mf(v,o,p?+p:-1/0,m?+m:1/0,E,w,n),S=t._getArray(x),D=t._wheels&&t._wheels[0][d.d],k=f.y(x),C=f.m(x),T=o.getMaxDayOfMonth(k,C),I={y:p?p.getFullYear():-1/0,m:0,d:1,h:0,i:0,s:0,a:0,tt:0},M={y:m?m.getFullYear():1/0,m:11,d:31,h:ku(t._hasAmPm?11:23,l),i:ku(59,c),s:ku(59,u),a:1,tt:86400},N={y:1,m:1,d:1,h:l,i:c,s:u,a:1,tt:t._timeStep},L=!1,R=!0,A=!0;if(["dd","y","m","d","tt","a","h","i","s"].forEach((function(e){var t=I[e],n=M[e],r=f[e](x),a=d[e];if(R&&p&&(t=f[e](p)),A&&m&&(n=f[e](m)),r<t&&(r=t),r>n&&(r=n),"dd"===e||"tt"===e||"a"===e&&void 0===a||(R&&(R=r===t),A&&(A=r===n)),void 0!==a){if(s[a]=new Map,"y"!==e&&"dd"!==e)for(var i=I[e];i<=M[e];i+=N[e])(i<t||i>n)&&s[a].set(i,!0);if("d"===e&&E)for(var l in E)if(!w||!w[l]){var c=ah(l,o),u=o.getYear(c),h=o.getMonth(c);u===k&&h===C&&If(o,c,E,w)&&s[a].set(o.getDay(c),!0)}}})),/time/i.test(h)){var O=E&&E[Yu(x)],P=w&&w[Yu(x)];bm.forEach((function(e,r){var a=d[e];if(void 0!==a){var l=o.valid?P:O;if(l){if(o.valid)for(var c=0;c<=M[e];c++)s[a].set(c,!0);for(var u=0,h=l;u<h.length;u++){var m=h[u],p=m.start,v=m.end;p&&v&&wm(o,t._hasAmPm,r,S,d,f,M,N,e,s,a,x,p,v,!!o.valid,o.exclusiveEndDates)}}S[a]=nm(i[a],f[e](x),s[a],n)}}))}var F=t._dateDisplay;if(D&&(D.data.length!==T||/DDD/.test(F))){for(var V=[],z=F.replace(/[my|]/gi,"").replace(/DDDD/,"{dddd}").replace(/DDD/,"{ddd}").replace(/DD/,"{dd}").replace(/D/,"{d}"),H=1;H<=T;H++){var U=o.getDate(k,C,H).getDay(),B=z.replace(/{dddd}/,o.dayNames[U]).replace(/{ddd}/,o.dayNamesShort[U]).replace(/{dd}/,Su(H)+o.daySuffix).replace(/{d}/,H+o.daySuffix);V.push({display:B,value:H})}D.data=V,L=!0}return{disabled:s,init:L,valid:S}},t._shouldValidate=function(e,t){return!!(e.min&&+e.min!=+t.min||e.max&&+e.max!=+t.max)||e.wheels!==t.wheels||e.dataTimezone!==t.dataTimezone||e.displayTimezone!==t.displayTimezone},t._setScroller=function(e){t._scroller=e},t._getYearValue=function(e){return{display:(/yy/i.test(t._dateDisplay)?e:(e+"").substr(2,2))+t.s.yearSuffix,value:e}},t._getYearIndex=function(e){return+e},t._getDateIndex=function(e){return Em(e,t._hasDay)},t._getDateItem=function(e){var n=t.s,r=t._hasDay,a=new Date((new Date).setHours(0,0,0,0)),i=r?new Date(864e5*e):new Date(1970,e,1);return r&&(i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())),{disabled:r&&If(n,i,t._invalids,t._valids),display:a.getTime()===i.getTime()?n.todayText:oh(t._dateTemplate,i,n),value:xm(i)}},t._getArrayPart=function(e,n,r,a){var i;return void 0===t._wheelOrder[n]||(i=+e[t._wheelOrder[n]],isNaN(i))?r?t._getDatePart[n](r):void 0!==t._innerValues[n]?t._innerValues[n]:t._getDatePart[n](a):i},t._getHours=function(e){var n=e.getHours();return ku(n=t._hasAmPm&&n>=12?n-12:n,t.s.stepHour)},t._getMinutes=function(e){return ku(e.getMinutes(),t.s.stepMinute)},t._getSeconds=function(e){return ku(e.getSeconds(),t.s.stepSecond)},t._getFullTime=function(e){return ku(Du((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),t._timeStep||1)},t}return Sc(t,e),t.prototype.getVal=function(){return this._value},t.prototype.setVal=function(e){this._value=e,this.setState({value:e})},t.prototype.position=function(){this._scroller&&this._scroller.position()},t.prototype.isVisible=function(){return this._scroller&&this._scroller.isVisible()},t.prototype._valueEquals=function(e,t){return ch(e,t,this.s)},t.prototype._render=function(e,t){var n=!1,r=this._prevS,a=e.dateFormat,i=e.timeFormat,s=e.mode||this._preset,o="datetime"===s?a+e.separator+i:"time"===s?i:a;this._value=void 0===e.value?t.value:e.value,this._minWheelWidth=e.minWheelWidth||("datetime"===s?ym[e.baseTheme||e.theme]:void 0),this._dateWheels=e.dateWheels||("datetime"===s?e.dateWheelFormat:a),this._dateDisplay=e.dateWheels||e.dateDisplay,this._timeWheels=e.timeWheels||i,this._timeDisplay=this._timeWheels,this._format=o,this._hasAmPm=/h/.test(this._timeDisplay),this._getDatePart={y:e.getYear,m:e.getMonth,d:e.getDay,h:this._getHours,i:this._getMinutes,s:this._getSeconds,u:Sm,a:Dm,dd:xm,tt:this._getFullTime},+ah(r.min)!=+ah(e.min)&&(n=!0,this._min=gu(e.min)?void 0:ah(e.min,e,o)),+ah(r.max)!=+ah(e.max)&&(n=!0,this._max=gu(e.max)?void 0:ah(e.max,e,o)),(e.theme!==r.theme||e.mode!==r.mode||e.locale!==r.locale||e.dateWheels!==r.dateWheels||e.timeWheels!==r.timeWheels||n)&&(this._wheels=this._getWheels())},t.prototype._getWheels=function(){this._wheelOrder={};var e,t=this.s,n=t.mode||this._preset,r=this._hasAmPm,a=this._dateDisplay,i=this._timeDisplay,s=this._wheelOrder,o=[],l=[],c=[],u=0;if(/date/i.test(n)){for(var h=0,d=this._dateWheels.split(/\|/.test(this._dateWheels)?"|":"");h<d.length;h++){var f=0;if((y=d[h]).length)if(/y/i.test(y)&&f++,/m/i.test(y)&&f++,/d/i.test(y)&&f++,f>1&&void 0===s.dd)s.dd=u,u++,l.push(this._getDateWheel(y)),c=l;else if(/y/i.test(y)&&void 0===s.y)s.y=u,u++,l.push({cssClass:"mbsc-datetime-year-wheel",getIndex:this._getYearIndex,getItem:this._getYearValue,label:t.yearText,max:this._max?t.getYear(this._max):void 0,min:this._min?t.getYear(this._min):void 0,spaceAround:!0});else if(/m/i.test(y)&&void 0===s.m){s.m=u,e=[],u++;for(var m=a.replace(/[dy|]/gi,"").replace(/MMMM/,"{mmmm}").replace(/MMM/,"{mmm}").replace(/MM/,"{mm}").replace(/M/,"{m}"),p=0;p<12;p++){var v=m.replace(/{mmmm}/,t.monthNames[p]).replace(/{mmm}/,t.monthNamesShort[p]).replace(/{mm}/,Su(p+1)+(t.monthSuffix||"")).replace(/{m}/,p+1+(t.monthSuffix||""));e.push({display:v,value:p})}l.push({cssClass:"mbsc-datetime-month-wheel",data:e,label:t.monthText,spaceAround:!0})}else if(/d/i.test(y)&&void 0===s.d){for(s.d=u,e=[],u++,p=1;p<32;p++)e.push({display:(/dd/i.test(a)?Su(p):p)+t.daySuffix,value:p});l.push({cssClass:"mbsc-datetime-day-wheel",data:e,label:t.dayText,spaceAround:!0})}}o.push(l)}if(/time/i.test(n)){for(var g=0,_=this._timeWheels.split(/\|/.test(this._timeWheels)?"|":"");g<_.length;g++){var y;if(f=0,(y=_[g]).length&&(/h/i.test(y)&&f++,/m/i.test(y)&&f++,/s/i.test(y)&&f++,/a/i.test(y)&&f++),f>1&&void 0===s.tt)s.tt=u,u++,c.push(this._getTimeWheel(y));else if(/h/i.test(y)&&void 0===s.h){for(e=[],s.h=u,u++,p=0;p<(r?12:24);p+=t.stepHour)e.push({display:r&&0===p?12:/hh/i.test(i)?Su(p):p,value:p});c.push({cssClass:"mbsc-datetime-hour-wheel",data:e,label:t.hourText,spaceAround:!0})}else if(/m/i.test(y)&&void 0===s.i){for(e=[],s.i=u,u++,p=0;p<60;p+=t.stepMinute)e.push({display:/mm/i.test(i)?Su(p):p,value:p});c.push({cssClass:"mbsc-datetime-minute-wheel",data:e,label:t.minuteText,spaceAround:!0})}else if(/s/i.test(y)&&void 0===s.s){for(e=[],s.s=u,u++,p=0;p<60;p+=t.stepSecond)e.push({display:/ss/i.test(i)?Su(p):p,value:p});c.push({cssClass:"mbsc-datetime-second-wheel",data:e,label:t.secondText,spaceAround:!0})}else/a/i.test(y)&&void 0===s.a&&(s.a=u,u++,c.push({cssClass:"mbsc-dt-whl-a",data:/A/.test(y)?[{display:t.amText.toUpperCase(),value:0},{display:t.pmText.toUpperCase(),value:1}]:[{display:t.amText,value:0},{display:t.pmText,value:1}],spaceAround:!0}))}c!==l&&o.push(c)}return o},t.prototype._getDateWheel=function(e){var t=/d/i.test(e);return this._hasDay=t,this._dateTemplate=e,{cssClass:"mbsc-datetime-date-wheel",getIndex:this._getDateIndex,getItem:this._getDateItem,label:this.s.dateText,max:this._max?Em(xm(this._max),t):void 0,min:this._min?Em(xm(this._min),t):void 0,spaceAround:!0}},t.prototype._getTimeWheel=function(e){var t=this.s,n=[],r=1;/s/i.test(e)?r=t.stepSecond:/m/i.test(e)?r=60*t.stepMinute:/h/i.test(e)&&(r=3600*t.stepHour),this._timeStep=r;for(var a=0;a<86400;a+=r){var i=new Date((new Date).setHours(0,0,0,0)+1e3*a);n.push({display:oh(e,i,t),value:a})}return{data:n,label:t.timeText,spaceAround:!0}},t.prototype._getArray=function(e,t){var n=[],r=this._wheelOrder;if(null==e)return n;for(var a=0,i=["y","m","d","a","h","i","s","u","dd","tt"];a<i.length;a++){var s=i[a],o=this._getDatePart[s](e);void 0!==r[s]&&(n[r[s]]=o),t&&(this._innerValues[s]=o)}return n},t.defaults=Dc({},Pu,{dateDisplay:"MMMMDDYYYY",dateWheelFormat:"|DDD MMM D|",stepHour:1,stepMinute:1,stepSecond:1}),t._name="Datetime",t}(sd),Cm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._preset="datetime",t}return Sc(t,e),t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){return(0,r.createElement)(_m,{disabled:e.disabled,endIcon:e.endIcon,endIconSrc:e.endIconSrc,endIconSvg:e.endIconSvg,error:e.error,errorMessage:e.errorMessage,inputStyle:e.inputStyle,label:e.label,labelStyle:e.labelStyle,placeholder:e.placeholder,name:e.name,startIcon:e.startIcon,startIconSrc:e.startIconSrc,startIconSvg:e.startIconSvg,anchor:e.anchor,animation:e.animation,buttons:e.buttons,cancelText:e.cancelText,clearText:e.clearText,closeOnOverlayClick:e.closeOnOverlayClick,context:e.context,display:e.display,focusOnClose:e.focusOnClose,focusTrap:e.focusTrap,headerText:e.headerText,height:e.height,setText:e.setText,showArrow:e.showArrow,showOverlay:e.showOverlay,width:e.width,circular:e.circular,displayStyle:e.displayStyle,formatValue:t._formatDate,getValue:t._getDate,itemHeight:e.itemHeight,maxWheelWidth:e.maxWheelWidth,minWheelWidth:t._minWheelWidth,parseValue:t._parseDate,ref:t._setScroller,rows:e.rows,rtl:e.rtl,shouldValidate:t._shouldValidate,showOnClick:e.showOnClick,showOnFocus:e.showOnFocus,theme:e.theme,themeVariant:e.themeVariant,touchUi:t._touchUi,validate:t._validate,value:t._value,valueEquality:t._valueEquals,wheels:t._wheels,wheelWidth:e.wheelWidth,onChange:t._onChange},e.children)}(e,this)},t}(km)),Tm=(0,r.createContext)({}),Im={};function Mm(e,t){return Im[e]||(Im[e]={change:new Ic,selectedIndex:-1}),Im[e].change.subscribe(t)}function Nm(e,t){var n=Im[e];n&&(n.change.unsubscribe(t),n.change.nr||delete Im[e])}function Lm(e,t,n){var r=Im[e];r&&(void 0!==n&&(r.selectedIndex=n),void 0!==t&&(r.value=t),r.change.next(r.value))}function Rm(e){return Im[e]&&Im[e].selectedIndex}var Am=1,Om=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._toggle(e)},enumerable:!0,configurable:!0}),t.prototype._template=function(e,t){var n=this;return(0,r.createElement)(Tm.Consumer,null,(function(a){return function(e,t,n,a,i){return n._groupOptions(i),(0,r.createElement)("label",{className:n._cssClass},(0,r.createElement)("input",{ref:n._setEl,"aria-labelledby":n._id,checked:n._checked,className:"mbsc-segmented-input mbsc-reset "+(e.inputClass||"")+n._theme+(n._checked?" mbsc-selected":""),disabled:n._disabled,name:n._isMultiple?e.name:n._name,onChange:xu,type:n._isMultiple?"checkbox":"radio",value:n._value}),(0,r.createElement)("div",{ref:n._setBox,className:"mbsc-segmented-selectbox"+n._theme+(n._animate?" mbsc-segmented-selectbox-animate":"")+(n._checked?" mbsc-selected":"")},(0,r.createElement)("div",{className:"mbsc-segmented-selectbox-inner"+n._theme+(n._index===n._selectedIndex||n._checked?" mbsc-segmented-selectbox-inner-visible":"")+(n._checked?" mbsc-selected":"")})),(0,r.createElement)(bd,{"aria-hidden":!0,ariaLabel:e.ariaLabel,className:"mbsc-segmented-button"+(n._checked?" mbsc-selected":"")+(t.hasFocus?" mbsc-focus":""),color:n._color,disabled:n._disabled,endIcon:e.endIcon,endIconSrc:e.endIconSrc,endIconSvg:e.endIconSvg,icon:e.icon,iconSrc:e.iconSrc,iconSvg:e.iconSvg,id:n._id,ripple:e.ripple,rtl:e.rtl,startIcon:e.startIcon,startIconSrc:e.startIconSrc,startIconSvg:e.startIconSvg,tag:"span",tabIndex:-1,theme:e.theme,themeVariant:e.themeVariant},a))}(e,t,n,e.children,a)}))},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onChange=function(e){var n=t.s,r=e.target.checked;r!==t._checked&&(t._change(r),t._onGroupChange&&t._onGroupChange(e,t._value),t._toggle(r),n.onChange&&n.onChange(e))},t._onValueChange=function(e){var n=t.s,r=t._isMultiple?fu(e)&&-1!==e.indexOf(t._value):e===t._value;void 0===n.checked&&r!==t.state.selected?t.setState({selected:r}):t.forceUpdate(),t._change(r)},t._setBox=function(e){t._box=e},t}return Sc(t,e),t.prototype._change=function(e){},t.prototype._groupOptions=function(e){var t=this,n=e.color,r=e.disabled,a=e.name,i=e.onChange,s=e.select,o=e.value,l=this.s,c=this.state,u=this._checked,h=void 0!==l.modelValue?l.modelValue===l.value:l.checked,d=void 0!==h?bu(h):void 0===c.selected?bu(l.defaultChecked):c.selected;this._id=void 0===l.id?this._id||"mbsc-segmented-"+Am++:l.id,this._value=void 0===l.value?this._id:l.value,this._onGroupChange=i,this._isMultiple="multiple"===(s||l.select),this._name=void 0===a?l.name:a,this._disabled=void 0===r?void 0===l.disabled?c.disabled:bu(l.disabled):bu(r),this._color=void 0===n?l.color:n,this._checked=void 0===o?d:this._isMultiple?o&&-1!==o.indexOf(this._value):o===this._value,this._isMultiple||u||!this._checked||setTimeout((function(){t._checked&&Lm(t._name,t._value,t._index)})),this._selectedIndex=Rm(this._name),this._cssClass="mbsc-segmented-item "+this._className+this._theme+this._rtl+(this._checked?" mbsc-segmented-item-checked":"")+(c.hasFocus?" mbsc-focus":"")+(this._index===this._selectedIndex||void 0===this._index&&this._checked||this._isMultiple&&this._checked?" mbsc-segmented-item-selected":"")},t.prototype._toggle=function(e){void 0===this.s.checked&&this.setState({selected:e})},t.prototype._mounted=function(){var e=this;Ph(this._el,cd,this._onChange),this._unlisten=yd(this._el,{onBlur:function(){e.setState({hasFocus:!1})},onFocus:function(){e.setState({hasFocus:!0})}})},t.prototype._updated=function(){if(this._name&&!this._unsubscribe&&(this._unsubscribe=Mm(this._name,this._onValueChange)),!this._isMultiple){var e=Kh(this._el,".mbsc-segmented"),t=-1,n=-1;if(e)for(var r=e.querySelectorAll('.mbsc-segmented-input[name="'+this._name+'"]'),a=0;a<r.length;a++)r[a]===this._el&&(t=a),r[a].checked&&(n=a);this._index!==t&&-1!==n&&function(e,t){Im[e]&&(Im[e].selectedIndex=t)}(this._name,n),-1!==this._selectedIndex&&(this._box.style.transform="translateX("+(this.s.rtl?-1:1)*(this._selectedIndex-t)*100+"%)",this._animate=!0),-1!==t&&(this._index=t)}},t.prototype._destroy=function(){Fh(this._el,cd,this._onChange),this._unsubscribe&&(Nm(this._name,this._unsubscribe),this._unsubscribe=void 0),this._unlisten&&this._unlisten()},t.defaults={select:"single"},t._name="Segmented",t}(sd)),Pm=1,Fm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._id="mbsc-segmented-group"+Pm++,t._onChange=function(e,n){var r=t.s,a=void 0!==r.modelValue?r.modelValue:t.value;if("multiple"===r.select){if(void 0!==a){var i=(a=a||[]).indexOf(n);-1!==i?a.splice(i,1):a.push(n),t.value=a.slice()}}else t.value=n;t._change(t.value),r.onChange&&r.onChange(e)},t}return Sc(t,e),t.prototype._change=function(e){},t.prototype._render=function(e){this._name=void 0===e.name?this._id:e.name,this._groupClass="mbsc-segmented mbsc-flex "+this._className+this._theme+this._rtl+(e.color?" mbsc-segmented-"+e.color:"")+(this.state.dragging?" mbsc-segmented-dragging":""),this._groupOpt={color:e.color,disabled:e.disabled,name:this._name,onChange:this._onChange,select:e.select,value:void 0!==e.modelValue?e.modelValue:e.value}},t.prototype._updated=function(){this.s.drag&&"multiple"!==this.s.select?this._unlisten||this._setupDrag():this._cleanupDrag()},t.prototype._destroy=function(){this._cleanupDrag()},t.prototype._setupDrag=function(){var e,t,n,r,a,i,s=this,o=[],l=[];this._unlisten=yd(this._el,{onEnd:function(){n&&r!==a&&!o[r]&&s._el.querySelectorAll(".mbsc-segmented-input")[r].click(),n=!1,s.setState({dragging:!1})},onMove:function(a){if(n){for(var c=Math.min(Math.max(a.endX-t,0),e),u=0,h=l[0];c>h&&l.length>u+1;)u++,h+=l[u];(u=s.s.rtl?l.length-1-u:u)===r||o[u]||Lm(i,void 0,r=u)}},onStart:function(c){var u=Kh(c.domEvent.target,".mbsc-segmented-item",s._el);if(u){var h=u.querySelector(".mbsc-segmented-input");h.classList.contains("mbsc-selected")&&(o=[],Qh(s._el.querySelectorAll(".mbsc-segmented-button"),(function(e){o.push(e.classList.contains("mbsc-disabled"))})),l=[],Qh(s._el.querySelectorAll(".mbsc-segmented-item"),(function(e){l.push(e.clientWidth)})),e=s._el.clientWidth-30,t=Yh(s._el).left+15,i=h.name,r=Rm(i),a=r,l.length&&"radio"===h.type&&(n=!0,s.setState({dragging:!0})))}}})},t.prototype._cleanupDrag=function(){this._unlisten&&(this._unlisten(),this._unlisten=null)},t.defaults={select:"single"},t._name="SegmentedGroup",t}(sd),Vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return(0,r.createElement)(Tm.Provider,{children:(t=e.children,(0,r.createElement)("div",{className:this._groupClass,ref:this._setEl},t)),value:this._groupOpt});var t},t}(Fm),zm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setTime=function(e){t._hook("onChange",{value:rh(t.s,e.value)})},t._isDisabled=function(e){if(e){var n=Yu(rh(t.s,e)),r=t._invalids&&t._invalids[n],a=t._valids&&t._valids[n],i=t.s.exclusiveEndDates;if(a){for(var s=0,o=a;s<o.length;s++){var l=o[s],c=l.end&&(i?e<+l.end:e<=+l.end);if(l.start&&e>=+l.start&&c||l.allDay)return!1}return!0}if(r){for(var u=0,h=r;u<h.length;u++){var d=h[u];if(c=d.end&&(i?e<+d.end:e<=+d.end),d.start&&e>=+d.start&&c||d.allDay)return!0}return!1}}return!1},t._onKeyDown=function(e){32===e.keyCode&&(e.target.click(),e.preventDefault())},t._setCont=function(e){t._gridContEl=e&&e.parentElement},t}return Sc(t,e),t.prototype._render=function(e,t){var n=this,r=this._prevS;this._cssClass="mbsc-timegrid-container mbsc-font"+this._theme+this._rtl;var a=e.min!==r.min,i=e.max!==r.max,s=e.timeFormat,o=r.value&&!e.value||e.value&&+e.value!==this._value;a&&(this._min=gu(e.min)?void 0:ah(e.min,e,s)),i&&(this._max=gu(e.max)?void 0:ah(e.max,e,s));var l=qu(e.value||rh(e)),c=hh(l,1),u=this._selectedDate!==+l,h=e.invalid!==r.invalid,d=e.valid!==r.valid;(h||u)&&(this._invalids=Ad(e.invalid,l,c,e,!0)),(d||u)&&(this._valids=Ad(e.valid,l,c,e,!0)),o&&(this._value=e.value&&+e.value);var f=u||h||a||i||s!==r.timeFormat;if(f){this._selectedDate=+l;var m=Math.max(+l,+(this._min||-1/0)),p=Math.min(+c,+(this._max||1/0)+1),v=36e5*e.stepHour+6e4*e.stepMinute;this._timeSlots=[],this._validTimes=[];for(var g=[],_=0,y=+l;y<+c;y+=v)if(p>=m?y>=m&&y<p:y>=m||y<p){var b={formattedValue:oh(s,rh(e,y),e),value:y};g.push(b),2===_&&(this._timeSlots.push(g),g=[],_=-1),this._isDisabled(y)||this._validTimes.push(b),_++}g.length&&this._timeSlots.push(g)}if(this._isDisabled(this._value)||(o||f)&&-1===Mu(this._validTimes,(function(e){return e.value===n._value}))){var w=function(e,t){if(null==t||!e.length)return null;for(var n=0;n<e.length&&t>=e[n];)n++;if(n===e.length)return e[n-1];if(0===n)return e[0];var r=e[n-1],a=e[n];return t-r<a-t?r:a}(this._validTimes.map((function(e){return e.value})),this._value);w&&(clearTimeout(this._validationHandle),this._validationHandle=setTimeout((function(){var e=Iu(n._validTimes,(function(e){return e.value===w}));n._setTime(e)})))}else f&&clearTimeout(this._validationHandle);this._valueChanged=this._valueChanged||o},t.prototype._updated=function(){var e=this.s.isOpen;if(Lc&&void 0!==this._value&&(this._valueChanged||this._isOpen!==e&&e)){var t=void 0!==this._lastValue,n=this._gridContEl,r=n.querySelector('[data-timeslot="'+this._value+'"]');r&&setTimeout((function(){var e=r.getBoundingClientRect(),a=e.top,i=e.height,s=n.getBoundingClientRect(),o=s.top,l=s.height,c=Hh(n);(a+i>o+l||a<o)&&jh(n,void 0,a-o+c-5,t)})),this._valueChanged=!1,this._lastValue=this._value}this._isOpen=e},t.defaults=Dc({},Pu,{stepHour:0,stepMinute:30}),t._name="Timegrid",t}(sd),Hm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return(n={}).onKeyDown=(t=this)._onKeyDown,a=n,(0,r.createElement)("div",{className:t._cssClass,ref:t._setCont},t._timeSlots.map((function(e,n){return(0,r.createElement)("div",{className:"mbsc-timegrid-row",key:n},e.map((function(e,n){var i=t._isDisabled(e.value);return(0,r.createElement)("div",{className:"mbsc-timegrid-cell"+(i?" mbsc-disabled":""),key:n},(0,r.createElement)("div",Dc({className:"mbsc-timegrid-item"+(t._value===e.value?" mbsc-selected":"")+(i?" mbsc-disabled":"")+t._theme,onClick:function(){return t._setTime(e)},tabIndex:i?void 0:0,"data-timeslot":e.value},a),e.formattedValue))})))})));var t,n,a},t}(zm),Um=function(e){function t(t){return Nf[Cm._name]=Cm,Nf[tm._name]=tm,Nf[Hm._name]=Hm,e.call(this,t)||this}return Sc(t,e),t.prototype._template=function(e){return gm(this,e,function(e,t,n,a){var i=t._renderTabs,s=t._controls,o=t._activeSelect,l=t._rtl,c=t._theme;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"mbsc-datepicker mbsc-flex-col mbsc-datepicker-"+e.display+c+("inline"===e.display?" "+t._className+t._hb:"")+t._controlsClass},t._headerText&&"inline"===e.display&&(0,r.createElement)("div",{className:"mbsc-picker-header"+c+t._hb},t._headerText),i&&(0,r.createElement)(Vm,{rtl:e.rtl,theme:e.theme,themeVariant:e.themeVariant,value:t._activeTab,onChange:t._changeActiveTab},s.map((function(t,n){return(0,r.createElement)(Om,{key:n,rtl:e.rtl,theme:e.theme,themeVariant:e.themeVariant,value:t.name},t.title)}))),t._renderControls&&(0,r.createElement)("div",{className:"mbsc-range-control-wrapper"+c},(0,r.createElement)(Vm,{theme:e.theme,themeVariant:e.themeVariant,rtl:e.rtl,value:o,onChange:t._changeActiveSelect},(0,r.createElement)(Om,{rtl:e.rtl,theme:e.theme,themeVariant:e.themeVariant,value:"start",className:"mbsc-range-start"+(t._tempStartText?" mbsc-range-value-nonempty":"")},(0,r.createElement)("div",{className:"mbsc-range-control-label"+c+l+("start"===o?" active":"")},e.rangeStartLabel),(0,r.createElement)("div",{className:"mbsc-range-control-value"+c+l+("start"===o?" active":"")+(t._tempStartText?"":" mbsc-range-control-text-empty")},t._tempStartText||e.rangeStartHelp),"start"===o&&t._tempStartText&&(0,r.createElement)(od,{className:"mbsc-range-label-clear"+l,onClick:t._clearStart,svg:e.clearIcon,theme:e.theme})),(0,r.createElement)(Om,{rtl:e.rtl,theme:e.theme,themeVariant:e.themeVariant,value:"end",className:"mbsc-range-end"+(t._tempEndText?" mbsc-range-value-nonempty":"")},(0,r.createElement)("div",{className:"mbsc-range-control-label"+c+l+("end"===o?" active":"")},e.rangeEndLabel),(0,r.createElement)("div",{className:"mbsc-range-control-value"+c+l+("end"===o?" active":"")+(t._tempEndText?"":" mbsc-range-control-text-empty")},t._tempEndText||e.rangeEndHelp),"end"===o&&t._tempEndText&&(0,r.createElement)(od,{className:"mbsc-range-label-clear"+l,onClick:t._clearEnd,svg:e.clearIcon,theme:e.theme})))),(0,r.createElement)("div",{className:"mbsc-datepicker-tab-wrapper mbsc-flex mbsc-flex-1-1"+c,ref:t._setWrapper},s.map((function(e,n){var a=e.options;return(0,r.createElement)("div",{key:n,className:"mbsc-flex mbsc-datepicker-tab mbsc-datepicker-tab-"+e.name+c+(i&&e.name===t._activeTab||!i?" mbsc-datepicker-tab-active":"")+(i&&"time"===e.name?" mbsc-datepicker-time-modal":"")+(i||1===s.length?" mbsc-datepicker-tab-expand mbsc-flex-1-1":"")},(0,r.createElement)(e.Component,Dc({},a)))})))),n)}(e,this,e.children))},t}(Pf);var Bm=new Ic;function Wm(e){return Bm.subscribe(e)}function jm(e){Bm.unsubscribe(e)}function Ym(e,t){t.style.left=e.endX+"px",t.style.top=e.endY+"px"}var qm=1;function Km(e,t,n,r,a,i){var s=n,o=r,l=new Map,c=[];a&&(s=ah(a,t)),i?o=ah(i,t):a&&(o=hh(s,1));var u=Ad(e,s,o,t);for(var h in u)if(h)for(var d=0,f=u[h];d<f.length;d++){var m=f[d];if(m.start){if(!l.has(m)){var p=ah(m.start,t),v=ah(m.end,t)||p;if(m.allDay&&(p=rh(t,p.getFullYear(),p.getMonth(),p.getDate()),v=rh(t,(v=ju(t,!0,p,v)).getFullYear(),v.getMonth(),v.getDate(),23,59,59,999)),Uu(s,o,p,v)){var g=Dc({},m);(t.dataTimezone||t.displayTimezone)&&(g.start=p.toISOString(),g.end=v.toISOString()),l.set(m,!0),c.push(g)}}}else c.push(m)}return c}function Gm(){return"mbsc_"+qm++}function Qm(e,t,n,r,a,i,s,o,l,c){var u=t.color||a&&a.color,h=t.start||t.date,d=t.recurring?t.original.start:t.start,f=t.allDay||!d,m=Td(e,t),p=h?ah(h,m):null,v=t.end?ah(t.end,m):null,g=ju(e,t.allDay,p,v,i),_=t.bufferBefore?ah(+p-6e4*t.bufferBefore,m):null,y=t.bufferAfter?ah(+g+6e4*t.bufferAfter,m):null,b=p&&g&&!$u(p,g),w=!b||$u(p,n),E=!b||$u(g,n),x=!c&&(f||s&&b&&!w&&!E),S="",D="";if(!l)if(c){var k=e.dateFormat+(f?"":e.separator+e.timeFormat);S=p?oh(k,p,e):"",D=v?oh(k,f?g:v,e):""}else s||o?f||(S=p?oh(e.timeFormat,p,e):"",D=v?oh(e.timeFormat,v,e):""):(S=p?oh(e.dateFormat,p,e):"",D=v?oh(e.dateFormat,g,e):"");var C=x||!w&&s&&!c?"":S,T=x||!E&&s&&!c?"":D,I=t.title||t.text||"",M=I,N=M+(x?"":", "+C+" - "+T),L=e.dateFormatFull,R=!l&&p?", "+e.fromText+": "+oh(L,p,e)+(f?"":", "+S):"",A=!l&&v?", "+e.toText+": "+oh(L,v,e)+(f?"":", "+D):"",O=a&&a.name?", "+a.name:"";return{allDay:f,allDayText:x?e.allDayText:"",ariaLabel:M+O+R+A,bufferEnd:y,bufferStart:_,color:u,currentResource:a,date:+n,end:T,endDate:v||(p?new Date(p):null),html:I,id:t.id,isMultiDay:b,lastDay:!x&&b&&E?e.toText:"",original:t,position:{},resource:t.resource,slot:t.slot,start:C,startDate:p,style:{background:u,color:r&&u?Wh(u):""},title:M,tooltip:e.showEventTooltip?t.tooltip||N:void 0,uid:t.occurrenceId?t.occurrenceId:t.id}}function Xm(e){var t=[];if(e)for(var n=0,r=e;n<r.length;n++){var a=r[n];void 0===a.id&&(a.id=Gm()),t.push(a)}return t}function $m(e,t,n,r,a,i,s,o,l){if("start-end"===o){var c=If(e,r,t,n,i,s),u=If(e,a,t,n,i,s);if(c)return c;if(u)return u}else for(var h=l?a:qu(hh(a,1)),d=qu(r);d<h;d.setDate(d.getDate()+1)){var f=If(e,d,t,n,i,s);if(f)return f}return!1}function Jm(e,t,n,r,a){for(var i=a.exclusiveEndDates?n:qu(hh(n,1)),s=qu(t);s<i;s.setDate(s.getDate()+1)){var o=(r[Yu(s)]||[]).filter((function(t){return t.id!==e.id}));if(o.length){if(!1===a.eventOverlap||!1===e.overlap)return o[0];for(var l=0,c=o;l<c.length;l++){var u=c[l];if(!1===u.overlap)return u}}}return!1}var Zm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.print=xu,t._checkSize=0,t._navService=new Ff,t._pageLoad=0,t._selectedDates={},t._shouldScrollSchedule=0,t._update=0,t._onScroll=function(e,t){var n,r;return void 0===t&&(t=100),function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var s=+new Date;n&&s<n+t?(clearTimeout(r),r=setTimeout((function(){n=s,e.apply(void 0,a)}),t)):(n=s,e.apply(void 0,a))}}((function(){if(!t._isListScrolling&&!t._viewChanged)for(var e in t._listDays)if(t._listDays[e]){var n=t._listDays[e];if(n.offsetTop+n.offsetHeight-t._list.scrollTop>0){+e!==t._selected&&(t._shouldSkipScroll=!0,t._selectedChange(+e));break}}})),t._isListScrolling=0,t._remote=0,t._tempViewChanged=!1,t._onWeekDayClick=function(e){e!==t._selected&&(t._skipScheduleScroll=!0,t._selectedChange(e))},t._onDayClick=function(e){var n=e.date,r=+n,a=Yu(n),i=Yd(t._eventMap[a],t.s.eventOrder),s=t._showEventPopover,o=void 0===s?!t._showEventLabels&&!t._showEventList&&!t._showSchedule:s,l=!1!==s&&t._moreLabelClicked,c=(o||l)&&i&&i.length>0;e.events=i,t._isEventClick||t._resetSelection(),t._hook("onCellClick",e),t._moreLabelClicked=!1,e.disabled||r===t._selected||(t._navService.preventPageChange=!t._showEventList,t._skipScheduleScroll=!0,t._selectedChange(r)),c&&t._showPopover(r,r,i.map((function(e){return t._getEventData(e,n)})),e.target),t._isEventClick=!1},t._onActiveChange=function(e){if(e.scroll)t._viewDate=+e.date;else{var n=t._getValidDay(e.date,e.dir),r={activeDate:n};t._active=n,t._viewDate=n,t._update++,t._skipScheduleScroll=e.pageChange&&!e.nav,(e.pageChange||e.today)&&(r.selectedDate=n,t._selectedChange(n,!0),t._navService.forcePageChange=!0),t.setState(r)}},t._onGestureStart=function(e){t._hidePopover()},t._onDayDoubleClick=function(e){t._dayClick("onCellDoubleClick",e)},t._onDayRightClick=function(e){t._dayClick("onCellRightClick",e)},t._onCellHoverIn=function(e){e.events=t._eventMap[Yu(e.date)],t._hook("onCellHoverIn",e)},t._onCellHoverOut=function(e){e.events=t._eventMap[Yu(e.date)],t._hook("onCellHoverOut",e)},t._onEventHoverIn=function(e){t._hoverTimer=setTimeout((function(){t._isHover=!0,t._eventClick("onEventHoverIn",e)}),150)},t._onEventHoverOut=function(e){clearTimeout(t._hoverTimer),t._isHover&&(t._isHover=!1,t._eventClick("onEventHoverOut",e))},t._onEventClick=function(e){var n=t.s;t._handleMultipleSelect(e),!1===t._eventClick("onEventClick",e)||n.selectMultipleEvents||n.eventDelete||(n.dragToCreate||n.clickToCreate)&&!1!==n.eventDelete||t._hidePopover()},t._onEventDoubleClick=function(e){t._eventClick("onEventDoubleClick",e)},t._onEventRightClick=function(e){t._eventClick("onEventRightClick",e)},t._onEventDragEnd=function(e){t._hook("onEventDragEnd",e)},t._onEventDragStart=function(e){t._hook("onEventDragStart",e)},t._onEventDragEnter=function(e){t._hook("onEventDragEnter",e)},t._onEventDragLeave=function(e){t._hook("onEventDragLeave",e)},t._onLabelHoverIn=function(e){t._hoverTimer=setTimeout((function(){t._isHover=!0,t._labelClick("onEventHoverIn",e)}),150)},t._onLabelHoverOut=function(e){clearTimeout(t._hoverTimer),t._isHover&&(t._isHover=!1,t._labelClick("onEventHoverOut",e))},t._onLabelClick=function(e){t._handleMultipleSelect(e),t._hook("onLabelClick",e),t._labelClick("onEventClick",e),t._isEventClick=!0,e.label||(t._moreLabelClicked=!0)},t._onLabelDoubleClick=function(e){t._labelClick("onEventDoubleClick",e)},t._onLabelRightClick=function(e){t._labelClick("onEventRightClick",e)},t._onCellClick=function(e){t._resetSelection(),t._cellClick("onCellClick",e)},t._onCellDoubleClick=function(e){t._cellClick("onCellDoubleClick",e)},t._onCellRightClick=function(e){t._cellClick("onCellRightClick",e)},t._proxy=function(e){t._hook(e.type,e)},t._onPageChange=function(e){setTimeout((function(){t._hidePopover()})),t._isPageChange=!0,t._hook("onPageChange",e)},t._onPageLoading=function(e){var n=t.s,r=Ad(t._events,e.viewStart,e.viewEnd,n);t._colorsMap=Ad(n.colors,e.viewStart,e.viewEnd,n),t._invalidsMap=Ad(n.invalid,e.viewStart,e.viewEnd,n,!0),t._validsMap=Ad(n.valid,e.viewStart,e.viewEnd,n,!0),t._eventMap=r,t._firstDay=Xu(e.firstDay,n,t._firstWeekDay),t._lastDay=e.lastDay,t._labelsMap=t._marksMap=void 0,n.labels||!t._showEventLabels&&!t._showEventCount?n.marked||(t._marksMap=r):t._labelsMap=r,e.viewChanged&&t._hook("onPageLoading",e)},t._onPageLoaded=function(e){t._shouldAnimateScroll=t._isPageChange,t._isPageChange=!1;var n=t._eventListType;if(t._showEventList&&(!t._showCalendar||"day"!==n)){var r=t.s,a=e.month,i=t._showEventList&&a&&"month"===n,s=i?a:e.firstDay,o=i?r.getDate(r.getYear(a),r.getMonth(a)+t._eventListSize,1):e.lastDay;t._setEventList(s,o)}t._hook("onPageLoaded",e)},t._onMoreClick=function(e){t._showPopover(e.key,+e.date,e.list.map((function(n){return t._getEventData(n.original,new Date(e.date),n.currentResource,!0)})),e.target,e.context,e.inst)},t._onPopoverClose=function(e){var n=t.state;n.popoverHost&&"dragStart"===e.source?t.setState({popoverDrag:!0,popoverHidden:!0}):n.popoverHost&&"scroll"===e.source&&n.popoverDrag||t._hidePopover()},t._onResize=function(e){var n;if(t._showEventList&&Lc){var r=e.target,a=r.offsetHeight,i=r.getBoundingClientRect().top;n=a-t._list.getBoundingClientRect().top+i>170}t.setState({height:e.height,isListScrollable:n,width:e.width})},t._onSelectedEventsChange=function(e){t._emit("selectedEventsChange",e),t._hook("onSelectedEventsChange",{events:e})},t._getDragDates=function(e,n,r){for(var a={},i=t._firstWeekDay,s=ju(t.s,r.allDay,e,n,!0),o=qu(hh(s,1)),l=qu(e);l<o;l.setDate(l.getDate()+1)){var c=l.getDay(),u=i-c>0?7:0;$u(e,l)||c===i?a[Yu(l)]={event:r,width:100*Math.min(Gu(l,s)+1,7+i-c-u)}:a[Yu(l)]={}}return a},t._onLabelUpdateModeOn=function(e){var n=e.create?t._tempEvent:e.event,r=ah(n.start),a=ah(n.end||r);t.setState({isTouchDrag:!0,labelDragData:{draggedEvent:n,originDates:e.external?void 0:t._getDragDates(r,a,n)}})},t._onLabelUpdateModeOff=function(e){t._hook("onEventDragEnd",{domEvent:e.domEvent,event:e.create?t._tempEvent:e.event,source:"calendar"}),t.setState({isTouchDrag:!1,labelDragData:void 0})},t._onLabelUpdateStart=function(e){var n=t.s,r=t._el;if(n.externalDrag&&e.drag&&!e.create){var a=r.querySelector(".mbsc-calendar-label[data-id='"+e.event.id+"']")||Kh(e.domEvent.target,".mbsc-list-item");if(a){var i=a.cloneNode(!0),s=i.classList;i.style.display="none",s.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font"),s.remove("mbsc-calendar-label-hover","mbsc-hover","mbsc-focus","mbsc-active"),t._clone=i,t._body=Vh(r).body,t._body.appendChild(i),t._eventDropped=!1,Bm.next(Dc({},e,{create:!0,dragData:e.event,eventName:"onDragStart",external:!0,from:t}))}}var o=t._showWeekNumbers?r.querySelector(".mbsc-calendar-week-nr").getBoundingClientRect().width:0,l=r.querySelectorAll(".mbsc-calendar-slide-active")[0],c=l.getBoundingClientRect(),u=r.querySelector(".mbsc-calendar-week-days"),h=l.querySelectorAll(".mbsc-calendar-row"),d=/click/.test(e.domEvent.type);if(t._areaTop=0,u){var f=u.getBoundingClientRect();t._areaTop=f.top+f.height}t._areaLeft=c.left+(n.rtl?0:o),t._areaBottom=c.top+c.height,t._areaRight=t._areaLeft+c.width-(n.rtl?o:0),t._calCellWidth=(t._areaRight-t._areaLeft)/7;var m=0;if(t._rowTops=[],h.forEach((function(n,r){var a=n.getBoundingClientRect().top-t._areaTop;t._rowTops.push(a),e.endY-t._areaTop>a&&(m=r)})),e.create){var p=Cu((n.rtl?t._areaRight-e.endX:e.endX-t._areaLeft)/t._calCellWidth),v=hh(t._firstDay,7*m+p),g=new Date(v.getFullYear(),v.getMonth(),v.getDate()),_=hh(g,1),y=n.exclusiveEndDates?_:new Date(+_-1),b=n.extendDefaultEvent?n.extendDefaultEvent({start:g}):void 0;t._tempEvent=Dc({allDay:!0,end:y,id:Gm(),start:g,title:n.newEventText},e.dragData,b)}d||t._hook("onEventDragStart",{action:e.create?"create":e.resize?"resize":"move",domEvent:e.domEvent,event:e.create?t._tempEvent:e.event,source:"calendar"})},t._onLabelUpdateMove=function(e){var n=t.s,r=e.create?t._tempEvent:e.event,a=Dc({},r),i=t.state.labelDragData,s=r.allDay?void 0:n;if(n.externalDrag&&e.drag&&!e.create&&t._clone&&(Bm.next(Dc({},e,{clone:t._clone,create:!0,dragData:e.event,eventName:"onDragMove",external:!0,from:t})),!t._onCalendar))return Ym(e,t._clone),void(i&&i.draggedEvent||t.setState({labelDragData:{draggedEvent:a}}));if(e.endY>t._areaTop&&e.endY<t._areaBottom&&e.endX>t._areaLeft&&e.endX<t._areaRight){var o=Cu((n.rtl?t._areaRight-e.endX:e.endX-t._areaLeft)/t._calCellWidth),l=Cu((n.rtl?t._areaRight-e.startX:e.startX-t._areaLeft)/t._calCellWidth),c=0,u=0;t._rowTops.forEach((function(n,r){e.startY-t._areaTop>n&&(u=r),e.endY-t._areaTop>n&&(c=r)}));var h=7*(c-u)+(o-l);if(o!==t._tempDay||c!==t._tempWeek){var d=ah(r.start,s),f=ah(r.end,s)||d,m=Kd(r.dragInTime,void 0,n.dragInTime),p=d,v=f;if(e.external){var g=Hu(d),_=+f-+d;m&&(p=rh(n,+hh(t._firstDay,7*c+o)+g),v=rh(n,+p+_))}else if(e.drag){if(!m)return;p=hh(d,h),v=hh(f,h)}else{var y=n.rtl?-1:1,b=e.create?c===u?e.deltaX*y>0:h>0:"end"===e.direction,w=Gu(d,f);b?v=hh(f,Math.max(-w,h)):p=hh(d,Math.min(w,h)),v<p&&(b?v=rh(s,p):p=rh(s,v))}a.start=p,a.end=v,t.setState({labelDragData:{draggedDates:t._getDragDates(p,v,a),draggedEvent:a,originDates:i&&i.originDates},popoverHidden:!0}),t._tempDay=o,t._tempWeek=c}}},t._onLabelUpdateEnd=function(e){var n=t.s,r=t.state,a=e.create,i=r.labelDragData||{},s=a?t._tempEvent:e.event,o=i.draggedEvent||s,l=ah(s.start),c=ah(s.end),u=ah(o.start),h=ah(o.end),d=a||+l!=+u||+c!=+h,f={allDay:s.allDay,endDate:h,original:s,startDate:u},m=!1;n.externalDrag&&e.drag&&!e.create&&t._clone&&(Bm.next(Dc({},e,{action:"externalDrop",create:!0,dragData:e.event,eventName:"onDragEnd",external:!0,from:t})),t._body.removeChild(t._clone),t._clone=void 0,t._onCalendar||(m=!0,t._eventDropped&&t._onEventDelete(e)));var p=e.action||(i.draggedEvent?"drag":"click"),v=!m&&(!d||t._onEventDragStop({action:p,collision:$m(n,t._invalidsMap,t._validsMap,u,h,t._minDate,t._maxDate,n.invalidateEvent,n.exclusiveEndDates),create:a,domEvent:e.domEvent,event:f,external:e.external,from:e.from,overlap:Jm(s,u,h,t._eventMap,n),source:"calendar"})),g=r.isTouchDrag&&!m&&(!a||v);g||"click"===p||t._hook("onEventDragEnd",{domEvent:e.domEvent,event:s,source:"calendar"}),t.setState({isTouchDrag:g,labelDragData:g?{draggedEvent:v?o:Dc({},s),originDates:v?t._getDragDates(u,h,f.original):i.originDates}:{}}),e.drag&&t._hidePopover(),t._tempWeek=-1,t._tempDay=-1},t._onEventDragStop=function(e){var n=t.s,r=e.action,a=e.resource,i=e.slot,s=e.collision,o=e.overlap,l=e.create,c=e.source,u=e.event,h=u.original,d=h.recurring?h.original:h,f=n.immutableData?Dc({},d):d,m=Dc({},f),p=Dc({},f),v=h.timezone,g=Ou(h.start,n,v),_=Ou(u.startDate,n,v),y=Ou(u.endDate,n,v),b=u.allDay,w=p.recurring;w?p.recurringException=Ld(p.recurringException).concat([g]):(p.allDay=b,p.start=_,p.end=y,void 0!==a&&(p.resource=a),void 0!==i&&(p.slot=i));var E=!1,x=w?Dc({},f):f;return(l||w)&&(w&&delete x.recurring,(w||void 0===x.id)&&(x.id=Gm()),void 0!==a&&(x.resource=a),void 0!==i&&(x.slot=i),x.start=_,x.end=y,x.allDay=b,E=!1!==t._hook("onEventCreate",Dc({action:r,domEvent:e.domEvent,event:x,source:c},w&&{originEvent:h})),!1===s&&!1===o||(E=!1,t._hook("onEventCreateFailed",Dc({action:r,event:x,invalid:s,overlap:o,source:c},w&&{originEvent:h})))),l&&!w||e.external||(E=!1!==t._hook("onEventUpdate",Dc({domEvent:e.domEvent,event:p,oldEvent:m,oldResource:e.oldResource,oldSlot:e.oldSlot,resource:e.newResource,slot:e.newSlot,source:c},w&&{newEvent:x,oldEventOccurrence:h})),!1===s&&!1===o||(E=!1,t._hook("onEventUpdateFailed",Dc({event:p,invalid:s,oldEvent:m,overlap:o,source:c},w&&{newEvent:x,oldEventOccurrence:h})))),E?(e.from&&(e.from._eventDropped=!0),(l||w)&&(t._events.push(x),t._triggerCreated={action:r,event:x,source:c}),l&&!w||(w?(u.id=x.id,u.original=x,f.recurringException=p.recurringException):(f.start=_,f.end=y,f.allDay=b,void 0!==a&&(f.resource=a),void 0!==i&&(f.slot=i)),t._triggerUpdated={event:f,oldEvent:m,source:c}),t._refresh=!0,"calendar"!==c&&t.forceUpdate()):t._hidePopover(),E},t._onExternalDrag=function(e){var n=t.s,r=e.clone,a=e.from===t,i=!a&&n.externalDrop,s=a&&n.externalDrag&&!n.dragToMove,o=t.state.labelDragData;if(t._showCalendar&&(i||n.externalDrag)){var l=!s&&e.endY>t._areaTop&&e.endY<t._areaBottom&&e.endX>t._areaLeft&&e.endX<t._areaRight;switch(e.eventName){case"onDragModeOff":i&&t._onLabelUpdateModeOff(e);break;case"onDragModeOn":i&&t._onLabelUpdateModeOn(e);break;case"onDragStart":i?t._onLabelUpdateStart(e):a&&(t._onCalendar=!0);break;case"onDragMove":if(!a&&!i)return;l?(t._onCalendar||t._hook("onEventDragEnter",{domEvent:e.domEvent,event:e.dragData,source:"calendar"}),(a||i)&&(r.style.display="none"),i&&t._onLabelUpdateMove(e),t._onCalendar=!0):t._onCalendar&&(t._hook("onEventDragLeave",{domEvent:e.domEvent,event:e.dragData,source:"calendar"}),r.style.display="table",(!a||o&&o.draggedEvent)&&t.setState({labelDragData:{draggedDates:{},draggedEvent:a?o&&o.draggedEvent:void 0,originDates:a?o&&o.originDates:void 0}}),t._tempWeek=-1,t._tempDay=-1,t._onCalendar=!1);break;case"onDragEnd":i&&(l?t._onLabelUpdateEnd(e):(t.setState({labelDragData:void 0}),t._hook("onEventDragEnd",{domEvent:e.domEvent,event:e.dragData,source:"calendar"})))}}},t._onEventDelete=function(e){var n,r=t.s;if((void 0!==r.eventDelete||r.dragToCreate||r.clickToCreate)&&!1!==r.eventDelete){for(var a,i,s,o=!1,l=!1,c=!1,u=e.event,h=u,d=r.selectMultipleEvents,f=d?t._selectedEventsMap:((n={})[u.id]=u,n),m=[],p=[],v=[],g={},_=[],y=0,b=Lu(f);y<b.length;y++){var w=b[y];if(w.recurring){h=w,l=!0;var E=(a=w.original).id;g[E]?s=g[E]:(i=Dc({},a),s=Dc({},a),p.push(a),m.push(i),v.push(s),g[E]=s);var x=Ou(w.start,r);s.recurringException=Ld(s.recurringException).concat([x])}else c=!0,u=w,_.push(w)}if(l&&!1!==t._hook("onEventUpdate",{domEvent:e.domEvent,event:s,events:d?v:void 0,isDelete:!0,oldEvent:d?void 0:i,oldEventOccurrence:h,oldEvents:d?m:void 0,oldResource:e.resource,oldSlot:e.slot,resource:e.resource,slot:e.slot,source:e.source})){o=!0;for(var S=0,D=p;S<D.length;S++){var k=D[S],C=g[k.id];k.recurringException=C.recurringException}t._triggerUpdated={event:a,events:d?p:void 0,oldEvent:d?void 0:i,oldEvents:d?m:void 0,source:e.source}}c&&!1!==t._hook("onEventDelete",{domEvent:e.domEvent,event:u,events:d?_:void 0,source:e.source})&&(o=!0,t._events=t._events.filter((function(e){return!f[e.id]})),t._selectedEventsMap={},t._triggerDeleted={event:u,events:d?_:void 0,source:e.source}),o&&(t._hidePopover(),t.refresh())}},t._setEl=function(e){t._el=e?e._el||e:null,t._calendarView=e},t._setList=function(e){t._list=e},t._setPopoverList=function(e){t._popoverList=e&&e._el},t._onKeyDown=function(e){9===e.keyCode&&t._resetSelection()},t}return Sc(t,e),t.prototype.addEvent=function(e){for(var t=[],n=0,r=Xm(fu(e)?e:[e]);n<r.length;n++){var a=r[n];t.push(""+a.id),this._events.push(a)}return this.refresh(),t},t.prototype.getEvents=function(e,t){return Km(this._events,this.s,this._firstDay,this._lastDay,e,t)},t.prototype.getInvalids=function(e,t){return Km(this.s.invalid,this.s,this._firstDay,this._lastDay,e,t)},t.prototype.getSelectedEvents=function(){return Lu(this._selectedEventsMap)},t.prototype.setEvents=function(e){for(var t=[],n=Xm(e),r=0,a=n;r<a.length;r++){var i=a[r];t.push(""+i.id)}return this._events=n,this.refresh(),t},t.prototype.setSelectedEvents=function(e){this._selectedEventsMap=(e||[]).reduce((function(e,t){return t.occurrenceId?e[t.occurrenceId]=t:e[t.id]=t,e}),{}),this.forceUpdate()},t.prototype.removeEvent=function(e){for(var t=fu(e)?e:[e],n=this._events,r=n.length,a=0,i=t;a<i.length;a++)for(var s=i[a],o=!1,l=0;!o&&l<r;){var c=n[l];c.id!==s&&c.id!==s.id||(o=!0,n.splice(l,1)),l++}this.refresh()},t.prototype.navigateToEvent=function(e){this._navigateToEvent=e,this._shouldScrollSchedule++,this.navigate(e.start,!0)},t.prototype.navigate=function(e,t){var n=+ah(e),r=void 0!==this._navigateToEvent,a=n!==this._selectedDateTime;(a||r)&&(this._shouldAnimateScroll=!!t),void 0===this.s.selectedDate?!this._showSchedule&&!this._showTimeline||a?this.setState({selectedDate:n}):(this._shouldScrollSchedule++,this.forceUpdate()):(a||r)&&this._selectedChange(n)},t.prototype.updateEvent=function(e){for(var t=fu(e)?e:[e],n=this._events,r=n.length,a=0,i=t;a<i.length;a++)for(var s=i[a],o=!1,l=0;!o&&l<r;)n[l].id===s.id&&(o=!0,n.splice(l,1,Dc({},s))),l++;this.refresh()},t.prototype.refresh=function(){this._refresh=!0,this.forceUpdate()},t.prototype._render=function(e,t){var n,r=this,a=this._prevS,i=this._showDate,s=e.displayTimezone!==a.displayTimezone||e.dataTimezone!==a.dataTimezone,o=!1,l=!1,c=this._tempViewChanged;if(this._tempViewChanged=!1,this._colorEventList=void 0===e.eventTemplate&&void 0===e.renderEvent&&e.colorEventList,void 0===e.exclusiveEndDates&&(e.exclusiveEndDates=!!e.displayTimezone),gu(e.min)?this._minDate=-1/0:a.min!==e.min&&(this._minDate=+ah(e.min)),gu(e.max)?this._maxDate=1/0:a.max!==e.max&&(this._maxDate=+ah(e.max)),void 0!==e.selectedDate?n=+ah(e.selectedDate):(this._defaultDate||(this._defaultDate=+(void 0!==e.defaultSelectedDate?ah(e.defaultSelectedDate):nh(rh(e)))),n=t.selectedDate||this._selectedDateTime||this._defaultDate),e.data!==a.data&&(this._events=e.immutableData?(e.data||[]).slice():Xm(e.data),this._refresh=!0),(e.invalid!==a.invalid||e.colors!==a.colors||s)&&(this._refresh=!0),JSON.stringify(e.view)!==JSON.stringify(a.view)||e.firstDay!==a.firstDay||e.dragTimeStep!==a.dragTimeStep){var u={c:"eventcalendar",dragTimeStep:e.dragTimeStep,eventListSize:this._eventListSize,eventListType:this._eventListType,firstDay:e.firstDay,resourcesLength:e.resources?e.resources.length:0,scheduleEndDay:this._scheduleEndDay,scheduleEndTime:this._scheduleEndTime,scheduleMaxEventStack:this._scheduleMaxEventStack,scheduleMinEventWidth:this._scheduleMinEventWidth,scheduleSize:this._scheduleSize,scheduleStartDay:this._scheduleStartDay,scheduleStartTime:this._scheduleStartTime,scheduleTimeCellStep:this._scheduleTimeCellStep,scheduleTimeLabelStep:this._scheduleTimeLabelStep,scheduleTimezones:this._scheduleTimezones,scheduleType:this._scheduleType,showCalendar:this._showCalendar,showEventCount:this._showEventCount,showEventLabels:this._showEventLabels,showEventList:this._showEventList,showMarked:!!e.marked,showSchedule:this._showSchedule,showScheduleDays:this._showScheduleDays,showTimeline:this._showTimeline,slotsLength:e.slots?e.slots.length:0,timelineEndDay:this._timelineEndDay,timelineEndTime:this._timelineEndTime,timelineListing:this._timelineListing,timelineResolution:this._timelineResolution,timelineResolutionVertical:this._timelineResolutionVertical,timelineSize:this._timelineSize,timelineStartDay:this._timelineStartDay,timelineStartTime:this._timelineStartTime,timelineTimeCellStep:this._timelineTimeCellStep,timelineTimeLabelStep:this._timelineTimeLabelStep,timelineType:this._timelineType,v:"5.30.1",view:e.view};this._remote++,uf(this),df("remote",this,u,(function(e){if(r._remote--,!r._remote){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];r[a]=e[a]}hf(e.notification),r._tempViewChanged=e._viewChanged,r.forceUpdate()}}),"comp_"+this._uid)}this._showDate=!this._showScheduleDays&&(this._showSchedule&&"day"===this._scheduleType||this._showEventList&&"day"===this._eventListType&&this._eventListSize<2);var h=this._pageLoad;if((this._refresh||e.locale!==a.locale||e.theme!==a.theme)&&(o=!0,this._pageLoad++),e.resources!==a.resources&&(this._resourcesMap=(e.resources||[]).reduce((function(e,t){return e[t.id]=t,e}),{})),e.selectMultipleEvents&&e.selectedEvents!==a.selectedEvents&&(this._selectedEventsMap=(e.selectedEvents||[]).reduce((function(e,t){return t.occurrenceId?e[t.occurrenceId]=t:e[t.id]=t,e}),{})),void 0===this._selectedEventsMap&&(this._selectedEventsMap={}),e.refDate!==a.refDate&&(this._refDate=ah(e.refDate)),this._refDate||this._showCalendar||!this._showSchedule&&!this._showTimeline||(this._refDate=qu(new Date)),n!==this._selectedDateTime&&(this._viewDate=n),e.cssClass===a.cssClass&&e.className===a.className&&e.class===a.class||(this._checkSize++,this._viewChanged=c=!0),c&&this._viewDate&&n!==this._viewDate&&(l=!0,n=this._viewDate),n!==this._selectedDateTime||c){var d=this._showCalendar&&(this._showSchedule||this._showTimeline||this._showEventList)?+Mf(new Date(n),e,this._minDate,this._maxDate,void 0,void 0,1):hu(n,this._minDate,this._maxDate);d=this._getValidDay(d),(n!==d||l)&&(n=d,setTimeout((function(){r._selectedChange(n)}))),this._skipScheduleScroll||this._shouldScrollSchedule++,this._selectedDateTime=n}var f=qu(new Date(n)),m=+f;m===this._selected&&i===this._showDate&&e.locale===a.locale&&a.dateFormatLong===e.dateFormatLong||(this._selectedDateHeader=this._showDate?oh(e.dateFormatLong,f,e):""),m===this._selected&&e.dataTimezone===a.dataTimezone&&e.displayTimezone===a.displayTimezone||(this._shouldAnimateScroll=void 0!==this._shouldAnimateScroll?this._shouldAnimateScroll:void 0!==this._selected,this._selected=m,this._selectedDates={},this._selectedDates[+th(e,new Date(m))]=!0,this._active=m,o=!0,l=!0),o&&this._showCalendar&&("day"===this._eventListType||"day"===this._scheduleType||"day"===this._timelineType)&&this._setEventList(f,hh(f,1)),this._refresh&&t.showPopover&&setTimeout((function(){r._hidePopover()})),this._refresh=!1,this._cssClass=this._className+" mbsc-eventcalendar"+(this._showEventList?" mbsc-eventcalendar-agenda":"")+(this._showSchedule?" mbsc-eventcalendar-schedule":"")+(this._showTimeline?" mbsc-eventcalendar-timeline":""),this._navService.options({activeDate:this._active,calendarType:this._calendarType,endDay:this._showSchedule?this._scheduleEndDay:this._showTimeline?this._timelineEndDay:this._rangeEndDay,eventRange:this._rangeType,eventRangeSize:this._showSchedule?this._scheduleSize:this._showTimeline?this._timelineSize:this._eventListSize,firstDay:e.firstDay,getDate:e.getDate,getDay:e.getDay,getMonth:e.getMonth,getYear:e.getYear,max:e.max,min:e.min,onPageChange:this._onPageChange,onPageLoading:this._onPageLoading,refDate:this._refDate,resolution:this._timelineResolution,showCalendar:this._showCalendar,showOuterDays:this._showOuterDays,size:this._calendarSize,startDay:this._rangeStartDay,weeks:this._calendarSize},this._pageLoad!==h),l&&(this._shouldScroll=!this._isPageChange&&!this._shouldSkipScroll)},t.prototype._mounted=function(){this._unsubscribe=Wm(this._onExternalDrag),Ph(this._el,"keydown",this._onKeyDown)},t.prototype._updated=function(){var e=this;if(this._shouldScroll&&this.state.eventList&&this.state.isListScrollable&&(Tu(this,(function(){e._scrollToDay(),e._shouldAnimateScroll=void 0})),this._shouldScroll=!1),this._shouldLoadDays&&(this._shouldLoadDays=!1,Qh(this._list.querySelectorAll("[mbsc-timestamp]"),(function(t){e._listDays[t.getAttribute("mbsc-timestamp")]=t}))),this._shouldEnhance&&(this._shouldEnhance="popover"===this._shouldEnhance?this._popoverList:this._list),this._triggerCreated){var t=this._triggerCreated,n="calendar"===t.source?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'+t.event.id+'"]'):this._el.querySelector('.mbsc-schedule-event[data-id="'+t.event.id+'"]');this._hook("onEventCreated",Dc({},this._triggerCreated,{target:n})),this._triggerCreated=null}if(this._triggerUpdated){var r=this._triggerUpdated;n="calendar"===r.source?this._calendarView._body.querySelector('.mbsc-calendar-table-active .mbsc-calendar-text[data-id="'+r.event.id+'"]'):this._el.querySelector('.mbsc-schedule-event[data-id="'+r.event.id+'"]'),this._hook("onEventUpdated",Dc({},this._triggerUpdated,{target:n})),this._triggerUpdated=null}this._triggerDeleted&&(this._hook("onEventDeleted",Dc({},this._triggerDeleted)),this._triggerDeleted=null),this._viewChanged&&setTimeout((function(){e._viewChanged=!1}),10),this._shouldSkipScroll&&setTimeout((function(){e._shouldSkipScroll=!1})),this._navigateToEvent&&setTimeout((function(){e._navigateToEvent=void 0})),this._skipScheduleScroll=!1},t.prototype._destroy=function(){this._unsubscribe&&jm(this._unsubscribe),Fh(this._el,"keydown",this._onKeyDown)},t.prototype._resetSelection=function(){this.s.selectMultipleEvents&&Object.keys(this._selectedEventsMap).length>0&&(this._selectedEventsMap={},this._onSelectedEventsChange([]),this.forceUpdate())},t.prototype._getAgendaEvents=function(e,t,n){var r=this,a=[],i=this.s,s=0;if(n&&this._showEventList)for(var o=function(e){var t=n[Yu(e)]||[],o=Yd(t,i.eventOrder);s+=t.length,a.push({date:oh(i.dateFormatLong,e,i),events:o.map((function(t){return r._getEventData(t,e)})),timestamp:+e})},l=qu(e);l<t;l.setDate(l.getDate()+1))o(l);return this._eventListNr=s,a},t.prototype._getEventData=function(e,t,n,r){var a=this.s;return!e.color&&e.resource&&void 0===n&&(n=(this._resourcesMap||{})[fu(e.resource)?e.resource[0]:e.resource]),Qm(a,e,t,this._colorEventList,n,!0,!0,!1,!1,r)},t.prototype._getValidDay=function(e,t){void 0===t&&(t=1);var n=this._rangeStartDay,r=this._rangeEndDay;if(!this._showCalendar&&"day"===this._rangeType&&void 0!==n&&void 0!==r){var a=new Date(e),i=a.getDay(),s=0;if((r<n?i>r&&i<n:i>r||i<n)&&(s=t<0?r-i:n-i),s)return+hh(a,s+=t<0?s>0?-7:0:s<0?7:0)}return e},t.prototype._setEventList=function(e,t){var n=this;setTimeout((function(){n._eventListHTML=void 0,n._shouldScroll=!0,n._listDays=null,n._scrollToDay(0),n.setState({eventList:n._getAgendaEvents(e,t,n._eventMap)})}))},t.prototype._showPopover=function(e,t,n,r,a,i){var s=this;this.state.showPopover&&e===this.state.popoverKey||setTimeout((function(){s._anchor=r,s.setState({popoverContext:a,popoverDate:t,popoverHidden:!1,popoverHost:i,popoverKey:e,popoverList:n,showPopover:!0})}))},t.prototype._hidePopover=function(){this.state.showPopover&&this.setState({popoverDrag:!1,showPopover:!1})},t.prototype._scrollToDay=function(e){var t=this;if(this._list){var n=e,r=void 0;if(void 0===e&&this._listDays){var a=this._listDays[this._selected],i=this._navigateToEvent&&this._navigateToEvent.id;if(a&&(n=a.offsetTop,void 0!==i)){var s=a.querySelector('.mbsc-event[data-id="'+i+'"]'),o=a.querySelector(".mbsc-event-day");s&&(n=s.offsetTop-(o?o.offsetHeight:0)+1)}void 0!==n&&(r=this._shouldAnimateScroll)}void 0!==n&&(this._isListScrolling++,jh(this._list,void 0,n,r,!1,(function(){setTimeout((function(){t._isListScrolling--}),150)})))}},t.prototype._selectedChange=function(e,t){var n=new Date(e);void 0!==this.s.selectedDate||t||this.setState({selectedDate:+e}),this._emit("selectedDateChange",n),this._hook("onSelectedDateChange",{date:n})},t.prototype._cellClick=function(e,t){this._hook(e,Dc({target:t.domEvent.currentTarget},t))},t.prototype._dayClick=function(e,t){var n=Yu(t.date),r=Yd(this._eventMap[n],this.s.eventOrder);t.events=r,this._hook(e,t)},t.prototype._labelClick=function(e,t){t.label&&this._hook(e,{date:t.date,domEvent:t.domEvent,event:t.label,source:"calendar"})},t.prototype._eventClick=function(e,t){return t.date=new Date(t.date),this._hook(e,t)},t.prototype._handleMultipleSelect=function(e){var t=e.label||e.event;if(t&&this.s.selectMultipleEvents){var n=e.domEvent,r=n.shiftKey||n.ctrlKey||n.metaKey?this._selectedEventsMap:{},a=t.occurrenceId||t.id;r[a]?delete r[a]:r[a]=t,this._selectedEventsMap=Dc({},r),this._onSelectedEventsChange(Lu(r)),void 0===this.s.selectedEvents&&this.forceUpdate()}},t.defaults=Dc({},Pd,{actionableEvents:!0,allDayText:"All-day",data:[],newEventText:"New event",noEventsText:"No events",showControls:!0,showEventTooltip:!0,view:{calendar:{type:"month"}}}),t._name="Eventcalendar",t}(sd),ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return t=e.children,(0,r.createElement)("div",{ref:this._setEl,className:this._cssClass},t);var t},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._render=function(e){this._cssClass=this._className+this._rtl+" mbsc-font mbsc-list"+this._theme},t}(sd)),tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return t=e.children,(0,r.createElement)("div",{ref:this._setEl,className:this._cssClass},t);var t},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._render=function(e){this._cssClass=this._className+" mbsc-list-header"+this._theme+this._hb},t}(sd)),np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t,n){var a=t.props;a.actionable,a.children,a.className,a.drag,a.event,a.eventData,a.ripple,a.rtl;var i=a.theme;a.themeVariant,a.onHoverIn,a.onHoverOut,a.onDragEnd,a.onDragMove,a.onDragStart,a.onDragModeOn,a.onDragModeOff,a.onDelete,a.onClick;var s=kc(a,["actionable","children","className","drag","event","eventData","ripple","rtl","theme","themeVariant","onHoverIn","onHoverOut","onDragEnd","onDragMove","onDragStart","onDragModeOn","onDragModeOff","onDelete","onClick"]);return(0,r.createElement)("div",Dc({tabIndex:0,ref:t._setEl,onClick:t._onClick,className:t._cssClass},s),n,(0,r.createElement)("div",{className:"mbsc-list-item-background mbsc-"+i}))}(0,this,e.children)},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){t._hook("onClick",{domEvent:e}),t.s.selected&&t.setState({hasFocus:!1})},t}return Sc(t,e),t.prototype._mounted=function(){var e,t,n=this;this._unlisten=yd(this._el,{click:!0,keepFocus:!0,onBlur:function(){n.setState({hasFocus:!1})},onEnd:function(r){if(e){var a=n.s,i=Dc({},r),s=a.eventData;i.domEvent.preventDefault(),i.drag=!0,i.event=a.event,i.eventData=s,i.resource=s&&s.currentResource&&s.currentResource.id,n._hook("onDragEnd",i),e=!1}clearTimeout(t)},onFocus:function(){n.setState({hasFocus:!0})},onHoverIn:function(e){n.s.actionable&&n.setState({hasHover:!0}),n._hook("onHoverIn",{domEvent:e})},onHoverOut:function(e){n.setState({hasHover:!1}),n._hook("onHoverOut",{domEvent:e})},onKeyDown:function(e){var t=n.s.event;switch(e.keyCode){case 13:case 32:n._el.click(),e.preventDefault();break;case 8:case 46:t&&!1!==t.editable&&n._hook("onDelete",{domEvent:e,event:t,source:"agenda"})}},onMove:function(r){var a=n.s,i=Dc({},r),s=a.eventData;i.drag=!0,i.event=a.event,i.eventData=s,i.external=!0,i.resource=s&&s.currentResource&&s.currentResource.id,!e&&i.isTouch||i.domEvent.preventDefault(),e?n._hook("onDragMove",i):(Math.abs(i.deltaX)>7||Math.abs(i.deltaY)>7)&&(clearTimeout(t),!i.isTouch&&a.drag&&!1!==a.event.editable&&(e=!0,n._hook("onDragStart",i)))},onPress:function(){n.s.actionable&&n.setState({isActive:!0})},onRelease:function(){n.setState({isActive:!1})},onStart:function(r){var a=n.s;return r.isTouch&&a.drag&&!1!==a.event.editable&&!e&&(t=setTimeout((function(){var t=Dc({},r),i=a.eventData;t.drag=!0,t.event=a.event,t.eventData=i,t.resource=i&&i.currentResource&&i.currentResource.id,n._hook("onDragModeOn",t),n._hook("onDragStart",t),e=!0}),350)),{ripple:a.actionable&&a.ripple}}})},t.prototype._render=function(e,t){this._cssClass=this._className+" mbsc-list-item"+this._theme+this._hb+this._rtl+(e.actionable?" mbsc-list-item-actionable":"")+(t.hasFocus?" mbsc-focus":"")+(t.hasHover?" mbsc-hover":"")+(t.isActive?" mbsc-active":"")+(e.selected?" mbsc-selected":"")},t.prototype._destroy=function(){this._unlisten&&this._unlisten()},t.defaults={actionable:!0,ripple:!1},t._name="ListItem",t}(sd)),rp="mbsc-def";function ap(e,t,n,r,a,i,s){for(var o=!1!==s.showEventBuffer,l="start-end"===i,c=s.exclusiveEndDates?n:qu(hh(n,1)),u=0,h=Object.keys(e);u<h.length;u++)for(var d=e[h[u]],f=qu(t);f<c;f.setDate(f.getDate()+1)){var m=d[Yu(f)];if(m){if((r||a)&&m.allDay[0]&&(!l||$u(f,t)||$u(f,n)))return m.allDay[0].original;if(!r)for(var p=0,v=m.data;p<v.length;p++){var g=v[p],_=g.original,y=o&&g.bufferStart?g.bufferStart:g.startDate,b=o&&g.bufferEnd?g.bufferEnd:g.endDate;if(l){if(Uu(y,b,t,t,!0))return _;if(Uu(y,b,n,n))return _}else if(Uu(y,b,t,n))return _}}}return!1}function ip(e,t,n,r,a,i,s,o,l){var c=e.allDay||n,u=l&&e.bufferStart?e.bufferStart:e.startDate;if(r&&n&&!a){var h=o[Yu(u)];return u<i?i:s[h+(fh(u.getDay(),t.startDay,t.endDay)?0:1)].date}return c?rh(t,u.getFullYear(),u.getMonth(),u.getDate()):u}function sp(e,t,n,r,a,i,s,o,l){var c=e.allDay||n,u=l&&e.bufferEnd?e.bufferEnd:e.endDate;if(r&&n&&!a){var h=o[Yu(ju(t,e.allDay,e.startDate,u))],d=u>=i||h>=s.length-1?i:s[h+1].date;return ju(t,!1,e.startDate,d)}var f=c?ju(t,e.allDay,e.startDate,u):u;return c?rh(t,f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999):f}function op(e,t,n,r,a,i,s,o,l,c,u,h,d,f){for(var m=!1!==e.showEventBuffer,p=n.allDay?l:c,v=n.allDay?u:h,g=ip(n,e,i,s,o,p,d,f,m),_=sp(n,e,i,s,o,v,d,f,m),y=!1,b=0,w=t;b<w.length;b++){for(var E=w[b],x=0,S=!1,D=void 0,k=0,C=E.stacks;k<C.length;k++){for(var T=C[k],I=!1,M=0,N=T;M<N.length;M++){var L=N[M],R=L.allDay?l:c,A=L.allDay?u:h;Uu(ip(L,e,i,s,o,R,d,f,m),sp(L,e,i,s,o,A,d,f,m),g,_,!0)&&(I=!0,S=!0,D?r[n.uid]=r[n.uid]||x:r[L.uid]=x+1)}I||D||(D=T),x++}S&&(D?D.push(n):"all"===a||E.stacks.length<+a?E.stacks.push([n]):(n.position=void 0,E.more.push(n)),y=!0)}y||(r[n.uid]=0,t.push({stacks:[[n]],more:[]}))}function lp(e){return(e=Math.abs(Du(e)))>60?60*Du(e/60):60%e==0?e:[6,10,12,15,20,30].reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))}function cp(e,t,n,r){var a=Hu(e),i=Hu(t);return n>a&&(a=n),r<i&&(i=r),i-a}function up(e,t,n,r,a,i,s,o,l){var c=i-a,u=e,h=t,d=hh(qu(h),1);u<n&&(u=n),h>r&&(h=d=r);var f=Hu(u),m=Hu(h);a>f&&(f=a),i<m&&(m=i),$u(u,h)||(f>i&&(f=i),m<a&&(m=a));var p=0;if($u(u,h))p=l?c:m-f;else for(var v=qu(u);v<d;v.setDate(v.getDate()+1))fh(v.getDay(),s,o)&&(!l&&$u(v,u)?p+=c-f+a:!l&&$u(v,h)?p+=m-a:p+=c);return p}function hp(e,t,n,r,a,i){r&&r>e&&(e=r);var s=Hu(e);return(t>s||void 0!==a&&void 0!==i&&!fh(e.getDay(),a,i))&&(s=t),100*(s-t)/n}function dp(e,t,n,r,a){e=e||{};var i=Object.keys(e),s={},o=t.map((function(e){return e.id})),l=n.map((function(e){return e.id}));o.forEach((function(e){s[e]={},l.forEach((function(t){s[e][t]={}}))}));for(var c=function(t){for(var n=function(e){var n=e.resource,i=e.slot,c=void 0!==n&&r?fu(n)?n:[n]:o,u=void 0!==i&&a?[i]:l;c.forEach((function(n){var r=s[n];r&&u.forEach((function(n){var a=r[n];a&&(a[t]||(a[t]=[]),a[t].push(e))}))}))},i=0,c=e[t];i<c.length;i++)n(c[i])},u=0,h=i;u<h.length;u++)c(h[u]);return s}function fp(e,t){var n=new Date(e),r=new Date(+Ru+t);return new Date(n.getFullYear(),n.getMonth(),n.getDate(),r.getHours(),r.getMinutes())}var mp={},pp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(e){t._triggerClick("onClick",e);var n=t.s,r=mp[n.event.uid];r&&n.selected&&r.next({hasFocus:!1})},t._onRightClick=function(e){t._triggerClick("onRightClick",e)},t._onDocTouch=function(e){Fh(t._doc,"touchstart",t._onDocTouch),Fh(t._doc,ud,t._onDocTouch),t._isDrag=!1,t._hook("onDragModeOff",{domEvent:e,event:t.s.event.original})},t._updateState=function(e){t.setState(e)},t}return Sc(t,e),t.prototype._render=function(e,t){var n=e.event,r=new Date(n.date),a=n.position,i=n.startDate,s=ju(e,n.allDay,i,n.endDate),o=e.isTimeline,l=e.isListing,c=n.original.more,u=c&&o||l||n.allDay,h=!$u(i,s),d=h&&$u(i,r),f=h&&$u(s,r),m=u&&(!o||l||c),p=o?"timeline":"schedule",v=e.gridStartTime,g=e.gridEndTime,_=Hu(i),y=Hu(s),b=o&&e.slot!==rp,w=fh(s.getDay(),e.startDay,e.endDay),E=e.singleDay?hh(r,1):new Date(e.lastDay);n.allDay||(E=th(e,E)),this._isStart=b||!h||d,this._isEnd=b||!h||(u||o&&!e.hasResY?s<E&&w:f),b||u||!(v>_||g<_)||(this._isStart=!1),b||u||!(g<y||v>y)||(this._isEnd=!1),this._isMore=c,this._isDrag=this._isDrag||e.isDrag,this._content=void 0,this._rangeText=n.start+" - "+n.end,this._isAllDay=m,this._host=p,!n.allDay&&(o&&!e.hasResY||!h||d||f)||(this._rangeText=n.allDayText||"\xa0"),n.bufferBefore&&(this._bufferStyleStart=o?{width:n.bufferBefore}:{height:n.bufferBefore}),n.bufferAfter&&(this._bufferStyleEnd=o?{width:n.bufferAfter}:{height:n.bufferAfter}),this._cssClass="mbsc-schedule-event"+this._theme+this._rtl+(e.render||e.template?" mbsc-schedule-event-custom":"")+(o?" mbsc-timeline-event":"")+(l||c?" mbsc-timeline-event-listing":"")+(this._isStart?" mbsc-"+p+"-event-start":"")+(this._isEnd?" mbsc-"+p+"-event-end":"")+(m?" mbsc-schedule-event-all-day":"")+(b?" mbsc-timeline-event-slot":"")+(t.hasFocus&&!e.inactive&&!e.selected||e.selected?" mbsc-schedule-event-active":"")+(!t.hasHover||e.inactive||this._isDrag?"":" mbsc-schedule-event-hover")+(e.isDrag?" mbsc-schedule-event-dragging"+(o?" mbsc-timeline-event-dragging":""):"")+(e.hidden?" mbsc-schedule-event-hidden":"")+(e.inactive?" mbsc-schedule-event-inactive":"")+(!1===n.original.editable?" mbsc-readonly-event":"")+(n.original.cssClass?" "+n.original.cssClass:""),this._style=Dc({},a,{color:n.color,top:e.eventHeight&&void 0!==a.top?a.top*e.eventHeight+"px":a.top});var x,S=e.render||e.renderContent;if(S&&!c){var D=S(n);vu(D)?x=D:this._content=D}else e.contentTemplate&&!c||(x=n.html);x!==this._text&&(this._text=x,this._html=x?this._safeHtml(x):void 0,this._shouldEnhance=x&&!!S)},t.prototype._mounted=function(){var e,t,n,r=this,a=this.s.event.uid,i=this._el,s=mp[a];s||(s=new Ic,mp[a]=s),this._unsubscribe=s.subscribe(this._updateState),this._doc=Vh(i),this._unlisten=yd(i,{keepFocus:!0,onBlur:function(){s.next({hasFocus:!1})},onDoubleClick:function(e){e.domEvent.stopPropagation(),r._triggerClick("onDoubleClick",e.domEvent)},onEnd:function(t){if(r._isDrag){var a=r.s,s=Dc({},t);s.domEvent.preventDefault(),s.eventData=a.event,s.resource=a.resource,s.slot=a.slot,a.resize&&e?(s.resize=!0,s.direction=e):a.drag&&(s.drag=!0),r._hook("onDragEnd",s),a.isDrag||(r._isDrag=!1),i&&s.moved&&i.blur()}clearTimeout(n),e=void 0},onFocus:function(){s.next({hasFocus:!0})},onHoverIn:function(e){s.next({hasHover:!0}),r._triggerClick("onHoverIn",e)},onHoverOut:function(e){s.next({hasHover:!1}),r._triggerClick("onHoverOut",e)},onKeyDown:function(e){var t=r.s.event.original;switch(e.keyCode){case 13:case 32:i.click(),e.preventDefault();break;case 8:case 46:!1!==t.editable&&r._hook("onDelete",{domEvent:e,event:t,resource:r.s.resource,slot:r.s.slot,source:r._host})}},onMove:function(a){var i=r.s,s=Dc({},a);if(s.eventData=i.event,s.resource=i.resource,s.slot=i.slot,e)s.resize=!0,s.direction=e;else{if(!i.drag)return;s.drag=!0}!1!==i.event.original.editable&&(!r._isDrag&&s.isTouch||s.domEvent.preventDefault(),r._isDrag?r._hook("onDragMove",s):(Math.abs(s.deltaX)>7||Math.abs(s.deltaY)>7)&&(clearTimeout(n),s.isTouch||(s.domEvent=t,r._isDrag=!0,r._hook("onDragStart",s))))},onStart:function(a){t=a.domEvent;var i=r.s,s=Dc({},a),o=t.target;if(s.eventData=i.event,s.resource=i.resource,s.slot=i.slot,i.resize&&o.classList.contains("mbsc-schedule-event-resize"))e=o.classList.contains("mbsc-schedule-event-resize-start")?"start":"end",s.resize=!0,s.direction=e;else{if(!i.drag)return;s.drag=!0}!1!==i.event.original.editable&&(r._isDrag?(t.stopPropagation(),r._hook("onDragStart",s)):s.isTouch&&(n=setTimeout((function(){r._hook("onDragModeOn",s),r._hook("onDragStart",s),r._isDrag=!0}),350)))}}),this._isDrag&&(Ph(this._doc,"touchstart",this._onDocTouch),Ph(this._doc,ud,this._onDocTouch))},t.prototype._destroy=function(){if(this._el&&this._el.blur(),this._unsubscribe){var e=this.s.event.uid,t=mp[e];t&&(t.unsubscribe(this._unsubscribe),t.nr||delete mp[e])}this._unlisten&&this._unlisten(),Fh(this._doc,"touchstart",this._onDocTouch),Fh(this._doc,ud,this._onDocTouch)},t.prototype._triggerClick=function(e,t){var n=this.s;this._hook(e,{date:n.event.date,domEvent:t,event:n.event.original,resource:n.resource,slot:n.slot,source:this._host})},t}(sd),vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n,a,i,s=e.event,o=t._isAllDay,l=e.isTimeline,c=t._rtl,u=t._theme,h=e.resize&&!1!==s.original.editable,d=((n={}).onContextMenu=t._onRightClick,n);return(0,r.createElement)("div",Dc({tabIndex:0,className:t._cssClass,"data-id":s.id,"data-key":s.key,style:t._style,ref:t._setEl,title:s.tooltip,onClick:t._onClick},d),t._isStart&&s.bufferBefore&&(e.renderBufferBefore&&vu(a=e.renderBufferBefore(s))&&(i=t._safeHtml(a),t._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-"+t._host+"-event-buffer mbsc-"+t._host+"-event-buffer-before"+(a?"":" mbsc-schedule-event-buffer-background")+u+c,style:t._bufferStyleStart,dangerouslySetInnerHTML:i},a)),t._isEnd&&s.bufferAfter&&function(){var n,a;return e.renderBufferAfter&&vu(n=e.renderBufferAfter(s))&&(a=t._safeHtml(n),t._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-"+t._host+"-event-buffer mbsc-"+t._host+"-event-buffer-after"+(n?"":" mbsc-schedule-event-buffer-background")+u+c,style:t._bufferStyleEnd,dangerouslySetInnerHTML:a},n)}(),t._isStart&&h&&(0,r.createElement)("div",{className:"mbsc-schedule-event-resize mbsc-schedule-event-resize-start"+(l?" mbsc-timeline-event-resize":"")+(e.isDrag?" mbsc-schedule-event-resize-start-touch":"")+c}),t._isEnd&&h&&(0,r.createElement)("div",{className:"mbsc-schedule-event-resize mbsc-schedule-event-resize-end"+(l?" mbsc-timeline-event-resize":"")+(e.isDrag?" mbsc-schedule-event-resize-end-touch":"")+c}),e.render&&!t._isMore?t._html?(0,r.createElement)("div",{style:{height:"100%"},dangerouslySetInnerHTML:t._html}):t._content:(0,r.createElement)(r.Fragment,null,!o&&!l&&!t._isMore&&(0,r.createElement)("div",{className:"mbsc-schedule-event-bar"+u+c}),(0,r.createElement)("div",{className:"mbsc-schedule-event-background"+(l?" mbsc-timeline-event-background":"")+(o?" mbsc-schedule-event-all-day-background":"")+u,style:{background:s.style.background}}),(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-schedule-event-inner"+u+(o?" mbsc-schedule-event-all-day-inner":"")+(s.cssClass||""),style:{color:s.style.color}},(0,r.createElement)("div",{className:"mbsc-schedule-event-title"+(o?" mbsc-schedule-event-all-day-title":"")+u,dangerouslySetInnerHTML:t._html},t._content),!o&&!t._isMore&&(0,r.createElement)("div",{className:"mbsc-schedule-event-range"+u},t._rangeText)),s.ariaLabel&&(0,r.createElement)("div",{className:"mbsc-hidden-content"},s.ariaLabel)))}(e,this)},t}(pp),gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e){return function(e,t){var n=e.timezones;return(0,r.createElement)("div",{"aria-hidden":"true",className:t._cssClass,style:t._pos},(0,r.createElement)("div",{className:(n?"mbsc-flex ":"")+"mbsc-schedule-time-indicator-time mbsc-schedule-time-indicator-time-"+e.orientation+t._theme+t._rtl},n?n.map((function(e,n){return(0,r.createElement)("div",{key:n,className:"mbsc-schedule-time-indicator-tz"+t._theme+t._rtl},t._times[n])})):t._time),e.showDayIndicator&&(0,r.createElement)("div",{className:"mbsc-schedule-time-indicator-day"+t._theme+t._rtl,style:t._dayPos}))}(e,this)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._mounted=function(){var e=this;clearInterval(this._timer),this._timer=setInterval((function(){e._zone?e._zone.runOutsideAngular((function(){e.forceUpdate()})):e.forceUpdate()}),1e4)},t.prototype._destroy=function(){clearInterval(this._timer)},t.prototype._render=function(e){var t=rh(e),n=e.rtl,r=e.displayedDays,a=e.displayedTime,i=e.startTime,s=6e4*Cu(Hu(t)/6e4),o=e.timezones,l={amText:e.amText,pmText:e.pmText};if(o&&Au(t)){this._times=[];for(var c=0,u=o;c<u.length;c++){var h=u[c],d=t.clone();d.setTimezone(h.timezone),this._times.push(oh(e.timeFormat,d,l))}}else this._time=oh(e.timeFormat,t,l);this._cssClass="mbsc-schedule-time-indicator mbsc-schedule-time-indicator-"+e.orientation+this._theme+this._rtl+" "+(s<i||s>i+a||!fh(t.getDay(),e.startDay,e.endDay)?" mbsc-hidden":"");var f=e.hasResY?0:Qu(e.firstDay,t,e.startDay,e.endDay);if("x"===e.orientation){var m=100*f/r+"%",p=o&&4.25*o.length+"em";this._pos={left:o&&!n?p:void 0,right:o&&n?p:void 0,top:100*(s-i)/a+"%"},this._dayPos={left:n?"":m,right:n?m:"",width:100/r+"%"}}else{var v=100*(f*a+s-i)/(r*a)+"%";this._pos={left:n?"":v,right:n?v:""}}},t}(sd)),_p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e,t){return function(e,t,n){var a;return e.renderDay&&(a=e.renderDay(n._data)),e.renderDayContent&&(a=e.renderDayContent(n._data)),vu(a)&&(a=(0,r.createElement)("div",{dangerouslySetInnerHTML:n._safeHtml(a)}),n._shouldEnhance=!0),(0,r.createElement)("div",{ref:n._setEl,className:n._cssClass,onClick:n._onClick,style:{background:e.background}},e.renderDay?a:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-schedule-header-dayname"+n._theme+(e.selected?" mbsc-selected":"")+(e.isToday?" mbsc-schedule-header-dayname-curr":"")},e.dayNames[n._day]),(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-schedule-header-day"+n._theme+n._rtl+(e.selected?" mbsc-selected":"")+(e.isToday?" mbsc-schedule-header-day-today":"")+(t.hasHover?" mbsc-hover":"")},e.day),e.label&&(0,r.createElement)("div",{className:"mbsc-hidden-content","aria-pressed":e.selectable?e.selected?"true":"false":void 0,role:e.selectable?"button":void 0},e.label),e.renderDayContent&&a))}(e,t,this)},t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(){var e=t.s;e.selectable&&e.onClick(e.timestamp)},t}return Sc(t,e),t.prototype._render=function(e,t){var n=new Date(e.timestamp);this._cssClass="mbsc-schedule-header-item "+this._className+this._theme+this._rtl+this._hb+(e.largeNames?" mbsc-schedule-header-item-large":"")+(e.selected?" mbsc-selected":"")+(t.hasHover?" mbsc-hover":""),this._data={date:n,events:e.events||[],resource:e.resource,selected:e.selected},this._day=n.getDay()},t.prototype._mounted=function(){var e=this;this._unlisten=yd(this._el,{onHoverIn:function(){e.s.selectable&&e.setState({hasHover:!0})},onHoverOut:function(){e.s.selectable&&e.setState({hasHover:!1})}})},t.prototype._destroy=function(){this._unlisten&&this._unlisten()},t}(sd)),yp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._eventHeights={},t._resourceTops={},t._onScroll=function(){},t._onMouseLeave=function(e,n){!t._cursorTimeCont||t.state.dragData&&!n||(t._cursorTimeCont.style.visibility="hidden",t._isCursorTimeVisible=!1)},t._onMouseMove=function(e){if(t._showCursorTime){var n=t.s,r=n.rtl,a=t._isTimeline,i=t._cursorTimeCont;if(!t._isTouch||t._tempStart?!t._isCursorTimeVisible&&e&&(i.style.visibility="visible",t._isCursorTimeVisible=!0):(i.style.visibility="hidden",t._isCursorTimeVisible=!1),t._isCursorTimeVisible&&t._colWidth){var s=t._gridCont.getBoundingClientRect(),o=e?e.clientX:t._cursorX||0,l=e?e.clientY:t._cursorY||0,c=r?s.right-o:o-s.left,u=hu(l-s.top,8,t._colHeight),h=void 0,d=void 0,f=void 0;if(void 0!==t._dragDelta)d=rh(n,t._dragDelta<0?t._tempStart:t._tempEnd),h=a&&!t._hasResY?t._dayIndexMap[Yu(d)]:0,f=0===(f=Hu(d))?t._dragDelta<0?f:864e5:f;else{h=a&&!t._hasResY?hu(Cu(c/t._colWidth),0,t._daysNr-1):0,f=t._startTime+ku(Cu(a?t._time*(c-h*t._colWidth)/t._colWidth:t._time*(u-8)/(t._colHeight-16)),6e4*n.dragTimeStep);var m=t._days[h].date,p=new Date(+Ru+f);d=rh(n,m.getFullYear(),m.getMonth(),m.getDate(),p.getHours(),p.getMinutes())}var v=t._time*(a?t._daysNr:1),g=a?r?"right":"left":"top",_=i.style;_[g]=100*(h*t._time+f-t._startTime)/v+"%",_[r?"left":"right"]="",i.textContent=oh(n.timeFormat,d,n),t._cursorX=o,t._cursorY=l}}},t._onEventClick=function(e){var n=e.event.more;n?t._hook("onMoreClick",{context:t._scrollCont,date:e.date,key:e.event.id,list:n,target:e.domEvent.target}):t._hook("onEventClick",e)},t._onEventDragModeOn=function(e){t.s.externalDrag&&e.drag&&!e.create&&Bm.next(Dc({},e,{create:!0,eventName:"onDragModeOn",external:!0,from:t}));var n=e.create?t._tempEvent:e.eventData,r=e.create?t._tempResource:e.resource,a=e.create?t._tempSlot:e.slot;t.setState({dragData:{draggedEvent:n,originDates:e.external?void 0:t._getDragDates(n,r,a),resource:r},isTouchDrag:!0})},t._onEventDragModeOff=function(e){t._hook("onEventDragEnd",{domEvent:e.domEvent,event:e.create?t._tempEvent.original:e.event,resource:t._tempResource!==rp?t._tempResource:void 0,slot:t._tempSlot!==rp?t._tempSlot:void 0,source:t._isTimeline?"timeline":"schedule"}),t.setState({dragData:void 0,isTouchDrag:!1})},t._onEventDragStart=function(e){var n=t.s,r=e.click,a=n.eventList,i=t._isTimeline,s=t._visibleResources,o=t._slots,l=n.dragTimeStep,c=e.startX,u=e.startY;t._isTouch=e.isTouch,t._scrollY=0,t._scrollX=0,t._calcGridSizes();var h,d=n.rtl?t._gridRight-c:c-t._gridLeft,f=hu(u-t._gridTop,8,t._colHeight-9),m=a?t._cols:t._days,p=m.length,v=t._colWidth,g=v?Cu(d/v):1,_=t._resourceTops,y=t._scrollCont.scrollTop,b=0,w=g,E=0;if(n.externalDrag&&e.drag&&!e.create){var x=Kh(e.domEvent.target,".mbsc-schedule-event",t._el).cloneNode(!0),S=x.classList;x.style.display="none",S.add("mbsc-drag-clone","mbsc-schedule-drag-clone","mbsc-font"),S.remove("mbsc-schedule-event-hover"),t._clone=x,t._body=Vh(t._el).body,t._body.appendChild(x),t._eventDropped=!1,Bm.next(Dc({},e,{create:!0,dragData:e.eventData.original,eventName:"onDragStart",external:!0,from:t}))}if(i){if(E=v?Cu(d/(v/o.length))%o.length:0,t._hasResY)m.forEach((function(e,t){s.forEach((function(n,r){f>_[e.dateKey+"-"+n.id]&&(h=e.dateKey+"-"+n.id,w=t,b=r)}))}));else{s.forEach((function(e,t){f>_[e.id]&&(h=""+e.id,b=t)}));var D=f-y+t.state.headerHeight;if(y&&D<t._fixedHeight&&f-y>0)for(var k=0,C=t._fixedResources;k<C.length;k++){var T=C[k];D>t._fixedResourceTops[T.key]&&(h=T.key,b=T.index)}}t._startRow=h,t._startSlotIndex=E}else{var I=t._groupByResource,M=I?p:t._hasSlots?t._slots.length:s.length;b=I?Cu(g/M):g%M,w=I?g%M:Cu(g/M)}var N=e.external?void 0:s[b],L=N?N.id:void 0,R=e.external?void 0:o[E],A=R?R.id:void 0;if(N&&!1===N.eventCreation)return!1;if(e.create){w=hu(w,0,p-1);var O=!i&&n.showAllDay&&e.endY<t._gridContTop,P="day"===n.type&&1===n.size?t._firstDay:m[w].date,F=a||!e.external&&!r?6e4*l:t._stepCell,V=t._getGridTime(P,d,f,w,r?t._stepCell/6e4:l),z=!t._isDailyResolution||O||a?O?P:th(n,P):V,H="year"===n.resolution?dh(z,12,n):"quarter"===n.resolution?dh(z,3,n):"month"===n.resolution?dh(z,1,n):"week"===n.resolution?hh(z,n.endDay-n.startDay+1+(n.endDay<n.startDay?7:0)):hh(z,1),U=n.exclusiveEndDates?H:new Date(+H-1),B=O||a?U:mh(rh(n,+z+F),r?1:l),W=n.extendDefaultEvent?n.extendDefaultEvent({resource:L,slot:A,start:z}):void 0,j=Dc({allDay:O,end:B,id:Gm(),resource:N&&L!==rp?L:void 0,slot:R&&A!==rp?A:void 0,start:z,title:n.newEventText},W,e.dragData),Y=t._getEventData(j,P,N,R);if(i&&(Y.track=0),i&&void 0!==L&&void 0!==A&&t._setRowHeight){var q=Yu(z),K=t._hasResY?q+"-"+L:L,G=f-(t._fixedResourceTops[L]?y:0)-_[K];if(t._variableEventHeight)for(var Q=t._events[L][A][t._hasSlots||t._hasResY?q:"all"],X=Q&&Q.tracks||[],$=0,J=0;G>J&&$<X.length;)Y.track=$,J+=X[$],$++;else Y.position.top=hu(Cu(G/t._eventHeight),0,t._eventRows[L]-1)}if(e.dragData){var Z=+Y.endDate-+Y.startDate;Kd(e.dragData.dragInTime,void 0,n.dragInTime)&&(Y.startDate=P,Y.endDate=new Date(+P+Z))}t._tempEvent=Y,t._tempResource=L,t._tempSlot=A}return t._hook("onPopoverClose",{source:"dragStart"}),r||t._hook("onEventDragStart",{action:e.create?"create":e.resize?"resize":"move",domEvent:e.domEvent,event:(e.create?t._tempEvent:e.eventData).original,resource:L!==rp?L:void 0,slot:A!==rp?A:void 0,source:i?"timeline":"schedule"}),!0},t._onEventDragMove=function(e){clearTimeout(t._scrollTimer);var n=t.s,r=n.rtl,a=r?-1:1,i=t._isTimeline,s=n.eventList,o="month"===n.resolution||"year"===n.resolution,l=s?t._cols:t._days,c=t._colWidth,u=l.length,h=t._slots,d=t._groupByResource,f=t._visibleResources,m=t.state.dragData,p=n.dragTimeStep,v=n.timeFormat,g=e.startX,_=hu(e.endX,t._gridContLeft,t._gridContRight-1),y=hu(e.endY,t._gridContTop,t._gridContBottom-1),b=y-e.startY+t._scrollY,w=r?g-_+t._scrollX:_-g+t._scrollX,E=i?w:b,x=i?c:t._colHeight-16,S=t._gridRight-t._gridLeft-1,D=hu(e.startY-t._gridTop,8,t._colHeight-9),k=hu(r?t._gridRight+t._scrollX-_:_-t._gridLeft+t._scrollX,0,S),C=hu(y-t._gridTop+t._scrollY,8,t._colHeight-9),T=Cu((r?t._gridRight-g:g-t._gridLeft)/c),I=Cu(k/c),M=n.showAllDay&&e.endY<t._gridContTop,N=t._resourceTops,L=t._hasResY,R=t._scrollCont,A=R.scrollTop,O=e.create?t._tempEvent:e.eventData,P=O.original,F=Dc({},O),V=T,z=I,H=0,U=0,B=!1,W=t._gridContBottom-e.endY,j=e.endY-t._gridContTop,Y=e.endX-t._gridContLeft,q=t._gridContRight-e.endX,K=(R.scrollWidth-R.clientWidth)*a,G=r?0:K,Q=r?K:0;if(n.externalDrag&&e.drag&&!e.create&&(Bm.next(Dc({},e,{clone:t._clone,create:!0,dragData:P,eventName:"onDragMove",external:!0,from:t})),!t._onCalendar))return Ym(e,t._clone),void(m||t.setState({dragData:{draggedEvent:F}}));if(W<30&&A<R.scrollHeight-R.clientHeight&&(R.scrollTop+=5,t._scrollY+=5,B=!0),j<30&&!M&&A>0&&(R.scrollTop-=5,t._scrollY-=5,B=!0),Y<30&&R.scrollLeft>Q&&(R.scrollLeft-=5,t._scrollX-=5*a,B=!0),q<30&&R.scrollLeft<G&&(R.scrollLeft+=5,t._scrollX+=5*a,B=!0),B&&(t._scrollTimer=setTimeout((function(){t._onEventDragMove(e)}),20)),i)if(U=Cu(k/(c/h.length))%h.length,L)l.forEach((function(e,t){f.forEach((function(n,r){D>N[e.dateKey+"-"+n.id]&&(V=t),C>N[e.dateKey+"-"+n.id]&&(z=t,H=r)}))}));else{f.forEach((function(e,t){C>N[e.id]&&(H=t)}));var X=C-A+t.state.headerHeight;if(A&&X<t._fixedHeight&&C-A>0)for(var $=0,J=t._fixedResources;$<J.length;$++){var Z=J[$];X>t._fixedResourceTops[Z.key]&&(H=Z.index)}}else{var ee=d?u:t._resources.length;V=d?T%ee:Cu(T/ee),z=d?I%ee:Cu(I/ee),H=d?Cu(I/ee):I%ee}V=hu(V,0,u-1),z=hu(z,0,u-1);var te=O.startDate,ne=O.endDate,re=+ne-+te,ae=t._time,ie=Cu(ae*E/x),se=f[H],oe=e.create?t._tempResource:e.resource,le=e.create?t._tempSlot:e.slot;if(!1===se.eventCreation&&void 0===t._tempResource)return!1;var ce,ue=h[U].id,he=!1!==se.eventCreation?se.id:t._tempResource,de=O.allDay,fe=de?void 0:n,me=de||s,pe=te,ve=ne,ge=!0,_e=!0,ye=!0,be=l[V].date,we=l[z].date,Ee="day"===n.type&&1===n.size?0:Gu(be,we),xe=z-V,Se="year"===n.resolution?12:1,De=Ee-xe;if((e.drag&&!e.create||e.external)&&(e.external||(ge=function(e,t,n){return!1!==e&&!1!==t&&!1!==n}(P.dragBetweenResources,t._resourcesMap[oe].eventDragBetweenResources,n.dragBetweenResources),_e=function(e,t,n,r){return!1!==e&&!1!==t&&!1!==n&&!1!==r}(P.dragBetweenSlots,t._resourcesMap[oe].eventDragBetweenSlots,h[t._startSlotIndex||0].eventDragBetweenSlots,n.dragBetweenSlots)),ye=Kd(P.dragInTime,e.external||t._resourcesMap[oe].eventDragInTime,n.dragInTime)),e.drag||e.external)if(i||ge||oe===he||(Ee=t._dragDayDelta),i&&s&&o)pe=dh(te,xe*Se,n),ve=dh(ne,xe*Se,n);else{if(me=(de=M||i&&O.allDay)||s,fe=de?void 0:n,!i&&!M&&(O.allDay||e.external)||i&&e.external&&!O.allDay&&!s){var ke=qu(hh(te,Ee));pe=t._getGridTime(ke,k,C,z,p)}else!i||me||L?(ce=hh(te,Ee),pe=me?ce:mh(rh(fe,+ce+ie),p)):pe=mh(rh(n,+te+ie+(864e5-ae)*Ee+ae*De),p);!1!==se.eventCreation||i||(pe=rh(n,t._tempStart)),ve=rh(fe,+pe+re)}else{var Ce=i?xe:I-T,Te=e.create?Ce?Ce>0:E>0:"end"===e.direction,Ie=Gu(te,ne);!i&&d&&oe!==he&&(Ee=t._dragDayDelta),Te?i&&s&&o?ve=dh(ne,xe*Se,n):!i||me||L?(ce=hh(ne,Math.max(-Ie,Ee)),ve=me?ce:mh(rh(fe,+ce+ie),p),!me&&(Hu(ve)>t._endTime+1||ve>=hh(qu(ce),1))&&(ve=rh(n,+qu(ce)+t._endTime+1))):ve=mh(rh(n,+ne+ie+Ee*(864e5-ae)+ae*De),p):i&&s&&o?pe=dh(te,xe*Se,n):!i||me||L?(ce=hh(te,Math.min(Ie,Ee)),pe=me?ce:mh(rh(fe,+ce+ie),p),!me&&(Hu(pe)<t._startTime||pe<qu(ce))&&(pe=rh(n,+qu(ce)+t._startTime))):pe=mh(rh(n,+te+ie+Ee*(864e5-ae)+ae*De),p),he=oe,me&&ve<pe&&(Te?ve=rh(n,pe):pe=rh(n,ve)),!me&&(ve<pe||Math.abs(+ve-+pe)<6e4*p)&&(Te?ve=rh(n,+pe+6e4*p):pe=rh(n,+ve-6e4*p))}if((e.drag||e.external)&&(ye||(pe=te,ve=ne,de=t._tempAllDay),ge||(he=oe),_e||(ue=le)),t._tempStart!==+pe||t._tempEnd!==+ve||t._tempAllDay!==de||t._tempResource!==he||t._tempSlot!==ue){var Me=void 0,Ne=void 0;t._isDailyResolution?(Me=oh(v,pe,n),Ne=oh(v,ve,n)):(Me=oh(n.dateFormat,pe,n),Ne=oh(n.dateFormat,ju(n,de,pe,ve),n)),F.startDate=pe,F.endDate=ve,F.start=Me,F.end=Ne,F.allDay=de,F.date=+we,P.bufferAfter&&(F.bufferEnd=ah(+ve+6e4*P.bufferAfter,fe)),P.bufferBefore&&(F.bufferStart=ah(+pe-6e4*P.bufferBefore,fe)),t._tempStart=+pe,t._tempEnd=+ve,t._tempAllDay=de,t._tempResource=he,t._tempSlot=ue,t._dragDelta=e.drag||e.external?-1:e.direction?"end"===e.direction?1:-1:E,t._dragDayDelta=Ee,de||t._onMouseMove(e.domEvent),t.setState({dragData:{draggedDates:t._getDragDates(F,he,ue),draggedEvent:F,originDate:O.date,originDates:m&&m.originDates,originResource:e.external?void 0:oe,resource:he,slot:ue}})}return!0},t._onEventDragEnd=function(e){clearTimeout(t._scrollTimer);var n=t.s,r=e.create,a=t.state,i=a.dragData,s=!1;if(n.externalDrag&&e.drag&&!e.create&&(Bm.next(Dc({},e,{action:"externalDrop",create:!0,dragData:e.eventData.original,eventName:"onDragEnd",external:!0,from:t})),t._body.removeChild(t._clone),t._onCalendar||(s=!0,t._eventDropped&&(e.event=e.eventData.original,n.onEventDelete(e)))),r&&!i&&((i={}).draggedEvent=t._tempEvent),i&&i.draggedEvent){var o,l=!1!==n.showEventBuffer,c=e.eventData,u=i.draggedEvent,h=u.original,d=u.startDate,f=u.endDate,m=l&&u.bufferStart||d,p=l&&u.bufferEnd||f,v=u.allDay,g=r&&!e.external?t._tempResource:e.resource,_=void 0===i.resource?g:i.resource,y=void 0===h.resource?_:h.resource,b=r?t._tempSlot:e.slot,w=void 0===i.slot?b:i.slot,E={},x={},S=t._isTimeline,D=S?"timeline":"schedule",k=r||+d!=+c.startDate||+f!=+c.endDate||v!==c.allDay||g!==_||b!==w,C=y;if(g!==_&&(!r||e.external)&&!t._isSingleResource)if(fu(y)&&y.length&&void 0!==_){var T=y.indexOf(g);-1===y.indexOf(_)&&(C=y.slice()).splice(T,1,_)}else C=_;o=C&&n.resources?fu(C)?C:[C]:t._resources.map((function(e){return e.id}));for(var I=t._resourcesMap[_],M=!1!==h.overlap&&!1!==I.eventOverlap&&!1!==n.eventOverlap,N=0,L=o;N<L.length;N++){var R=L[N];if(t._invalids[R]&&(E[R]=t._invalids[R][w]),t._events[R]){for(var A={},O=t._events[R][w],P=0,F=Object.keys(O);P<F.length;P++){var V=F[P],z=O[V];A[V]={allDay:z.allDay.filter((function(e){return e.id!==u.id&&(!M||!1===e.original.overlap)})),data:z.data.filter((function(e){return e.id!==u.id&&(!M||!1===e.original.overlap)}))}}x[R]=A}}var H=e.action||(a.dragData?"drag":"click"),U=!s&&(!k||n.eventDragEnd({action:H,collision:ap(E,m,p,v,S,n.invalidateEvent,n),create:r,domEvent:e.domEvent,event:u,external:e.external,from:e.from,newResource:_,newSlot:w,oldResource:g,oldSlot:b,overlap:ap(x,m,p,v,S,"strict",n),resource:C!==rp?C:void 0,slot:w!==rp?w:void 0,source:D})),B=a.isTouchDrag&&!s&&(!r||U);if(U&&B&&g!==_&&!h.color){var W=I&&I.color;W?(u.color=W,u.style.background=W,u.style.color=Wh(W)):(u.color=void 0,u.style={})}B||"click"===H||t._hook("onEventDragEnd",{domEvent:e.domEvent,event:(r?t._tempEvent:c).original,resource:_!==rp?_:void 0,slot:w!==rp?w:void 0,source:D}),t.setState({dragData:B?{draggedEvent:U?u:Dc({},c),originDate:U?u.date:c.date,originDates:U?t._getDragDates(u,_,w):i.originDates,originResource:U?_:i.originResource}:void 0,isTouchDrag:B}),t._tempStart=0,t._tempEnd=0,t._tempAllDay=void 0,t._dragDelta=void 0,t._onMouseMove(e.domEvent),t._isTouch=!1}},t._onExternalDrag=function(e){var n=t.s,r=e.clone,a=e.from===t,i=!a&&n.externalDrop,s=a&&n.externalDrag&&!n.dragToMove,o=t.state.dragData;if(i||n.externalDrag){var l=!s&&e.endY<t._gridContBottom&&e.endY>t._allDayTop&&e.endX>t._gridContLeft&&e.endX<t._gridContRight;switch(e.eventName){case"onDragModeOff":i&&t._onEventDragModeOff(e);break;case"onDragModeOn":i&&t._onEventDragModeOn(e);break;case"onDragStart":i?t._onEventDragStart(e):a&&(t._onCalendar=!0);break;case"onDragMove":if(!a&&!i)return;l?(t._onCalendar||t._hook("onEventDragEnter",{domEvent:e.domEvent,event:e.dragData,source:t._isTimeline?"timeline":"schedule"}),(a||i&&!1!==t._onEventDragMove(e))&&(r.style.display="none"),t._onCalendar=!0):t._onCalendar&&(t._hook("onEventDragLeave",{domEvent:e.domEvent,event:e.dragData,source:t._isTimeline?"timeline":"schedule"}),clearTimeout(t._scrollTimer),r.style.display="table",a&&!o||t.setState({dragData:{draggedDates:{},draggedEvent:a?o&&o.draggedEvent:void 0,originDates:a?o&&o.originDates:void 0}}),t._tempStart=0,t._tempEnd=0,t._tempAllDay=void 0,t._tempResource=void 0,t._dragDelta=void 0,t._onCalendar=!1,t._onMouseLeave(void 0,!0));break;case"onDragEnd":i&&(l&&void 0!==t._tempResource?t._onEventDragEnd(e):(t.setState({dragData:void 0,isTouchDrag:!1}),t._hook("onEventDragEnd",{domEvent:e.domEvent,event:e.dragData,resource:e.resource,slot:e.slot,source:e.source})))}}},t}return Sc(t,e),t.prototype._isToday=function(e){return $u(new Date(e),rh(this.s))},t.prototype._formatTime=function(e,t){var n=this.s,r=n.timeFormat,a=/a/i.test(r)&&36e5===this._stepLabel&&e%36e5==0?r.replace(/.[m]+/i,""):r,i=new Date(+Ru+e),s=rh(n,i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes());return Au(s)&&t&&s.setTimezone(t),oh(a,s,n)},t.prototype._getEventPos=function(e,t,n,r){var a=this.s,i=e.allDay?void 0:a,s=rh(i,t.getFullYear(),t.getMonth(),t.getDate()),o=qu(hh(s,1)),l=i?this._firstDayTz:this._firstDay,c=i?this._lastDayTz:this._lastDay,u=this._isTimeline,h=!u&&!this._groupByResource,d=e.allDay,f=e.original,m=this._startTime,p=this._endTime+1,v=this._time,g=this._hasSlots,_=this._hasResY,y=this._isDailyResolution,b=a.eventList,w="",E="",x=e.bufferStart,S=e.bufferEnd,D=_?0:this._dayIndexMap[n],k=e.start,C=e.end,T=ip(e,a,b,u,y,l,this._cols,this._colIndexMap),I=sp(e,a,b,u,y,c,this._cols,this._colIndexMap),M=+T==+I?1:0,N=!1!==a.showEventBuffer&&!b&&!d;if((!d&&!u||_&&!g)&&(T<s&&(k="",T=rh(a,s)),I>=o&&(C="",I=rh(a,+o-1)),I>=o&&(I=rh(a,+o-1))),d||u){if(!r.get(f)||g||_||h){var L=a.startDay,R=a.endDay,A=d||b,O=!$u(T,I),P=this._daysNr;u&&O&&Hu(T)>=p&&(T=rh(a,+qu(T)+p));var F=up(T,I,l,c,m,p,L,R,A),V=hp(T,m,v,l,L,R),z=100*F/v;if(N&&x){var H=up(x,T,l,c,m,p,L,R,A);E=Math.max(0,100*H/F)+"%"}if(N&&S&&(H=up(I,S,l,c,m,p,L,R,A),w=Math.max(0,100*H/F)+"%"),u){var U=0;if(b&&!y&&(D=this._dayIndexMap[Yu(T)]),"month"===a.resolution||"quarter"===a.resolution){var B=this._days[D].dayDiff,W=Yu(I>=c?hh(c,-1):I),j=this._dayIndexMap[W];U=this._days[j].dayDiff-B}z=(z+100*U)/P,V=((A?0:V)+100*D)/P}var Y=u?{height:this._setRowHeight?"":"100%",left:a.rtl||g?"":V+"%",right:a.rtl&&!g?V+"%":"",width:g?"":z+"%"}:{width:(O&&!h?z:100)+"%"},q=Hu(T)<p&&I>l,K=Hu(I)+M>m;if((A||O)&&(z>0||g)||q&&K)return r.set(f,!0),{bufferAfter:w,bufferBefore:E,end:C,endDate:I,offset:V,position:Y,start:k,startDate:T}}}else if(Hu(T)<p&&Hu(I)+M>m&&I>=T){var G=100*(F=cp(T,I,m,p))/v;return N&&x&&($u(x,T)||(x=rh(a,+qu(T)+m)),E=100*cp(x,T,m,p)/F+"%"),N&&S&&($u(S,T)||(S=rh(a,+qu(T)+p-1)),w=100*cp(I,S,m,p)/F+"%"),{bufferAfter:w,bufferBefore:E,cssClass:G<2?" mbsc-schedule-event-small-height":"",end:C,endDate:I,position:{height:G+"%",top:hp(T,m,v)+"%",width:"100%"},start:k,startDate:T}}},t.prototype._getEventData=function(e,t,n,r,a){var i=this.s,s=n?n.id:rp,o=r?r.id:rp,l=Qm(i,e,t,!0,n,!1,!this._isTimeline||this._hasResY,this._isDailyResolution,a);return l.key=s+"_"+o+"_"+(this._hasSlots||this._hasResY||!this._isTimeline?Yu(t):"all")+"_"+l.uid,e.allDay&&i.exclusiveEndDates&&+l.endDate==+l.startDate&&(l.endDate=qu(hh(l.startDate,1))),l},t.prototype._getEvents=function(e){var t=this,n=this.s,r=this._resources,a=this._slots,i=this._hasSlots,s=this._hasResY,o=this._isTimeline,l=!o,c={},u=dp(e,r,a,!!n.resources,!!n.slots),h={},d=this._firstDay,f=this._lastDay,m=this._variableEventHeight,p=this._setRowHeight,v={},g=this._cols,_=this._createEventMaps||n.renderHour||n.renderHourFooter||n.renderDay||n.renderDayFooter||n.renderWeek||n.renderWeekFooter||n.renderMonth||n.renderMonthFooter||n.renderQuarter||n.renderQuarterFooter||n.renderYear||n.renderYearFooter;if(_&&g.forEach((function(e){return e.eventMap={all:[]}})),n.connections)for(var y=0,b=n.connections;y<b.length;y++){var w=b[y];v[w.from]=!0,v[w.to]=!0}for(var E=function(r){var y=r.id,b=new Map,w=0,E=[],S={},D=function(e,a,u){for(var h=u?u.id:rp,d=[],f=0;f<E.length;f++){var v=E[f],g=v.stacks.length,_=v.more.length;p&&g>w&&(w=g);for(var x=0;x<g;x++){void 0===d[x]&&(d[x]=0);for(var D=0,k=v.stacks[x];D<k.length;D++){var C=k[D];if(C.track=m?x:0,!i){var T=o&&_&&!p?1:0,I=((S[C.uid]||g+T)-x)/(g+T)*100;l?(C.position.width=I+"%",C.position[n.rtl?"right":"left"]=100*x/g+"%",C.position[n.rtl?"left":"right"]="auto"):(C.position.height=p?"":I+"%",C.position.top=m?0:p?x:100*x/(g+T)+"%")}}}if(_){for(var M=void 0,N=void 0,L=0,R=v.more;L<R.length;L++){var A=R[L];(!M||A.startDate<M)&&(M=A.startDate),(!N||A.endDate>N)&&(N=A.endDate)}var O=a||new Date(v.more[0].date),P=Yu(O),F="more-"+(l||s?P+"-":"")+y,V=n.moreEventsText||"",z=(_>1&&n.moreEventsPluralText||V).replace(/{count}/,_),H=t._getEventData({color:"#ddd",cssClass:"mbsc-schedule-event-more",editable:!1,end:N,id:F+(i?(s?"":"-"+P)+"-"+h:"")+"-"+f,more:v.more,start:M,text:(l?"+":"")+(o?z:_)},O,r,u),U=t._getEventPos(H,O,P,b);U&&(H.position=U.position,o?(H.offset=U.offset,H.position.height=p?"":100/(g+1)+"%",H.position.top=i?"":p?g:100*g/(g+1)+"%",H.track=m?g:0,c[y][h][s||i?P:"all"].data.push(H)):(H.showText=!0,H.position.width="24px",H.position[n.rtl?"right":"left"]="auto",H.position[n.rtl?"left":"right"]="-24px",c[y][h][P].hasMore=!0,c[y][h][P].data.push(H))),t._eventRows[F]=1}}c[y][h][e].tracks=d};c[y]={};for(var k=function(a){var m=a.id,p=u[y][m],k=Object.keys(p).sort();c[y][m]={all:{allDay:[],data:[]}},l&&(h[m]=jd(n,p,d,f,-1,x._daysNr,!0,n.startDay,!1,n.eventOrder));for(var C=function(u){var k=e[u].date;if(void 0!==x._dayIndexMap[u]&&fh(k.getDay(),n.startDay,n.endDay)){var C=Yd(p[u])||[];(l||s||i)&&(E=[],S={}),c[y][m][u]={allDay:[],data:[]},s&&(w=x._eventRows[u+"-"+y]||0);for(var T=0,I=C;T<I.length;T++){var M=I[T];if(!M.allDay||o){var N=x._getEventData(M,k,r,a),L=x._getEventPos(N,k,u,b);if(N.position=void 0,L&&(N.cssClass=L.cssClass,N.offset=L.offset,N.position=L.position,N.bufferAfter=L.bufferAfter,N.bufferBefore=L.bufferBefore,(l||s)&&(N.showText=!0),op(n,E,N,S,x._maxEventStack||1,n.eventList,o,x._isDailyResolution,d,x._firstDayTz,f,x._lastDayTz,x._cols,x._colIndexMap),c[y][m].all.data.push(N),x._eventMap[N.id]=N,_))for(var R=x._stepCell,A=x._isDailyResolution&&R<864e5,O=M.allDay?d:th(n,d),P=N.startDate>O?N.startDate:O,F=x._colIndexMap[Yu(P)],V=!0;V&&F<g.length;){for(var z=g[F],H=z.date,U=F<g.length-1?g[F+1].date:f,B=H,W=!1;B<U;){var j=+B,Y=A?new Date(j+R):U,q=M.allDay?H:th(n,B),K=M.allDay?U:th(n,Y);Uu(N.startDate,N.endDate,q,K,!0)?(z.eventMap[j]||(z.eventMap[j]=[]),W||(z.eventMap.all.push(N.original),W=!0),z.eventMap[j].push(N.original),V=!0):V=!1,B=Y}F++}c[y][m][u].data.push(N),o&&M.allDay&&c[y][m][u].allDay.push(N)}}l&&h[m][u]&&h[m][u].data.forEach((function(e){var n=e.event,i=e.width;if(n){var s=t._getEventData(n,k,r,a),o=t._getEventPos(s,k,u,b);o&&(s.bufferAfter=o.bufferAfter,s.bufferBefore=o.bufferBefore),s.position={width:o?o.position.width:i},s.showText=!!o,c[y][m][u].allDay.push(s)}})),(l||s||i)&&D(u,k,a),s&&(x._eventRows[u+"-"+y]=w)}else if(n.connections)for(var G=0,Q=C=p[u]||[];G<Q.length;G++){var X=Q[G],$=X.id;!x._eventMap[$]&&v[$]&&(x._eventMap[$]=x._getEventData(X,k,r,a))}},T=0,I=k;T<I.length;T++)C(I[T])},C=0,T=a;C<T.length;C++)k(T[C]);!o||i||s||D("all"),s||(x._eventRows[y]=w)},x=this,S=0,D=r;S<D.length;S++)E(D[S]);return c},t.prototype._getInvalids=function(e){var t,n=this.s,r=n.eventList,a=e||{},i={},s=r?qu(new Date(n.minDate)):new Date(n.minDate),o=r?qu(hh(new Date(n.maxDate),1)):new Date(n.maxDate),l=this._isTimeline;if(n.minDate)for(var c=qu(this._firstDay);c<s;c.setDate(c.getDate()+1))(D=a[S=Yu(c)]||[]).push({end:s,start:new Date(c)}),a[S]=D;if(n.maxDate)for(c=qu(o);c<this._lastDay;c.setDate(c.getDate()+1))(D=a[S=Yu(c)]||[]).push({end:new Date(this._lastDay),start:o}),a[S]=D;for(var u=dp(a,this._resources,this._slots,!!n.resources,!!n.slots),h=Object.keys(a).sort(),d=0,f=this._resources;d<f.length;d++){var m=f[d],p=m.id,v=new Map;i[p]={};for(var g=0,_=this._slots;g<_.length;g++){var y=_[g],b=y.id,w={allDay:[],data:[]};i[p][b]={all:w};for(var E=0,x=h;E<x.length;E++){var S;if(c=ah(S=x[E]),void 0!==this._dayIndexMap[S]&&fh(c.getDay(),n.startDay,n.endDay)){var D=u[p][b][S]||[],k={allDay:[],data:[]},C=[];i[p][b][S]=k;for(var T=0,I=D;T<I.length;T++){var M=I[T];if(vu(M)||eh(M)){var N=ah(M);M={allDay:!0,end:new Date(N),start:N}}var L=this._getEventData(M,c,m,y,!0);L.cssClass=M.cssClass?" "+M.cssClass:"",L.position=void 0;var R=this._getEventPos(L,c,S,v);if(R&&(!l&&0===Hu(R.startDate)&&+R.endDate+1>=+hh(th(n,c),1)?L.allDay=!0:(L.position=R.position,Hu(R.startDate)<=this._startTime&&(L.cssClass+=" mbsc-schedule-invalid-start"),Hu(R.endDate)>=this._endTime&&(L.cssClass+=" mbsc-schedule-invalid-end")),C.push(L)),k.data.push(L),L.allDay){l||(L.position={},R&&+L.startDate==+L.endDate&&(L.endDate=R.endDate)),k.allDay=[L],k.data=[L],C=[L];break}}(t=w.data).push.apply(t,C)}}}}return i},t.prototype._getColors=function(e){for(var t=this.s,n={},r=dp(e,this._resources,this._slots,!!t.resources,!!t.slots),a=Object.keys(e||{}).sort(),i=this._hasSlots,s=this._isTimeline,o=this._hasResY,l=0,c=this._resources;l<c.length;l++){var u=c[l],h=u.id,d=new Map;n[h]={};for(var f=0,m=this._slots;f<m.length;f++){var p=m[f],v=p.id;n[h][v]={all:{allDay:[],data:[]}};for(var g=0,_=a;g<_.length;g++){var y=_[g],b=ah(y);if(void 0!==this._dayIndexMap[y]&&fh(b.getDay(),t.startDay,t.endDay)){var w=r[h][v][y]||[],E=o||i||!s?y:"all";(!s||i||o)&&(n[h][v][E]={allDay:[],data:[]});for(var x=n[h][v][E],S=0,D=w;S<D.length;S++){var k=D[S],C=this._getEventData(k,b,u,p,!0);if(C.cssClass=k.cssClass?" "+k.cssClass:"",C.allDay&&!s)x.allDay=[C];else{var T=this._getEventPos(C,b,y,d);T&&(C.position=T.position,Hu(T.startDate)<=this._startTime&&(C.cssClass+=" mbsc-schedule-color-start"),Hu(T.endDate)>=this._endTime&&(C.cssClass+=" mbsc-schedule-color-end"),x.data.push(C))}C.position.background=k.background,C.position.color=k.textColor?k.textColor:Wh(k.background)}}}}}return n},t.prototype._flattenResources=function(e,t,n,r,a){for(var i=e&&e.length?e:[{id:rp}],s=this.s.immutableData,o=0,l=i;o<l.length;o++){var c=l[o],u=r&&s?Dc({},c):c,h=u.children;s&&(u.original=c),u.depth=n,u.isParent=!(!h||!h.length),u.fixed=u.fixed||a,t.push(u),this._resourcesMap[u.id]=u,!r||!s&&n||r.push(u),u.isParent&&(this._hasHierarchy=!0,u.collapsed&&!r||(r&&s&&(u.children=[]),this._flattenResources(h,t,n+1,r&&u.children,u.fixed)))}return t},t.prototype._render=function(e,t){var n=this,r=this._prevS,a=this._isTimeline,i=new Date(e.selected),s=+e.size,o=lp(e.timeLabelStep),l=lp(e.timeCellStep),c=e.firstDay,u=e.startDay,h=e.endDay,d=e.resources,f=e.slots,m=!1===e.virtualScroll,p=e.resolution,v="day"===p||"hour"===p||!a,g="day"===e.resolutionVertical,_=!1,y=!1,b=!1,w=this._startTime,E=this._endTime;if(u===r.startDay&&h===r.endDay&&e.checkSize===r.checkSize&&e.eventList===r.eventList&&e.refDate===r.refDate&&e.size===r.size&&e.type===r.type&&e.resolution===r.resolution&&e.resolutionVertical===r.resolutionVertical&&e.displayTimezone===r.displayTimezone&&e.weekNumbers===r.weekNumbers||(_=!0,this._viewChanged=!0),e.eventHeight===r.eventHeight&&e.eventList===r.eventList&&e.rowHeight===r.rowHeight&&e.maxEventStack===r.maxEventStack||(b=!0),(_||b||e.rtl!==r.rtl||e.dateFormat!==r.dateFormat||e.getDay!==r.getDay)&&(y=!0),e.startTime!==r.startTime||e.endTime!==r.endTime||e.timeLabelStep!==r.timeLabelStep||e.timeCellStep!==r.timeCellStep||e.timeFormat!==r.timeFormat||void 0===this._startTime||void 0===this._endTime){var x=ah(e.startTime||"00:00"),S=new Date(+ah(e.endTime||"00:00")-1);this._startTime=w=Hu(x),this._endTime=E=Hu(S),this._time=E-w+1,this._timesBetween=wu(Cu(l/o)-1),this._times=[],this._timeLabels={},this._viewChanged=!0;for(var D=6e4*l,k=Cu(w/D)*D,C=function(e){if(T._times.push(e),a){var t=e===k;T._timeLabels[e]=t||e%(6e4*o)==0?T._formatTime(t?w:e):"",T._timesBetween.forEach((function(t,r){var a=e+(r+1)*o*6e4;n._timeLabels[a]=n._formatTime(a)}))}},T=this,I=k;I<=E;I+=D)C(I);y=!0}if(e.slots===r.slots&&void 0!==this._slots||(this._hasSlots=a&&!!f&&f.length>0,this._slots=f&&f.length?f:[{id:rp}],y=!0),d===r.resources&&void 0!==this._resources||(this._hasResources=!!d&&d.length>0,this._hasHierarchy=!1,this._resourcesMap={},this._resourcesCopy=[],this._resources=this._flattenResources(d,[],0,this._resourcesCopy),this._visibleResources=this._flattenResources(this._resourcesCopy,[],0),this._isSingleResource=1===this._resources.length,y=!0),_||e.selected!==r.selected||e.getDay!==r.getDay||e.monthNames!==r.monthNames||e.dateFormat!==r.dateFormat||e.currentTimeIndicator!==r.currentTimeIndicator){var M=nh(rh(e)),N="day"===e.type,L="month"===e.type,R="year"===e.type,A=N&&s<2,O=e.navService,P=e.dateFormat.search(/m/i),F=e.dateFormat.search(/y/i)<P,V=e.dateFormat.search(/d/i)<P,z=void 0,H=void 0,U=void 0,B=void 0;if(s>1||R||L?(U=z=O.firstDay,B=H=O.lastDay):(U=hh(Xu(i,e),u-c+(u<c?7:0)),N&&(i<U&&(U=hh(U,-7)),i>=hh(U,7)&&(U=hh(U,7))),B=hh(U,h-u+1+(h<u?7:0)),z=N?qu(i):U,H=N?hh(z,1):B),a&&"week"===p&&(R||L)&&(z=O.viewStart,H=O.viewEnd),e.selected!==r.selected&&N&&s<2&&(y=!0),this._isMulti=s>1||R,this._isDailyResolution=v,this._hasResY=g,this._firstDayTz=rh(e,z.getFullYear(),z.getMonth(),z.getDate()),this._lastDayTz=rh(e,H.getFullYear(),H.getMonth(),H.getDate()),this._selectedDay=+qu(i),this._shouldAnimateScroll=void 0!==r.selected&&e.selected!==r.selected&&!this._viewChanged,this._showTimeIndicator=!e.eventList&&(void 0===e.currentTimeIndicator?!a||v&&l<1440:e.currentTimeIndicator)&&(N&&s<2?$u(M,i):z<=M&&H>=M),y||+z!=+this._firstDay||+H!=+this._lastDay){y||(b=!0),this._firstDay=z,this._lastDay=H,this._colIndexMap={},this._cols=[],this._dayIndexMap={},this._days=[],this._headerDays=[];var W=0,j=-1,Y=0,q=0,K=-1,G="",Q=-1,X=-1,$="",J=-1,Z=-1,ee="",te=z,ne=H,re=0,ae=void 0,ie=0;for(!a&&A&&(te=U,ne=B),I=qu(te);I<qu(ne);I.setDate(I.getDate()+1)){var se=Yu(I),oe=I.getDay();if(this._dayIndexMap[se]=W,fh(oe,u,h)){var le=void 0,ce="",ue="",he=v;if(a&&!g){ie=e.getWeekNumber(hh(I,(7-c+1)%7));var de=e.getDay(I),fe=e.getMonth(I),me=e.getYear(I),pe=e.monthNames[fe];if(K!==me&&(K=me,"year"===p&&(he=!0,G=""+K)),Q!==fe){if("month"===p)G=R&&s<2?pe:F?me+" "+pe:pe+" "+me,he=!0;else if("quarter"===p&&fe%3==0){var ve=fe/3+1,ge=e.quarterText.replace("{count}",""+ve);G=R&&s<2?ge:F?me+" "+ge:ge+" "+me,he=!0}else v&&(ce=$=F?me+" "+pe:pe+" "+me);X=W,Q=fe,q=e.getMaxDayOfMonth(K,Q)}if(J!==ie&&(Z=W,J=ie,ue=ee=e.weekText.replace(/{count}/,J),W>0&&(this._days[W-1].lastOfWeek=!0)),(oe===u||!W)&&"week"===p){var _e=V?"D MMM":"MMM D";ae=hh(I,h-u+(h<u?7:0)),G=oh(_e,I,e)+" - "+oh(_e,ae,e),he=!0}!(le=de===q||oe===h&&(u-h-1+7)%7>=q-de)||"month"!==p&&"quarter"!==p||(Y+=31-q)}var ye={columnTitle:G,date:new Date(I),dateIndex:W,dateKey:se,dateText:oh(g?L&&!this._isMulti?"D DDD":d?e.dateFormatLong:e.dateFormat:L||this._isMulti?"D DDD":e.dateFormatLong,I,e),day:e.getDay(I),dayDiff:Y,endDate:ae,eventMap:{all:[]},label:oh("DDDD, MMMM D, YYYY",I,e),lastOfMonth:le,monthIndex:X,monthText:$,monthTitle:ce,timestamp:+qu(I),weekIndex:Z,weekNr:ie,weekText:ee,weekTitle:ue};if(he&&(ye.isActive=I<=M&&M<ne,re&&(this._cols[j].isActive=re<=+M&&M<I),re=+I,this._cols.push(ye),j++),A&&this._headerDays.push(ye),A&&this._selectedDay!==+I||this._days.push(ye),le&&("month"===p||"quarter"===p))for(var be=q;be<31;be++)this._days.push(ye),W++;W++}this._colIndexMap[se]=j<0?0:j}this._colsNr=g?1:j+1,this._daysNr=g||A?1:W}}this._groupByResource="date"!==e.groupBy&&!("day"===e.type&&s<2)||this._isSingleResource,this._stepCell=6e4*l,this._stepLabel=6e4*o,this._dayNames=t.dayNameWidth>49?e.dayNamesShort:e.dayNamesMin,this._displayTime=o<1440&&v,this._eventHeight=t.eventHeight||(e.eventList?24:46),this._showCursorTime=this._displayTime&&!!(e.dragToCreate||e.dragToMove||e.dragToResize),this._setRowHeight=e.eventList||"equal"!==e.rowHeight,this._variableEventHeight="variable"===e.eventHeight,"auto"!==e.maxEventStack&&(this._maxEventStack=e.maxEventStack||"all"),(e.colorsMap!==r.colorsMap||y)&&(this._colors=this._getColors(e.colorsMap)),(e.eventMap!==r.eventMap||e.showEventBuffer!==r.showEventBuffer||y||!this._events||this._reloadEvents)&&(this._eventMap={},this._eventRows={},this._events=this._getEvents(e.eventMap),this._reloadEvents=!1,this._calcRowHeights=!0),(e.invalidsMap!==r.invalidsMap||y)&&(this._invalids=this._getInvalids(e.invalidsMap));var we=a&&e.eventMap!==r.eventMap;if((e.height!==r.height||e.width!==r.width||we||y)&&(this._shouldCheckSize=Lc&&!!e.height&&!!e.width,this._calcRowHeights=!0),e.scroll!==r.scroll&&(this._shouldScroll=!0),void 0!==e.height&&(this._hasSideSticky=Oh&&!e.rtl,this._hasSticky=Oh),b&&(this._rowHeightsReal={},this._eventHeights={}),a){var Ee=this._cols,xe=this._colsNr,Se=[],De=void 0===this._daysBatchNr?hu(Cu(this._stepCell/(this._time/30)),1,30):this._daysBatchNr,ke=this._dayIndexMap[Yu(i)]||0,Ce=void 0!==t.batchIndexX?t.batchIndexX:Du(ke/De),Te=Math.min(Ce*De,xe-1),Ie=m?0:Math.max(0,Te-Cu(3*De/2)),Me=m?xe:Math.min(Ie+3*De,xe),Ne=Ee[Ie].date,Le=Me<xe?Ee[Me].date:this._lastDay,Re={};for(W=Ie;W<Me;W++)Re[Ee[W].dateKey]=!0,Se.push(Ee[W]);this._batchStart=rh(e,Ne.getFullYear(),Ne.getMonth(),Ne.getDate()),this._batchEnd=rh(e,Le.getFullYear(),Le.getMonth(),Le.getDate()),this._daysBatch=Se,this._daysBatchNr=De,this._placeholderSizeX=m?0:t.dayWidth*Du(Math.max(0,Te-3*De/2))||0,this._rowHeights={},this._dragCol="",this._dragRow="",this._fixedResources=[],this._fixedResourceTops={},this._fixedHeight=t.headerHeight||0;var Ae=(t.scrollContHeight||0)-(t.headerHeight||0)-(t.footerHeight||0),Oe=t.rowHeight||52,Pe=t.parentRowHeight||52,Fe=void 0!==t.gutterHeight?t.gutterHeight:16,Ve=t.batchIndexY||0,ze=this._visibleResources,He=g?this._days:[{}],Ue=ze.length*He.length,Be=[],We=[],je={},Ye={},qe={},Ke=[],Ge=0,Qe=0;t.hasScrollY&&(this._resourceTops={}),He.forEach((function(e,r){ze.forEach((function(a,i){var s=(g?e.dateKey+"-":"")+a.id;if(qe[s]=a,Ae){var o=a.children?Pe:Oe,l=n._eventRows["more-"+s]?24:0,c=(n._eventRows[s]||(!1===a.eventCreation?0:1))*n._eventHeight,u=n._rowHeightsReal[s],h=n._setRowHeight?u||Math.max(c+Fe+l,o):o,d=n._variableEventHeight?u:h;n._rowHeights[s]=n._setRowHeight&&d?d+"px":void 0,!g&&a.fixed&&(n._fixedResourceTops[s]=n._fixedHeight,n._fixedHeight+=h,n._fixedResources.push({height:h,index:i,key:s,resource:a})),t.hasScrollY&&(n._resourceTops[s]=Ge),Qe||Ke.push({startIndex:r*ze.length+i,top:Ge}),Ge+=h,(Qe+=h)>Ae&&(Qe=0)}Be.push({dayIndex:r,key:s,resource:a})}))}));var Xe=Ke[Ve-1],$e=Ke[Ve+2],Je=Xe?Xe.startIndex:0,Ze=$e?$e.startIndex:Ge?Ue:30;(m||Ge&&Ge<=Ae)&&(Je=0,Ze=Ue);var et=[],tt=-1;for(W=Je;W<Ze;W++){var nt=Be[W];if(nt){var rt=nt.dayIndex;tt!==rt&&(et=[],We.push({day:g?this._days[rt]:void 0,rows:et}),tt=rt,je[rt]=We[We.length-1]),Ye[nt.key]=!0,et.push(nt.resource)}}for(var at=0,it=0,st=this._fixedResources;it<st.length;it++){var ot=st[it];Ye[ot.key]||(et.unshift(ot.resource),Ye[ot.key]=!0,at+=ot.height)}if(t.dragData&&void 0!==t.dragData.originResource){var lt=t.dragData.originResource,ct=(se=Yu(new Date(t.dragData.originDate)),(g?se+"-":"")+lt),ut=g?this._dayIndexMap[se]:0,ht=g?this._colIndexMap[se]:0,dt=Ee[ht].dateKey;if(!Ye[ct]){var ft=je[ut];ft||(ft={day:g?this._days[ut]:void 0,hidden:!0,rows:[]},We.push(ft)),ft.rows.push(qe[ct]),this._dragRow=ct}g||Re[dt]||(this._dragCol=dt,Se.push(Ee[ht]))}this._gridHeight=Ge,this._virtualPagesY=Ke,this._colClass=d||!g?"mbsc-timeline-resource-col":"mbsc-timeline-date-col",this._hasRows=this._hasResources||g,this._rows=Be,this._rowBatch=We,this._placeholderSizeY=Xe&&!m?Xe.top-at:0}},t.prototype._mounted=function(){var e,t,n,r=this;this._unlisten=yd(this._el,{onDoubleClick:function(e){var t=r.s;n&&t.clickToCreate&&"single"!==t.clickToCreate&&(e.click=!0,r._onEventDragStart(e)&&r._onEventDragEnd(e))},onEnd:function(n){!e&&t&&"single"===r.s.clickToCreate&&(n.click=!0,r._onEventDragStart(n)&&(e=!0)),e&&(n.domEvent.preventDefault(),r._onEventDragEnd(n)),clearTimeout(r._touchTimer),e=!1,t=!1},onMove:function(n){var a=r.s;e&&a.dragToCreate?(n.domEvent.preventDefault(),r._onEventDragMove(n)):t&&a.dragToCreate&&(Math.abs(n.deltaX)>7||Math.abs(n.deltaY)>7)?r._onEventDragStart(n)?e=!0:t=!1:clearTimeout(r._touchTimer)},onStart:function(a){var i=r.s;if(a.create=!0,a.click=!1,r._isTouch=a.isTouch,!e&&(i.dragToCreate||i.clickToCreate)){var s=a.domEvent.target&&a.domEvent.target.classList;(n=s&&(s.contains("mbsc-schedule-item")||s.contains("mbsc-schedule-all-day-item")||s.contains("mbsc-timeline-column")))&&(a.isTouch&&i.dragToCreate?r._touchTimer=setTimeout((function(){r._onEventDragStart(a)&&(r._onEventDragModeOn(a),e=!0)}),350):t=!a.isTouch)}}}),this._unsubscribe=Wm(this._onExternalDrag)},t.prototype._updated=function(){var e=this,t=this.s,n=this.state,r=this._gridCont,a=this._scrollCont,i=this._shouldCheckSize,s=this._calcRowHeights&&this._setRowHeight&&this._variableEventHeight;this._scrollAfterResize&&Tu(this,(function(){e._onScroll(),e._scrollAfterResize=!1})),(i||s)&&Tu(this,(function(){var o,l,c,u,h,d,f,m,p=e._resCont,v=e._headerCont,g=e._footerCont,_=e._sidebarCont,y=e._stickyFooter,b=v.offsetHeight,w=p?p.offsetWidth:0,E=_?_.offsetWidth:0,x=g?g.offsetHeight:0,S=a.offsetWidth,D=a.offsetHeight,k=a.clientWidth,C=a.clientHeight,T=k-w-E,I=C-b-x,M=e._gridHeight,N=S-k,L=D-C,R=a.scrollHeight>C,A=a.scrollWidth>k,O=n.eventHeight;if(i){if(e._isTimeline){var P=a.querySelector(".mbsc-timeline-day"),F=a.querySelector(".mbsc-timeline-empty-row"),V=a.querySelector(".mbsc-timeline-empty-parent"),z=a.querySelector(".mbsc-timeline-row-gutter"),H=e._colsNr;if(c=P?P.offsetWidth:64,d=F?F.offsetHeight:52,f=V?V.offsetHeight:52,m=z?z.offsetHeight:16,c*H<T&&(A=!1,L=0),M&&M<I&&(R=!1,N=0),c=A?c:Du(T/H),h=A?c*H:T,l=e._stepCell*c/e._time,e._gridWidth=h,e._daysBatchNr=Math.max(1,Math.ceil(T/(c||1))),e._hasSticky||(v.style[t.rtl?"left":"right"]=N+"px",g&&(g.style[t.rtl?"left":"right"]=N+"px",g.style.bottom=L+"px")),e._hasSideSticky||(p&&(p.style.bottom=L+"px"),_&&(_.style[t.rtl?"left":"right"]=N+"px")),y&&(y.style.bottom=L+"px"),e._setRowHeight&&!e._variableEventHeight){var U=a.querySelector(".mbsc-schedule-event");O=U?U.clientHeight:O||(t.eventList?24:46)}if(!R&&n.rowHeight){e._resourceTops={};var B=r.getBoundingClientRect();r.querySelectorAll(".mbsc-timeline-row").forEach((function(t,n){e._resourceTops[e._rows[n].key]=t.getBoundingClientRect().top-B.top}))}}else{var W=e._el.querySelector(".mbsc-schedule-column-inner"),j=e._el.querySelector(".mbsc-schedule-header-item");if(o=W?e._stepCell*W.offsetHeight/e._time:0,u=j?j.offsetWidth:0,"auto"===t.maxEventStack){var Y=Cu(W.offsetWidth/(t.minEventWidth||50));e._reloadEvents=e._maxEventStack!==Y,e._maxEventStack=Y}}a.scrollTop>M-I?a.scrollTop=M-I:e._onScroll(),e._calcConnections=!!t.connections&&(e._isParentClick||e._calcConnections||!R),e._shouldCheckSize=d!==n.rowHeight||O!==n.eventHeight||R!==n.hasScrollY,e._scrollAfterResize=t.virtualScroll&&!e._shouldCheckSize,e._isCursorTimeVisible=!1,e._calcGridSizes()}if(s){var q=0,K=0,G=0,Q=a.scrollTop,X=r.querySelectorAll(".mbsc-timeline-row");r.querySelectorAll(".mbsc-timeline-event").forEach((function(t){e._eventHeights[t.getAttribute("data-key")]=t.getBoundingClientRect().height})),e._rowBatch.forEach((function(t){var r=t.day?t.day.dateKey:"";t.rows.forEach((function(t){var a=(r?r+"-":"")+t.id,i=X[q].querySelectorAll(".mbsc-timeline-events"),s=d||n.rowHeight||52;i.forEach((function(e){s=Math.max(s,e.getBoundingClientRect().height)}));var o=s-e._rowHeightsReal[a];e._isScrolling&&!e._shouldScroll&&s!==e._rowHeightsReal[a]&&(e._shouldScroll=!0),o&&e._resourceTops[a]<Q&&(K+=o),e._rowHeightsReal[a]=s,G+=s,q++}))})),K&&(a.scrollTop=Q+K),G>I&&(R=!0),e._calcRowHeights=!1}i?e.setState({cellHeight:o,cellWidth:l,dayNameWidth:u,dayWidth:c,eventHeight:O,footerHeight:x,gridContWidth:T,gridWidth:h,gutterHeight:m,hasScrollX:A,hasScrollY:R,headerHeight:b,parentRowHeight:f,rowHeight:d,scrollContHeight:A?C:D,update:e._calcConnections||e._reloadEvents||s?(n.update||0)+1:n.update}):e.forceUpdate()})),!this._shouldScroll||!n.dayWidth&&this._isTimeline||(setTimeout((function(){e._scrollToTime(e._shouldAnimateScroll),e._shouldAnimateScroll=!0})),this._shouldScroll=!1),this._viewChanged&&setTimeout((function(){e._viewChanged=!1}),10)},t.prototype._destroy=function(){this._unlisten&&this._unlisten(),this._unsubscribe&&jm(this._unsubscribe)},t.prototype._calcGridSizes=function(){var e=this.s,t=this._resources,n=this._isTimeline,r=this._daysNr*(n?1:t.length),a=this._gridCont,i=this._scrollCont,s=!n&&this._el.querySelector(".mbsc-schedule-all-day-wrapper"),o=s&&s.getBoundingClientRect(),l=a.getBoundingClientRect(),c=i.getBoundingClientRect(),u=n?this._gridWidth:a.scrollWidth,h=this._resCont?this._resCont.offsetWidth:0;this._gridLeft=e.rtl?l.right-u:l.left,this._gridRight=e.rtl?l.right:l.left+u,this._gridTop=l.top,this._gridContTop=c.top,this._gridContBottom=c.bottom,this._gridContLeft=c.left+(e.rtl?0:h),this._gridContRight=c.right-(e.rtl?h:0),this._allDayTop=o?o.top:this._gridContTop,this._colWidth=u/(e.eventList?this._colsNr:r),this._colHeight=l.height},t.prototype._getDragDates=function(e,t,n){var r=this.s,a={},i=new Map,s=e.allDay?this._firstDay:this._firstDayTz,o=e.startDate,l=e.endDate;for(o=(o=qu(o))<s?s:o,l=ju(r,e.allDay||r.eventList,o,l);o<=l;){var c=Dc({},e),u=Yu(o),h=fh(o.getDay(),r.startDay,r.endDay)&&this._getEventPos(e,o,u,i),d=0;if(h){!this._hasSlots&&this._isTimeline&&this._setRowHeight&&this._startRow===(this._hasResY?u+"-":"")+this._tempResource&&(h.position.top=c.position.top,d=c.track||0);var f=!this._isTimeline||this._hasSlots||this._hasResY?u:"all";c.date=+qu(o,!0),c.cssClass=h.cssClass,c.start=h.start,c.end=h.end,c.offset=h.offset,c.position=h.position,c.bufferAfter=h.bufferAfter,c.bufferBefore=h.bufferBefore,c.track=d,a[t+"__"+(this._isTimeline?n+"__":"")+f]=c}o=hh(o,1)}return a},t.prototype._getGridTime=function(e,t,n,r,a){var i=this._hasResY?0:r,s=ku(this._isTimeline?Cu(this._time*(t-i*this._colWidth)/this._colWidth):Cu(this._time*(n-8)/(this._colHeight-16)),6e4*a),o=new Date(+Ru+this._startTime+s);return rh(this.s,e.getFullYear(),e.getMonth(),e.getDate(),o.getHours(),o.getMinutes())},t.prototype._scrollToTime=function(e){var t=this,n=this._scrollCont,r=this._gridCont,a=this._isTimeline;if(n){var i=this.s,s=this._hasResY,o=i.navigateToEvent,l=o&&o.start?new Date(+ah(o.start,i)):new Date(i.selected),c=this._colIndexMap[Yu(l)];void 0===c||!a||s||"hour"===i.resolution&&864e5!==this._stepCell&&!i.eventList?l.setHours(i.eventList?0:l.getHours(),0):l=this._cols[c].date;var u=hp(l,this._startTime,this._time*(a?this._daysNr:1)),h=s?0:Qu(this._firstDay,l,i.startDay,i.endDay),d=(a?r.offsetWidth:r.scrollWidth)*(100*h/this._daysNr+(a?u:0))/100+1,f=void 0;if(o||s){var m=this._visibleResources,p=o?o.resource:m[0].id,v=fu(p)?p[0]:p;if(void 0!==v)if(a){var g=(s?Yu(l)+"-":"")+v;f=this._resourceTops[g]}else{var _=this._colWidth,y=Mu(m,(function(e){return e.id===v}))||0;d=this._groupByResource&&!this._isSingleResource?this._daysNr*_*y+_*h:m.length*h*_+y*_}}if(!a){var b=n.querySelector(".mbsc-schedule-column-inner");f=b?b.offsetHeight*u/100:0,!this._groupByResource||this._isSingleResource||o||(d=void 0)}this._isScrolling?this._isScrolling(d,f):this._isScrolling=jh(n,d,f,e,i.rtl,(function(){setTimeout((function(){t._isScrolling=void 0}),150)}))}},t}(sd),bp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onScroll=function(){var e=t._scrollCont;if(e){var n=e.scrollTop,r="translateX("+-e.scrollLeft+"px)",a=t._timeCont,i=t._allDayCont,s=t._headerCont,o=(Lh?Lh+"T":"t")+"ransform";i&&(i.style[o]=r),a&&(a.style.marginTop=-n+"px"),s&&(s.style[o]=r),0===n?t.setState({showShadow:!1}):t.state.showShadow||t.setState({showShadow:!0}),t._onMouseMove()}},t._setCont=function(e){t._scrollCont=e},t._setTimeCont=function(e){t._timeCont=e},t._setAllDayCont=function(e){t._allDayCont=e},t._setGridCont=function(e){t._gridCont=e},t._setHeaderCont=function(e){t._headerCont=e},t._setCursorTimeCont=function(e){t._cursorTimeCont=e},t}return Sc(t,e),t.prototype._render=function(t,n){e.prototype._render.call(this,t,n);var r=this._prevS,a=t.timezones,i=this._stepCell/6e4,s=Cu(this._startTime/6e4)%i,o=Cu(this._endTime/6e4)%i+1;if(a!==r.timezones&&(this._timeWidth=a?{width:4.25*a.length+"em"}:void 0,this._timezones=void 0,a)){for(var l=[],c=0,u=a;c<u.length;c++){var h=u[c],d=void 0;if(vu(h)){var f=rh(t,1970,0,1);Au(f)&&f.setTimezone(h);var m=f.getTimezoneOffset()/60*-1;d={label:"UTC"+(m>0?"+":"")+m,timezone:h}}else d=h;l.push(d)}this._timezones=l}this._largeDayNames=n.dayNameWidth>99,this._startCellStyle=s%i!=0?{height:(n.cellHeight||50)*((i-s)%i/i)+"px"}:void 0,this._endCellStyle=o%i!=0?{height:(n.cellHeight||50)*(o%i)/i+"px"}:void 0},t}(yp),wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e,t){return function(e,t,n){var a,i=n._colors,s=t.dragData,o=s&&s.draggedEvent&&s.draggedEvent.id,l=n._events,c=n._invalids,u=n._hb,h=n._rtl,d=n._times,f=n._startTime,m=n._endTime,p=n._startCellStyle,v=n._endCellStyle,g=n._stepLabel,_=n._theme,y=n._isSingleResource,b=e.eventMap||{},w="schedule",E=" mbsc-flex-1-0 mbsc-schedule-resource-group"+_+h,x=n._timezones,S=n._groupByResource,D=n._days,k=n._resources,C=((a={}).onMouseMove=n._onMouseMove,a.onMouseLeave=n._onMouseLeave,a),T={dayNames:n._dayNames,largeNames:n._largeDayNames,onClick:e.onWeekDayClick,renderDay:e.renderDay,renderDayContent:e.renderDayContent,rtl:e.rtl,theme:e.theme},I=function(t){var a,i=t.name;return e.renderResource&&vu(i=e.renderResource(t))&&(a=n._safeHtml(i),n._shouldEnhance=!0),i&&(0,r.createElement)("div",{key:t.id,className:"mbsc-schedule-resource "+(t.cssClass||"")+_+h+u+(!S||"day"===e.type&&1===e.size?" mbsc-flex-1-0 mbsc-schedule-col-width":""),style:{background:t.background}},(0,r.createElement)("div",{dangerouslySetInnerHTML:a,className:"mbsc-schedule-resource-title"},i))},M=function(t,a,i,l){var c=n._resourcesMap[i].eventResize,u=i+"__"+a,h=qd(s&&s.draggedEvent&&s.draggedEvent.original.resize,e.dragToResize,c),d={displayTimezone:e.displayTimezone,drag:e.dragToMove||e.externalDrag,endDay:e.endDay,exclusiveEndDates:e.exclusiveEndDates,gridEndTime:m,gridStartTime:f,lastDay:+n._lastDay,render:e.renderEvent,renderBufferAfter:e.renderBufferAfter,renderBufferBefore:e.renderBufferBefore,renderContent:e.renderEventContent,resource:i,rtl:e.rtl,singleDay:!S,slot:rp,startDay:e.startDay,theme:e.theme,timezonePlugin:e.timezonePlugin};return(0,r.createElement)(r.Fragment,null,t.map((function(t){return t.showText?t.position&&(0,r.createElement)(vp,Dc({},d,{event:t,key:t.uid,inactive:o===t.id,resize:qd(t.original.resize,e.dragToResize,c),selected:!(!e.selectedEventsMap[t.uid]&&!e.selectedEventsMap[t.id]),onClick:n._onEventClick,onDoubleClick:e.onEventDoubleClick,onRightClick:e.onEventRightClick,onDelete:e.onEventDelete,onHoverIn:e.onEventHoverIn,onHoverOut:e.onEventHoverOut,onDragStart:n._onEventDragStart,onDragMove:n._onEventDragMove,onDragEnd:n._onEventDragEnd,onDragModeOn:n._onEventDragModeOn,onDragModeOff:n._onEventDragModeOff})):(0,r.createElement)("div",{key:t.uid,className:"mbsc-schedule-event mbsc-schedule-event-all-day mbsc-schedule-event-all-day-placeholder"},(0,r.createElement)("div",{className:"mbsc-schedule-event-all-day-inner"+_}))})),s&&s.originDates&&s.originDates[u]&&!!s.originDates[u].allDay==!!l&&(0,r.createElement)(vp,Dc({},d,{event:s.originDates[u],hidden:s&&!!s.draggedDates,isDrag:!0,resize:h,onDragStart:n._onEventDragStart,onDragMove:n._onEventDragMove,onDragEnd:n._onEventDragEnd,onDragModeOff:n._onEventDragModeOff})),s&&s.draggedDates&&s.draggedDates[u]&&!!s.draggedDates[u].allDay==!!l&&(0,r.createElement)(vp,Dc({},d,{event:s.draggedDates[u],isDrag:!0,resize:h})))},N=function(e){return d.map((function(t,a){var i=!a,s=a===d.length-1;return(0,r.createElement)("div",{key:a,className:"mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-time-wrapper"+_+h+(s?" mbsc-schedule-time-wrapper-end":"")+(i&&!s&&p||s&&!i&&v?" mbsc-flex-none":""),style:i&&!s?p:s&&!i?v:void 0},(0,r.createElement)("div",{className:"mbsc-flex-1-1 mbsc-schedule-time"+_+h},i||t%g==0?n._formatTime(i?f:t,e):""),n._timesBetween.map((function(a,i){var s=t+(i+1)*g;return s>f&&s<m&&(0,r.createElement)("div",{key:i,className:"mbsc-flex-1-1 mbsc-schedule-time"+_+h},n._formatTime(s,e))})),s&&(0,r.createElement)("div",{className:"mbsc-schedule-time mbsc-schedule-time-end"+_+h},n._formatTime(m+1,e)))}))},L=function(e,t,n,a){var s=e.id,o=c[s][rp][t]&&c[s][rp][t].allDay[0],d=i[s][rp][t]&&i[s][rp][t].allDay[0],f=l[s][rp][t]&&l[s][rp][t].allDay;return(0,r.createElement)("div",{key:n+"-"+a,className:"mbsc-schedule-all-day-item mbsc-schedule-col-width mbsc-flex-1-0 "+(e.cssClass||"")+_+h+u,style:{background:e.background}},M(f||[],t,s,!0),o&&(0,r.createElement)("div",{className:"mbsc-schedule-invalid mbsc-schedule-invalid-all-day"+o.cssClass+_},(0,r.createElement)("div",{className:"mbsc-schedule-invalid-text"},o.title)),d&&(0,r.createElement)("div",{className:"mbsc-schedule-color mbsc-schedule-color-all-day"+d.cssClass+_,style:d.position},(0,r.createElement)("div",{className:"mbsc-schedule-color-text"},d.title)))},R=function(t,n,a,s){var o=t.id,f=c[o][rp][n]&&c[o][rp][n].data,m=i[o][rp][n]&&i[o][rp][n].data,g=l[o][rp][n],y=g&&g.data;return(0,r.createElement)("div",{key:a+"-"+s,className:"mbsc-flex-col mbsc-flex-1-0 mbsc-schedule-column mbsc-schedule-col-width "+(t.cssClass||"")+_+h+u,style:{background:t.background}},(0,r.createElement)("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-column-inner"+_+h+u},(0,r.createElement)("div",{className:"mbsc-schedule-events"+(g&&g.hasMore?" mbsc-schedule-events-more":"")+h},M(y||[],n,o)),f&&f.map((function(e,t){return e.position&&(0,r.createElement)("div",{key:t,className:"mbsc-schedule-invalid"+e.cssClass+_,style:e.position},(0,r.createElement)("div",{className:"mbsc-schedule-invalid-text"},e.allDay?"":e.title||""))})),m&&m.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-schedule-color"+e.cssClass+_,style:e.position},(0,r.createElement)("div",{className:"mbsc-schedule-color-text"},e.title))})),d.map((function(t,n){var a,i=fp(s,t),l=!n,c=n===d.length-1,h=((a={}).onDoubleClick=function(t){return e.onCellDoubleClick({date:i,domEvent:t,resource:o,source:w})},a.onContextMenu=function(t){return e.onCellRightClick({date:i,domEvent:t,resource:o,source:w})},a);return(0,r.createElement)("div",Dc({key:n,className:"mbsc-schedule-item mbsc-flex-1-0"+_+u+(c?" mbsc-schedule-item-last":"")+(l&&!c&&p||c&&!l&&v?" mbsc-flex-none":""),onClick:function(t){return e.onCellClick({date:i,domEvent:t,resource:o,source:w})},style:l&&!c?p:c&&!l?v:void 0},h))}))))};return(0,r.createElement)("div",{ref:n._setEl,className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-wrapper"+_+(n._daysNr>7?" mbsc-schedule-wrapper-multi":"")},(0,r.createElement)("div",{className:"mbsc-schedule-header mbsc-flex mbsc-flex-none"+_+u},(0,r.createElement)("div",{className:"mbsc-schedule-time-col mbsc-schedule-time-col-empty"+_+h+u,style:n._timeWidth}),(0,r.createElement)("div",{className:"mbsc-flex-1-1 mbsc-schedule-header-wrapper"},(0,r.createElement)("div",{ref:n._setHeaderCont,className:"mbsc-flex"},"day"===e.type&&1===e.size?(0,r.createElement)("div",{className:E},(0,r.createElement)("div",{className:"mbsc-flex"},e.showDays&&n._headerDays.map((function(e){var t=e.timestamp;return(0,r.createElement)(_p,Dc({},T,{key:t,cssClass:"mbsc-flex-1-1",day:e.day,events:b[e.dateKey],isToday:n._isToday(t),label:e.label,selectable:!0,selected:n._selectedDay===t,timestamp:t}))}))),e.resources&&(0,r.createElement)("div",{className:"mbsc-flex"},k.map(I))):S?k.map((function(t,a){return(0,r.createElement)("div",{key:a,className:E},I(t),(0,r.createElement)("div",{className:"mbsc-flex"},e.showDays&&D.map((function(e){var a=e.timestamp;return(0,r.createElement)(_p,Dc({},T,{background:t.background,key:a,cssClass:"mbsc-flex-1-0 mbsc-schedule-col-width "+(t.cssClass||""),day:e.day,events:b[e.dateKey],isToday:y&&n._isToday(a),label:e.label,resource:t.id,selectable:!1,selected:y&&n._isToday(a),timestamp:a}))}))))})):D.map((function(t,a){var i=t.timestamp;return(0,r.createElement)("div",{key:a,className:E},e.showDays&&(0,r.createElement)(_p,Dc({},T,{key:i,day:t.day,events:b[t.dateKey],isToday:y&&n._isToday(i),label:t.label,selectable:!1,selected:n._isToday(i),timestamp:i})),e.resources&&(0,r.createElement)("div",{className:"mbsc-flex"},k.map(I)))})))),(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"})),(0,r.createElement)("div",{className:"mbsc-schedule-all-day-cont"+(t.showShadow?" mbsc-schedule-all-day-wrapper-shadow":"")+_},x&&(0,r.createElement)("div",{className:"mbsc-flex mbsc-schedule-timezone-labels",style:n._timeWidth},x.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex-1-0-0 mbsc-schedule-timezone-label"+_+h},e.label)}))),e.showAllDay&&(0,r.createElement)("div",{className:"mbsc-schedule-all-day-wrapper mbsc-flex-none"+_+u},(0,r.createElement)("div",{className:"mbsc-flex mbsc-schedule-all-day"+_},(0,r.createElement)("div",{className:"mbsc-schedule-time-col"+_+h,style:n._timeWidth},!x&&(0,r.createElement)("div",{className:"mbsc-schedule-all-day-text"+_+h},e.allDayText)),(0,r.createElement)("div",{className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-all-day-group-wrapper"},(0,r.createElement)("div",{ref:n._setAllDayCont,className:"mbsc-flex mbsc-flex-1-1"},S?k.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex"+E},D.map((function(t,n){return L(e,t.dateKey,n,t.timestamp)})))})):D.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex"+E},k.map((function(t,n){return L(t,e.dateKey,n,e.timestamp)})))}))))))),(0,r.createElement)("div",{className:"mbsc-flex mbsc-flex-1-1 mbsc-schedule-grid-wrapper"+_},(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-flex-col mbsc-schedule-time-col mbsc-schedule-time-cont"+_+h,style:n._timeWidth,ref:n._setTimeCont},(0,r.createElement)("div",{className:"mbsc-flex mbsc-schedule-time-cont-inner"},(0,r.createElement)("div",{className:"mbsc-flex-col mbsc-flex-1-1"},(0,r.createElement)("div",{className:"mbsc-flex-1-1 mbsc-schedule-time-cont-pos"+_+(x?" mbsc-flex":" mbsc-flex-col mbsc-schedule-time-col-last")},x?x.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex-col"+_+(t===x.length-1?" mbsc-schedule-time-col-last":"")},N(e.timezone))})):N(),n._showTimeIndicator&&(0,r.createElement)(gp,{amText:e.amText,displayedTime:n._time,displayedDays:n._daysNr,displayTimezone:e.displayTimezone,endDay:e.endDay,firstDay:n._firstDayTz,orientation:"x",pmText:e.pmText,rtl:e.rtl,showDayIndicator:y&&!n._isMulti&&"week"===e.type,startDay:e.startDay,startTime:f,theme:e.theme,timeFormat:e.timeFormat,timezones:x,timezonePlugin:e.timezonePlugin}),n._showCursorTime&&(0,r.createElement)("div",{ref:n._setCursorTimeCont,className:"mbsc-schedule-cursor-time mbsc-schedule-cursor-time-x"+_+h})),t.hasScrollX&&(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-x"})),(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"}))),(0,r.createElement)("div",{ref:n._setCont,className:"mbsc-flex-col mbsc-flex-1-1 mbsc-schedule-grid-scroll"+_,onScroll:n._onScroll},(0,r.createElement)("div",{className:"mbsc-flex mbsc-flex-1-1"},(0,r.createElement)("div",Dc({className:"mbsc-flex mbsc-flex-1-0 mbsc-schedule-grid",ref:n._setGridCont},C),S?k.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex"+E},D.map((function(t,n){return R(e,t.dateKey,n,t.timestamp)})))})):D.map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-flex"+E},k.map((function(t,n){return R(t,e.dateKey,n,e.timestamp)})))})))))),s&&!t.isTouchDrag&&(0,r.createElement)("div",{className:"mbsc-calendar-dragging"}))}(e,t,this)},t}(bp),Ep=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isTimeline=!0,t._onScroll=function(){for(var e=t.s.rtl,n=t.state,r=t._gridWidth,a=t._scrollCont,i=a.scrollTop,s=a.scrollLeft,o=t._resCont,l=t._sidebarCont,c=t._footerCont,u=t._headerCont,h=t._stickyHeader,d=t._stickyFooter,f=t._days,m=t._daysNr,p=t._colsNr,v=e?-1:1,g=e?"marginRight":"marginLeft",_=Du(s*v*(p/t._daysBatchNr)/r),y=r/m,b=y?hu(Cu(s*v/y),0,m-1):0,w=t._virtualPagesY||[],E=0,x=0;x<w.length&&w[x].top-n.scrollContHeight/2<=i;)E=x,x++;if(Oh&&!e||(o&&(o.scrollTop=i),l&&(l.scrollTop=i)),h&&Oh){var S=h.style;S.marginTop=i<0?-i+"px":"",S[g]=s*v<0?-s*v+"px":""}if(d&&Oh){var D=d.style;D.marginTop=i<0?-i+"px":"",D[g]=s*v<0?-s*v+"px":""}if(r){if((u||c)&&t._isDailyResolution){var k=function(e,t){if(e&&y){var n=e.offsetWidth,r=e.style,a=hu(Cu((s*v+n)/y),0,m-1);f[b][t+"Index"]!==f[a][t+"Index"]?r[g]=-(s*v+n-f[a][t+"Index"]*y+1)+"px":r[g]=""}};k(t._stickyDate,"date"),k(t._stickyMonth,"month"),k(t._stickyWeek,"week"),Oh||(c&&(c.scrollLeft=s),u&&(u.scrollLeft=s))}E===n.batchIndexY&&_===n.batchIndexX||(t._calcRowHeights=!0),(_!==n.batchIndexX||E!==n.batchIndexY||(t._stickyDate||t._stickyMonth||t._stickyWeek)&&b!==n.dayIndex)&&t.setState({batchIndexX:_,batchIndexY:E,dayIndex:b}),clearTimeout(t._scrollDebounce),t._scrollDebounce=setTimeout((function(){if(!t._isScrolling&&!t._viewChanged&&!t._hasResY){var e=f[b].date,n=t._time*(s*v-b*y)/y;t._hook("onActiveChange",{date:new Date(+e+t._startTime+n),scroll:!0})}}),100),t._onMouseMove()}},t._setStickyHeader=function(e){t._stickyHeader=e},t._setStickyFooter=function(e){t._stickyFooter=e},t._setStickyDay=function(e){t._stickyDate=e},t._setStickyMonth=function(e){t._stickyMonth=e},t._setStickyWeek=function(e){t._stickyWeek=e},t._setCont=function(e){t._scrollCont=e},t._setResCont=function(e){t._resCont=e},t._setSidebarCont=function(e){t._sidebarCont=e},t._setGridCont=function(e){t._gridCont=e},t._setHeaderCont=function(e){t._headerCont=e},t._setFooterCont=function(e){t._footerCont=e},t._setCursorTimeCont=function(e){t._cursorTimeCont=e},t}return Sc(t,e),t.prototype._onParentClick=function(e,t){t.collapsed=!t.collapsed,this._hook(t.collapsed?"onResourceCollapse":"onResourceExpand",{domEvent:e,resource:t.id}),this._visibleResources=this._flattenResources(this._resourcesCopy,[],0),this._shouldCheckSize=!0,this._isParentClick=!0,this._calcRowHeights=!0,this.forceUpdate()},t.prototype._getViewData=function(e,t){var n=this.state.dragData,r=n&&n.draggedEvent&&n.draggedEvent.id,a=[[]];if(e){var i=[],s=e.tracks;if(s)for(var o=0;o<s.length;o++)a[o]=[],s[o]=0,i[o]=0;for(var l=0,c=e.data;l<c.length;l++){var u=c[l],h=this._batchStart<=u.endDate&&this._batchEnd>u.startDate,d=u.track||0;if(!s||h&&this._calcRowHeights||(s[d]=Math.max(s[d],this._eventHeights[u.key]||0)),t&&r===u.id||h)if(s&&this._setRowHeight&&this._variableEventHeight){var f=this.s.rtl,m=u.position;if(m){var p=f?m.right:m.left,v=p,g=!1;this._hasSlots||(v=u.offset-i[d]+"%")!==p&&(m.left=f?"":v,m.right=f?v:"",g=!0),a[d].push(g?Dc({},u):u),i[d]+=+m.width.replace("%","")}}else a[0].push(u)}}return a},t.prototype._render=function(t,n){e.prototype._render.call(this,t,n),clearTimeout(this._scrollDebounce);var r=this._prevS,a=this._eventMap,i=this._gridWidth,s=this._resourceTops,o=this._stepCell/6e4,l=Cu(this._startTime/6e4)%o,c=Cu(this._endTime/6e4)%o+1;if(this._stickyDay=this._days[n.dayIndex||0]||this._days[0],this._startCellStyle=l%o!=0?{width:(n.cellWidth||64)*((o-l)%o/o)+"px"}:void 0,this._endCellStyle=c%o!=0?{width:(n.cellWidth||64)*(c%o)/o+"px"}:void 0,t.connections===r.connections&&t.eventMap===r.eventMap&&t.theme===r.theme&&t.rtl===r.rtl||(this._calcConnections=!0),this._hasSlots&&(this._connections=void 0),this._calcConnections&&!this._hasSlots&&!this._shouldCheckSize&&i){for(var u=[],h=this._eventHeight,d=n.hasScrollY?this._gridHeight:n.scrollContHeight-n.headerHeight,f=1500/i,m=!0===t.rtl,p=m?-1:1,v=750/i*p,g=400/d*p,_=100*h/d,y=0,b=t.connections||[];y<b.length;y++){var w=b[y],E=a[w.from],x=a[w.to],S=w.arrow,D=w.color,k=w.cssClass||"",C=w.from+"__"+w.to,T=w.type||"fs";if(E&&x){var I=E.position,M=x.position,N=void 0!==I.width,L=void 0!==M.width,R=E.resource,A=x.resource;if((N||L)&&s[R]>=0&&s[A]>=0){var O="fs"===T||"ff"===T,P="fs"===T||"ss"===T,F=O?E.endDate:E.startDate,V=P?x.startDate:x.endDate,z=V<F,H=z?V:F,U=z?F:V,B=I.top||0,W=M.top||0,j=m?"right":"left",Y=N?+I[j].replace("%",""):z?100:0,q=L?+M[j].replace("%",""):z?0:100,K=N?+I.width.replace("%",""):0,G=N?+M.width.replace("%",""):0,Q=s[A]-s[R],X=!Q&&("fs"===T&&z||"sf"===T&&!z||"ff"===T||"ss"===T)&&W===B,$=O&&P?q-Y-K-2*f:O&&!P?q-Y+(G-K):!O&&P?q-Y:q-Y+G+2*f,J=Q<0||!Q&&W<B?-1:1,Z=100*(Q-B*h+W*h+(X?h:0))/d,ee="fs"===T&&$<0||("ff"===T||"ss"===T)&&X||"sf"===T,te="ss"===T&&z&&!ee||"ff"===T&&!z&&!ee||"sf"===T&&$<0,ne=(m?100-Y:Y)+(O?K*p:0),re=100*(s[R]+B*h+3+h/2)/d;if(N&&("from"===S||"bidirectional"===S)){var ae=O?v:-1*v;u.push({color:D,cssClass:"mbsc-connection-arrow "+k,endDate:U,fill:D,id:C+"__start",pathD:"M "+ne+", "+re+" L "+(ne+ae)+" "+(re-g)+" L "+(ne+ae)+" "+(re+g)+" Z",startDate:H})}var ie="M "+ne+", "+re;ne+=O?f*p:-f*p,te&&(ne+=$*p),Z&&(ie+=" H "+ne,te||(ie+=" V "+(re+=Z-(ee?_/2:0)*J))),te||(ne+=$*p),Z&&(ie+=" H "+ne,te&&(ie+=" V "+(re+=Z-(ee?_/2:0)*J))),Z&&ee&&(ie+=" V "+(re+=_/2*J*(X?-1:1))),ie+=" H "+(ne+=P?f*p:-f*p),u.push({color:D,cssClass:k,id:C,pathD:ie,startDate:H,endDate:U}),!L||"to"!==S&&"bidirectional"!==S&&!0!==S||(ae=P?-1*v:v,u.push({color:D,cssClass:"mbsc-connection-arrow "+k,endDate:U,fill:D,id:C+"__end",pathD:"M "+ne+", "+re+" L "+(ne+ae)+" "+(re-g)+" L "+(ne+ae)+" "+(re+g)+" Z",startDate:H}))}}}this._connections=u,this._calcConnections=!1}},t}(yp);function xp(e,t,n){var a,i,s,o,l=t.dragData,c=l&&l.draggedEvent&&l.draggedEvent.id,u=n._hasSlots,h=n._hb,d=n._rtl,f=n._times,m=n._theme,p=n._startTime,v=n._endTime,g=n._stepLabel,_=n._slots,y="timeline",b=e.eventList,w="month"===e.type,E=n._stepCell<864e5,x=n._startCellStyle,S=n._endCellStyle,D=n._daysBatch,k={height:t.headerHeight+"px"},C={height:t.footerHeight+"px"},T=n._days,I=n._daysNr,M=t.dayIndex||0,N=n._isDailyResolution,L=n._variableEventHeight,R=n._hasResY,A=n._hasResources,O=e.renderHourFooter||e.renderDayFooter||e.renderQuarterFooter||e.renderWeekFooter||e.renderMonthFooter||e.renderYearFooter,P=n._hasRows,F=n._colClass,V=n._dragCol,z=((a={}).className="mbsc-connections"+m,a),H=((i={}).onMouseMove=n._onMouseMove,i.onMouseLeave=n._onMouseLeave,i),U=function(t,a){var i,s;if(n._displayTime&&n._timeLabels[a])if(e.renderHour){var o=+t.date+a;vu(i=e.renderHour({date:new Date(o),events:t.eventMap[o]||[],isActive:t.isActive}))&&(s=n._safeHtml(i),n._shouldEnhance=!0)}else i=n._timeLabels[a];return(0,r.createElement)("div",{key:a,"aria-hidden":"true",className:"mbsc-timeline-header-time mbsc-flex-1-1"+m,dangerouslySetInnerHTML:s},i)},B=function(t,a){var i,s;if(e.renderHourFooter&&n._displayTime&&n._timeLabels[a]){var o=+t.date+a;vu(i=e.renderHourFooter({date:new Date(o),events:t.eventMap[o]||[],isActive:t.isActive}))&&(s=n._safeHtml(i),n._shouldEnhance=!0)}return(0,r.createElement)("div",{key:a,className:"mbsc-timeline-footer-time mbsc-flex-1-1 "+m,dangerouslySetInnerHTML:s},i)},W=function(t,a){var i,s;return e.renderDay?vu(i=e.renderDay({date:t.date,events:t.eventMap.all,isActive:t.isActive}))&&(s=n._safeHtml(i),n._shouldEnhance=!0):i=t.dateText,(0,r.createElement)("div",{ref:a?n._setStickyDay:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:s,className:(a?"mbsc-timeline-header-text":"")+(t.isActive&&!e.renderDay?" mbsc-timeline-header-active":"")+(e.renderDay?" mbsc-timeline-header-date-cont":" mbsc-timeline-header-date-text")+m},i)},j=function(t,a){var i,s;return e.renderWeek?vu(i=e.renderWeek({date:t.date,endDate:t.endDate,events:t.eventMap[t.timestamp]||[],isActive:t.isActive,startDate:t.date,weekNr:t.weekNr}))&&(s=n._safeHtml(i),n._shouldEnhance=!0):i=t.weekText,(0,r.createElement)("div",{ref:a?n._setStickyWeek:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:s,className:(a?"mbsc-timeline-header-text":"")+(e.renderWeek?" mbsc-timeline-header-week-cont":" mbsc-timeline-header-week-text")+(t.lastOfWeek?" mbsc-timeline-header-week-text-last":"")+m},i)},Y=function(t,a){var i,s;return e.renderMonth?vu(i=e.renderMonth({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(s=n._safeHtml(i),n._shouldEnhance=!0):i=t.monthText,(0,r.createElement)("div",{ref:a?n._setStickyMonth:void 0,"aria-hidden":"true",dangerouslySetInnerHTML:s,className:(a?"mbsc-timeline-header-text":"")+(e.renderMonth?" mbsc-timeline-header-month-cont":" mbsc-timeline-header-month-text")+(t.lastOfMonth?" mbsc-timeline-header-month-text-last":"")+m},i)},q=function(t,a){var i,s,o=t.isParent,l=(a?a+"-":"")+t.id,c=t.fixed&&!R,u={background:t.background,minHeight:n._rowHeights[l],top:c?n._fixedResourceTops[l]:void 0};return e.renderSidebar&&vu(i=e.renderSidebar(t))&&(s=n._safeHtml(i),n._shouldEnhance=!0),l!==n._dragRow&&(0,r.createElement)("div",{key:l,className:"mbsc-timeline-sidebar-resource mbsc-timeline-row mbsc-flex-1-0"+(o?" mbsc-timeline-parent mbsc-flex":"")+(c?" mbsc-timeline-row-fixed":"")+(t.cssClass?" "+t.cssClass:"")+m+d+h,style:u},(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-resource-title",dangerouslySetInnerHTML:s},i))},K=function(t,a){var i,s=t.isParent,o=n._hasHierarchy?1.75*t.depth+"em":void 0,l=(a?a+"-":"")+t.id,c=t.fixed&&!R,u={background:t.background,minHeight:n._rowHeights[l],paddingLeft:e.rtl?void 0:o,paddingRight:e.rtl?o:void 0,top:c?n._fixedResourceTops[l]+"px":void 0},f=t.name;return e.renderResource&&vu(f=e.renderResource(t))&&(i=n._safeHtml(f),n._shouldEnhance=!0),l!==n._dragRow&&(0,r.createElement)("div",{key:l,className:"mbsc-timeline-resource mbsc-timeline-row mbsc-flex-1-0"+(s?" mbsc-timeline-parent mbsc-flex":"")+(c?" mbsc-timeline-row-fixed":"")+(t.cssClass?" "+t.cssClass:"")+m+d+h,style:u},s&&(0,r.createElement)(od,{className:"mbsc-timeline-resource-icon"+d+h,svg:t.collapsed?e.rtl?e.nextIconRtl:e.nextIcon:e.downIcon,theme:e.theme,onClick:function(e){return n._onParentClick(e,t)}}),(0,r.createElement)("div",{className:"mbsc-timeline-resource-title"+(s?" mbsc-flex-1-1":""),dangerouslySetInnerHTML:i},f))},G=function(e,t,r,a,i){var s=e[t][rp][i||"all"];return r(n._getViewData(s,a),i||"all",t,rp)},Q=function(e){return e[0].map((function(e,t){return(0,r.createElement)("div",{key:t,className:"mbsc-schedule-color mbsc-timeline-color"+e.cssClass+m,style:e.position},(0,r.createElement)("div",{className:"mbsc-schedule-color-text"},e.title))}))},X=function(e){return e[0].map((function(e,t){return e.position&&(0,r.createElement)("div",{key:t,className:"mbsc-schedule-invalid mbsc-timeline-invalid"+e.cssClass+m,style:e.position},(0,r.createElement)("div",{className:"mbsc-schedule-invalid-text"},e.title))}))},$=function(t,a,i,s){var o=n._events[i][s][a],u=o&&o.tracks||[],h=n._resourcesMap[i].eventResize,d=i+"__"+s+"__"+a,f=qd(l&&l.draggedEvent&&l.draggedEvent.original.resize,e.dragToResize,h),g={displayTimezone:e.displayTimezone,drag:e.dragToMove||e.externalDrag,endDay:e.endDay,eventHeight:n._setRowHeight&&!L?n._eventHeight:void 0,exclusiveEndDates:e.exclusiveEndDates,gridEndTime:v,gridStartTime:p,hasResY:R,isListing:b,isTimeline:!0,lastDay:+n._lastDay,render:e.renderEvent,renderBufferAfter:e.renderBufferAfter,renderBufferBefore:e.renderBufferBefore,renderContent:e.renderEventContent,resource:i,rtl:e.rtl,slot:s,startDay:e.startDay,theme:e.theme,timezonePlugin:e.timezonePlugin};return(0,r.createElement)(r.Fragment,null,t.map((function(t,a){return(0,r.createElement)("div",{className:"mbsc-timeline-events-track",key:a,style:{minHeight:L?(u[a]||n._eventHeight)+"px":void 0}},t.map((function(t){return t.position&&(0,r.createElement)(vp,Dc({},g,{event:t,inactive:c===t.id,key:t.uid,resize:qd(t.original.resize,e.dragToResize,h),selected:!(!e.selectedEventsMap[t.uid]&&!e.selectedEventsMap[t.id]),onClick:n._onEventClick,onDoubleClick:e.onEventDoubleClick,onRightClick:e.onEventRightClick,onHoverIn:e.onEventHoverIn,onHoverOut:e.onEventHoverOut,onDelete:e.onEventDelete,onDragStart:n._onEventDragStart,onDragMove:n._onEventDragMove,onDragEnd:n._onEventDragEnd,onDragModeOn:n._onEventDragModeOn,onDragModeOff:n._onEventDragModeOff}))})),l&&l.originDates&&l.originDates[d]&&l.originDates[d].track===a&&(0,r.createElement)(vp,Dc({},g,{event:l.originDates[d],hidden:l&&!!l.draggedDates,isDrag:!0,resize:f,onDragStart:n._onEventDragStart,onDragMove:n._onEventDragMove,onDragEnd:n._onEventDragEnd,onDragModeOff:n._onEventDragModeOff})),l&&l.draggedDates&&l.draggedDates[d]&&l.draggedDates[d].track===a&&(0,r.createElement)(vp,Dc({},g,{event:l.draggedDates[d],isDrag:!0,resize:f})))})),n._setRowHeight&&L&&(0,r.createElement)("div",{className:"mbsc-timeline-row-gutter"+m}))},J=function(a,i){var s=a.id,o=(i?i+"-":"")+s,l=a.fixed&&!R;return(0,r.createElement)("div",{key:o,className:"mbsc-timeline-row mbsc-flex mbsc-flex-1-0"+(a.isParent?" mbsc-timeline-parent":"")+(l?" mbsc-timeline-row-fixed":"")+(o===n._dragRow?" mbsc-timeline-hidden":"")+(a.cssClass?" "+a.cssClass:"")+m+h,style:{background:a.background,minHeight:n._rowHeights[o],top:l?n._fixedResourceTops[o]+"px":void 0}},!u&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"mbsc-timeline-events"},G(n._events,s,$,!0,i)),G(n._invalids,s,X,void 0,i),G(n._colors,s,Q,void 0,i)),(0,r.createElement)("div",{style:{width:n._placeholderSizeX+"px"},className:"mbsc-flex-none"}),D.map((function(a){var o,l=a.timestamp,c=i||a.dateKey;if(N)return(0,r.createElement)("div",{key:l,className:"mbsc-timeline-day mbsc-flex"+m+d+h+(c===V?" mbsc-timeline-hidden":"")+(a.dateIndex<I-1&&(E||a.lastOfMonth)?" mbsc-timeline-day-border":"")+(t.hasScrollX?" mbsc-flex-none":" mbsc-flex-1-0-0")+(w||n._isMulti?" mbsc-timeline-day-month":"")},_.map((function(t){var a=t.id,i=n._events[s][a][c],o=n._colors[s][a][c],p=n._invalids[s][a][c];return(0,r.createElement)("div",{key:a,className:"mbsc-flex mbsc-flex-1-1"+(u?" mbsc-timeline-slot":"")},u&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"mbsc-timeline-events"},$(i?[i.data]:[[]],c,s,a)),p&&X([p.data]),o&&Q([o.data])),f.map((function(t,n){var i,o=fp(l,t),c=!n,u=n===f.length-1,p=((i={}).onDoubleClick=function(t){return e.onCellDoubleClick({date:o,domEvent:t,resource:s,slot:a,source:y})},i.onContextMenu=function(t){return e.onCellRightClick({date:o,domEvent:t,resource:s,slot:a,source:y})},i);return(0,r.createElement)("div",Dc({key:n,className:"mbsc-timeline-column mbsc-flex-1-1"+m+d+h+(c&&!u&&x||u&&!c&&S?" mbsc-flex-none":""),onClick:function(t){return e.onCellClick({date:o,domEvent:t,resource:s,slot:a,source:y})},style:c&&!u?x:u&&!c?S:void 0},p))})))})));var p=a.date,v=((o={}).onDoubleClick=function(t){return e.onCellDoubleClick({date:p,domEvent:t,resource:s,source:y})},o.onContextMenu=function(t){return e.onCellRightClick({date:p,domEvent:t,resource:s,source:y})},o);return(0,r.createElement)("div",Dc({key:l,className:"mbsc-timeline-day mbsc-timeline-column"+m+d+h+(c===V?" mbsc-timeline-hidden":"")+(t.hasScrollX?" mbsc-flex-none":" mbsc-flex-1-0-0"),onClick:function(t){return e.onCellClick({date:p,domEvent:t,resource:s,source:y})}},v))})))};return(0,r.createElement)("div",{ref:n._setEl,className:"mbsc-timeline mbsc-flex-1-1 mbsc-flex-col"+(t.cellWidth?"":" mbsc-hidden")+(L?" mbsc-timeline-events-variable":"")+(n._hasSticky?" mbsc-has-sticky":"")+(P?"":" mbsc-timeline-no-rows")+(A?"":" mbsc-timeline-no-resource")+m+d},(0,r.createElement)("div",{ref:n._setStickyHeader,className:"mbsc-timeline-header-sticky mbsc-flex"+m},P&&(0,r.createElement)("div",{className:"mbsc-timeline-resource-header-cont "+F+m+d+h,style:k},(e.renderResourceHeader&&vu(s=e.renderResourceHeader())&&(o=n._safeHtml(s),n._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-timeline-resource-header",dangerouslySetInnerHTML:o},s))),N&&(0,r.createElement)("div",{className:"mbsc-flex-1-1"},!R&&(0,r.createElement)(r.Fragment,null,n._isMulti&&(0,r.createElement)("div",{className:"mbsc-timeline-header-month mbsc-flex"+m+d+h},Y(T[M]||T[0],!0)),e.weekNumbers&&(0,r.createElement)("div",{className:"mbsc-timeline-header-week mbsc-flex"+m+d+h},j(T[M]||T[0],!0)),(u||E)&&(0,r.createElement)("div",{className:"mbsc-timeline-header-date mbsc-flex"+m+d+h},W(T[M]||T[0],!0)))),P&&e.renderSidebar&&(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col"+m+d+h,style:k},function(){var t,a;return e.renderSidebarHeader&&vu(t=e.renderSidebarHeader())&&(a=n._safeHtml(t),n._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-header",dangerouslySetInnerHTML:a},t)}()),t.hasScrollY&&(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"})),O&&(0,r.createElement)("div",{ref:n._setStickyFooter,className:"mbsc-timeline-footer-sticky mbsc-flex"+m},P&&(0,r.createElement)("div",{className:"mbsc-timeline-resource-footer-cont "+F+m+d+h,style:C},function(){var t,a;return e.renderResourceFooter&&vu(t=e.renderResourceFooter())&&(a=n._safeHtml(t),n._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-timeline-resource-footer",dangerouslySetInnerHTML:a},t)}()),N&&(0,r.createElement)("div",{className:"mbsc-flex-1-1"}),P&&e.renderSidebar&&(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col"+m+d+h,style:C},function(){var t,a;return e.renderSidebarFooter&&vu(t=e.renderSidebarFooter())&&(a=n._safeHtml(t),n._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-footer",dangerouslySetInnerHTML:a},t)}()),t.hasScrollY&&(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"})),(0,r.createElement)("div",{ref:n._setCont,className:"mbsc-timeline-grid-scroll mbsc-flex-col mbsc-flex-1-1"+m+d+h,onScroll:n._onScroll},(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSticky?void 0:k}),(0,r.createElement)("div",{className:"mbsc-timeline-header mbsc-flex"+m+d+h,ref:n._setHeaderCont},P&&(0,r.createElement)("div",{className:"mbsc-timeline-resource-header-cont "+F+m+d+h}),(0,r.createElement)("div",{className:"mbsc-timeline-header-bg mbsc-flex-1-0 mbsc-flex"+m},(0,r.createElement)("div",{className:"mbsc-timeline-time-indicator-cont",style:{height:(t.scrollContHeight||0)-(t.headerHeight||0)+"px",width:t.hasScrollX?n._gridWidth+"px":void 0}},n._showTimeIndicator&&(0,r.createElement)(gp,{amText:e.amText,displayedTime:n._time,displayedDays:I,displayTimezone:e.displayTimezone,endDay:e.endDay,firstDay:n._firstDayTz,orientation:"y",pmText:e.pmText,rtl:e.rtl,startDay:e.startDay,startTime:p,theme:e.theme,timeFormat:e.timeFormat,timezonePlugin:e.timezonePlugin,hasResY:R}),n._showCursorTime&&(0,r.createElement)("div",{ref:n._setCursorTimeCont,className:"mbsc-schedule-cursor-time mbsc-schedule-cursor-time-y"+m})),(0,r.createElement)("div",{className:"mbsc-flex-none",style:{width:n._placeholderSizeX+"px"}}),(0,r.createElement)("div",{className:t.hasScrollX?"mbsc-flex-none":"mbsc-flex-1-1"},N?(0,r.createElement)(r.Fragment,null,n._isMulti&&!R&&(0,r.createElement)("div",{className:"mbsc-flex"},D.map((function(e){var t=e.dateIndex<I-1&&e.lastOfMonth;if(e.dateKey!==V)return(0,r.createElement)("div",{key:e.timestamp,className:"mbsc-timeline-month mbsc-flex-1-0-0"+m+d+h+(t?" mbsc-timeline-day mbsc-timeline-day-border":"")},(0,r.createElement)("div",{className:"mbsc-timeline-header-month"+m+d+h+(t?" mbsc-timeline-header-month-last":"")},e.monthTitle&&Y(e,!1)))}))),e.weekNumbers&&(0,r.createElement)("div",{className:"mbsc-flex"},D.map((function(e){var t=e.lastOfWeek;if(e.dateKey!==V)return(0,r.createElement)("div",{key:e.timestamp,className:"mbsc-timeline-month mbsc-flex-1-0-0"+m+d+h+(e.dateIndex<I-1&&t&&(E||e.lastOfMonth)?" mbsc-timeline-day mbsc-timeline-day-border":"")},(0,r.createElement)("div",{className:"mbsc-timeline-header-week"+m+d+h+(t?" mbsc-timeline-header-week-last":"")},e.weekTitle&&j(e,!1)))}))),(0,r.createElement)("div",{className:"mbsc-flex"},D.map((function(t){if(t.dateKey!==V)return(0,r.createElement)("div",{key:t.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+m+d+h+(t.dateIndex<I-1&&(E||t.lastOfMonth)?" mbsc-timeline-day-border":"")+(w||n._isMulti?" mbsc-timeline-day-month":"")},!R&&(0,r.createElement)("div",{className:"mbsc-timeline-header-date"+m+d+h},W(t),t.label&&(0,r.createElement)("div",{className:"mbsc-hidden-content"},t.label)),u&&(0,r.createElement)("div",{className:"mbsc-flex mbsc-timeline-slots"+m},_.map((function(a){return(0,r.createElement)("div",{key:a.id,className:"mbsc-timeline-slot mbsc-timeline-slot-header mbsc-flex-1-1"+d+m},a.name&&function(t){var a,i=t.slot,s=i.name;return e.renderSlot&&vu(s=e.renderSlot(t))&&(a=n._safeHtml(s),n._shouldEnhance=!0),(0,r.createElement)("div",{key:i.id,className:"mbsc-timeline-slot-title",dangerouslySetInnerHTML:a},s)}({slot:a,date:t.date}))}))),(0,r.createElement)("div",{"aria-hidden":"true",className:"mbsc-flex"},f.map((function(e,a){var i=!a,s=a===f.length-1;return(0,r.createElement)("div",{key:a,style:i&&!s?x:s&&!i?S:void 0,className:"mbsc-flex mbsc-flex-1-1 mbsc-timeline-header-column"+m+d+h+(!n._displayTime||u?" mbsc-timeline-no-height":"")+(g>n._stepCell&&f[a+1]%g?" mbsc-timeline-no-border":"")+(i&&x||s&&S?" mbsc-flex-none":"")},U(t,e),n._timesBetween.map((function(n,r){var a=e+(r+1)*g;return a>p&&a<v&&U(t,a)})))}))))})))):(0,r.createElement)("div",{className:"mbsc-flex"},D.map((function(t){if(t.dateKey!==V)return(0,r.createElement)("div",{key:t.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+m+d+h},(0,r.createElement)("div",{className:"mbsc-timeline-header-week mbsc-timeline-header-week-last"+m+d+h},(0,r.createElement)("div",{className:"mbsc-timeline-header-week-text mbsc-timeline-header-week-text-last"+(t.isActive&&!(e.renderWeek||e.renderMonth||e.renderQuarter||e.renderYear)?" mbsc-timeline-header-active":"")+m},function(t){switch(e.resolution){case"week":if(e.renderWeek)return j(t,!1);break;case"month":if(e.renderMonth)return Y(t,!1);break;case"quarter":if(e.renderQuarter)return function(t){var a,i;return e.renderQuarter&&vu(a=e.renderQuarter({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{"aria-hidden":"true",dangerouslySetInnerHTML:i,className:(e.renderQuarter?" mbsc-timeline-header-month-cont":" mbsc-timeline-header-month-text")+m},a)}(t);break;case"year":if(e.renderYear)return function(t){var a,i;return e.renderYear?vu(a=e.renderYear({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(i=n._safeHtml(a),n._shouldEnhance=!0):a=t.columnTitle,(0,r.createElement)("div",{"aria-hidden":"true",dangerouslySetInnerHTML:i,className:(t.isActive&&!e.renderYear?" mbsc-timeline-header-active":"")+(e.renderYear?" mbsc-timeline-header-year-cont":" mbsc-timeline-header-year-text")+m},a)}(t)}return t.columnTitle}(t))))}))))),P&&e.renderSidebar&&(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-header-cont mbsc-timeline-sidebar-col"+m+d+h})),(0,r.createElement)("div",{className:"mbsc-flex mbsc-flex-1-1"},(0,r.createElement)("div",{className:"mbsc-flex mbsc-flex-1-1"},P&&(0,r.createElement)("div",{className:"mbsc-timeline-resources mbsc-flex-col "+F+m+d,ref:n._setResCont},(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSideSticky?void 0:k}),(0,r.createElement)("div",{className:"mbsc-timeline-resource-bg mbsc-flex-1-1"+(n._hasHierarchy||t.hasScrollY?"":" mbsc-flex-col")+m},(0,r.createElement)("div",{style:{height:n._placeholderSizeY+"px"},className:"mbsc-flex-none"}),n._rowBatch.map((function(e){var t=e.day,a=t?t.dateKey:"";return!e.hidden&&t?A?(0,r.createElement)("div",{key:a,className:"mbsc-timeline-row-group mbsc-flex mbsc-flex-1-0"+m+h},(0,r.createElement)("div",{className:"mbsc-timeline-row-date mbsc-timeline-row-date-col mbsc-flex-none"+d+m+h},W(t)),(0,r.createElement)("div",{className:"mbsc-timeline-row-resource-col mbsc-flex-1-1 mbsc-flex-col"},e.rows.map((function(e){return K(e,a)})))):(0,r.createElement)("div",{key:a,className:"mbsc-timeline-row-date mbsc-flex-1-0"+d+m+h,style:{minHeight:n._rowHeights[a+"-"+rp]}},W(t)):e.rows.map((function(e){return K(e,a)}))}))),(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSideSticky?void 0:C})),P&&(0,r.createElement)("div",{className:n._hasSideSticky?"":F}),(0,r.createElement)("div",{className:"mbsc-timeline-hidden"},(0,r.createElement)("div",{className:"mbsc-timeline-row mbsc-timeline-empty-row"+m}),(0,r.createElement)("div",{className:"mbsc-timeline-row mbsc-timeline-parent mbsc-timeline-empty-parent"+m}),(0,r.createElement)("div",{className:"mbsc-timeline-row-gutter"+m})),(0,r.createElement)("div",Dc({className:"mbsc-timeline-grid mbsc-flex-1-0"+(n._hasHierarchy||t.hasScrollY?"":" mbsc-flex-col"),ref:n._setGridCont,style:{height:t.hasScrollY?n._gridHeight+"px":void 0,width:t.hasScrollX?n._gridWidth+"px":void 0}},H),(0,r.createElement)("div",{style:{height:n._placeholderSizeY+"px"},className:"mbsc-flex-none"}),n._rowBatch.map((function(e){var t=e.day,n=t?t.dateKey:"";return t&&A?(0,r.createElement)("div",{key:n,className:"mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0"+m+h},e.rows.map((function(e){return J(e,n)}))):(0,r.createElement)(r.Fragment,{key:n},e.rows.map((function(e){return J(e,n)})))})),n._connections&&(0,r.createElement)("svg",Dc({viewBox:"0 0 100 100",preserveAspectRatio:"none"},z),n._connections.map((function(e){var t,a=((t={}).className="mbsc-connection "+e.cssClass+m,t.d=e.pathD,t.style={stroke:e.color,fill:e.fill},t.vectorEffect="non-scaling-stroke",t);return Uu(n._batchStart,n._batchEnd,e.startDate,e.endDate,!0)&&(0,r.createElement)("path",Dc({key:e.id},a))})))),P&&e.renderSidebar&&(0,r.createElement)("div",{className:"mbsc-timeline-sidebar mbsc-timeline-sidebar-col mbsc-flex-col"+m+d,ref:n._setSidebarCont},(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSideSticky?void 0:k}),(0,r.createElement)("div",{className:"mbsc-timeline-resource-bg mbsc-flex-1-1"+(n._hasHierarchy||t.hasScrollY?"":" mbsc-flex-col")+m},(0,r.createElement)("div",{style:{height:n._placeholderSizeY+"px"},className:"mbsc-flex-none"}),n._rowBatch.map((function(e){var t=e.day,n=t?t.dateKey:"";return t&&A?(0,r.createElement)("div",{key:n,className:"mbsc-timeline-row-group mbsc-flex-col mbsc-flex-1-0"+m+h},e.rows.map((function(e){return q(e,n)}))):e.rows.map((function(e){return q(e,n)}))}))),(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSideSticky?void 0:C})),P&&e.renderSidebar&&(0,r.createElement)("div",{className:n._hasSideSticky?"":"mbsc-timeline-sidebar-col"}))),O&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"mbsc-flex-none",style:n._hasSticky?void 0:C}),(0,r.createElement)("div",{className:"mbsc-timeline-footer mbsc-flex"+m+d+h,ref:n._setFooterCont},P&&(0,r.createElement)("div",{className:"mbsc-timeline-resource-footer-cont "+F+m+d+h}),(0,r.createElement)("div",{className:"mbsc-timeline-footer-bg mbsc-flex-1-0 mbsc-flex"+m},(0,r.createElement)("div",{className:"mbsc-flex-none",style:{width:n._placeholderSizeX+"px"}}),(0,r.createElement)("div",{className:t.hasScrollX?"mbsc-flex-none":"mbsc-flex-1-1"},(0,r.createElement)("div",{className:"mbsc-flex"},D.map((function(t){if(t.dateKey!==V)return N?(0,r.createElement)("div",{key:t.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+m+d+h+(t.dateIndex<I-1&&(E||t.lastOfMonth)?" mbsc-timeline-day-border":"")+(w||n._isMulti?" mbsc-timeline-day-month":"")},(0,r.createElement)("div",{className:"mbsc-flex"},f.map((function(e,a){var i=!a,s=a===f.length-1;return(0,r.createElement)("div",{key:a,style:i&&!s?x:s&&!i?S:void 0,className:"mbsc-flex mbsc-flex-1-1 mbsc-timeline-column mbsc-timeline-footer-column"+m+d+h+(!n._displayTime||u?" mbsc-timeline-no-height":"")+(g>n._stepCell&&f[a+1]%g?"mbsc-timeline-no-border":"")+(i&&!s&&x||s&&!i&&S?" mbsc-flex-none":"")},B(t,e),n._timesBetween.map((function(n,r){var a=e+(r+1)*g;return a>p&&a<v&&B(t,a)})))}))),e.renderDayFooter&&(0,r.createElement)("div",{className:"mbsc-timeline-footer-date"+m+d+h},function(t){var a,i;return e.renderDayFooter&&vu(a=e.renderDayFooter({date:t.date,events:t.eventMap.all}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{className:"mbsc-timeline-footer-date-cont",dangerouslySetInnerHTML:i},a)}(t)),u&&(0,r.createElement)("div",{className:"mbsc-flex"},_.map((function(e){return(0,r.createElement)("div",{key:e.id,className:"mbsc-timeline-slot mbsc-flex-1-1"+d+m})})))):(0,r.createElement)("div",{key:t.timestamp,className:"mbsc-timeline-day mbsc-flex-1-0-0"+m+d+h},(0,r.createElement)("div",{className:"mbsc-timeline-footer-week mbsc-timeline-footer-week-last"+m+d+h},(0,r.createElement)("div",{className:"mbsc-timeline-footer-week-text"+m},function(t){switch(e.resolution){case"week":if(e.renderWeekFooter)return function(t){var a,i;return e.renderWeekFooter&&vu(a=e.renderWeekFooter({date:t.date,endDate:t.endDate,events:t.eventMap[t.timestamp]||[],isActive:t.isActive,startDate:t.date,weekNr:t.weekNr}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{dangerouslySetInnerHTML:i,className:"mbsc-timeline-footer-week-cont"},a)}(t);break;case"month":if(e.renderMonthFooter)return function(t){var a,i;return e.renderMonthFooter&&vu(a=e.renderMonthFooter({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{dangerouslySetInnerHTML:i,className:"mbsc-timeline-footer-month-cont"},a)}(t);break;case"quarter":if(e.renderQuarterFooter)return function(t){var a,i;return e.renderQuarterFooter&&vu(a=e.renderQuarterFooter({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{dangerouslySetInnerHTML:i,className:"mbsc-timeline-footer-month-cont"},a)}(t);break;case"year":if(e.renderYearFooter)return function(t){var a,i;return e.renderYearFooter&&vu(a=e.renderYearFooter({date:t.date,events:t.eventMap[t.timestamp]||[],isActive:t.isActive}))&&(i=n._safeHtml(a),n._shouldEnhance=!0),(0,r.createElement)("div",{dangerouslySetInnerHTML:i,className:"mbsc-timeline-footer-year-cont"},a)}(t)}}(t))))}))))),P&&e.renderSidebar&&(0,r.createElement)("div",{className:"mbsc-timeline-sidebar-footer-cont mbsc-timeline-sidebar-col"+m+d+h})))),l&&!t.isTouchDrag&&(0,r.createElement)("div",{className:"mbsc-calendar-dragging"}))}var Sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t.prototype._template=function(e,t){return xp(e,t,this)},t}(Ep);function Dp(e,t,n,a,i,s,o){var l,c=!e._colorEventList,u=s?"popover":"agenda",h=!s||e.state.showPopover,d=e._theme,f=o?o.eventContent:i.renderEventContent,m=o?o.event:i.renderEvent,p=s?e.state.popoverHost:void 0,v=t.original,g={__html:t.html},_=f?f(t):(0,r.createElement)("div",{className:"mbsc-event-text "+d,title:t.tooltip,dangerouslySetInnerHTML:g},void 0);vu(_)?(_=(0,r.createElement)("div",{className:"mbsc-event-content mbsc-flex-1-1 "+d,dangerouslySetInnerHTML:{__html:_}}),e._shouldEnhance=h&&u):_=(0,r.createElement)("div",{className:"mbsc-event-content mbsc-flex-1-1 "+d},_);var y=m?m(t):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"mbsc-event-color"+d+e._rtl,style:t.style}),_,(0,r.createElement)("div",{className:"mbsc-event-time"+(p?" mbsc-event-date":"")+d+e._rtl},t.allDayText&&(0,r.createElement)("div",{className:"mbsc-event-all-day"+d},t.allDayText),t.lastDay&&(0,r.createElement)("div",{className:"mbsc-event-until"+d},t.lastDay),t.start&&(0,r.createElement)("div",{className:"mbsc-event-start"+d},t.start),t.start&&t.end&&(0,r.createElement)("div",{className:"mbsc-event-sep"+d},"-"),t.end&&(0,r.createElement)("div",{className:"mbsc-event-end"+d},t.end)));return vu(y)&&(l={__html:y},y=void 0,e._shouldEnhance=h&&u),(0,r.createElement)(np,{className:"mbsc-event"+(c?"":" mbsc-colored-event")+(v.cssClass?" "+v.cssClass:""),"data-id":v.id,key:n,actionable:i.actionableEvents,dangerouslySetInnerHTML:l,drag:s&&(e._showEventLabels||p)&&(i.dragToMove||i.externalDrag),event:v,eventData:t,rtl:i.rtl,selected:!(!e._selectedEventsMap[t.uid]&&!e._selectedEventsMap[t.id]),style:c?void 0:t.style,theme:i.theme,themeVariant:i.themeVariant,onClick:function(t){return e._onEventClick({date:a,domEvent:t.domEvent,event:v,source:u})},onDoubleClick:function(t){return e._onEventDoubleClick({date:a,domEvent:t,event:v,source:u})},onContextMenu:function(t){return e._onEventRightClick({date:a,domEvent:t,event:v,source:u})},onHoverIn:function(t){var n=t.domEvent;return e._onEventHoverIn({date:a,domEvent:n,event:v,source:u})},onHoverOut:function(t){var n=t.domEvent;return e._onEventHoverOut({date:a,domEvent:n,event:v,source:u})},onDelete:e._onEventDelete,onDragEnd:p?p._onEventDragEnd:e._onLabelUpdateEnd,onDragModeOff:p?p._onEventDragModeOff:e._onLabelUpdateModeOff,onDragModeOn:p?p._onEventDragModeOn:e._onLabelUpdateModeOn,onDragMove:p?p._onEventDragMove:e._onLabelUpdateMove,onDragStart:p?p._onEventDragStart:e._onLabelUpdateStart},y)}var kp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._instanceService=new zf,t}return Sc(t,e),t.prototype._template=function(e,t){return function(e,t,n,a){var i;n._listDays||(n._listDays={}),n._showEventList&&(i=function(e,t,n){var a,i=e.theme,s=t._listDays,o=t.state.eventList||[],l=n?n.agenda:e.renderAgenda,c=n?n.agendaEmpty:e.renderAgendaEmpty;if(l&&void 0===t._eventListHTML)return l(o,e,s);if(!t._eventListNr){var u=c&&c(),h=vu(u)&&{__html:u};h?(a=(0,r.createElement)("div",{dangerouslySetInnerHTML:h}),t._shouldEnhance=t._list):a=(0,r.createElement)("div",{className:u?"":"mbsc-event-list-empty"+t._theme},u||e.noEventsText)}return(0,r.createElement)(ep,{theme:i,themeVariant:e.themeVariant,rtl:e.rtl},t._eventListNr?o.map((function(a,o){return(0,r.createElement)("div",{className:"mbsc-event-group"+(a.events.length?"":" mbsc-event-group-empty")+t._theme,key:o,ref:function(e){return s[a.timestamp]=e}},("day"!==t._eventListType||t._eventListSize>1)&&a.events.length>0&&(0,r.createElement)(tp,{theme:i,themeVariant:e.themeVariant,className:"mbsc-event-day"},a.date),a.events.map((function(r,i){return Dp(t,r,i,a.timestamp,e,void 0,n)})))})):a)}(e,n,a),vu(i)&&(n._eventListHTML={__html:i},n._shouldLoadDays=!0,n._shouldEnhance=!0,i=void 0));var s={amText:e.amText,clickToCreate:e.clickToCreate,dataTimezone:e.dataTimezone,dateFormat:e.dateFormat,dayNames:e.dayNames,dayNamesMin:e.dayNamesMin,dayNamesShort:e.dayNamesShort,displayTimezone:e.displayTimezone,dragBetweenResources:e.dragBetweenResources,dragInTime:e.dragInTime,dragToCreate:e.dragToCreate,dragToResize:e.dragToResize,eventMap:n._eventMap,eventOrder:e.eventOrder,exclusiveEndDates:e.exclusiveEndDates,firstDay:e.firstDay,fromText:e.fromText,getDate:e.getDate,getDay:e.getDay,getMaxDayOfMonth:e.getMaxDayOfMonth,getMonth:e.getMonth,getWeekNumber:e.getWeekNumber,getYear:e.getYear,monthNames:e.monthNames,monthNamesShort:e.monthNamesShort,onActiveChange:n._onActiveChange,onEventDragEnter:n._onEventDragEnter,onEventDragLeave:n._onEventDragLeave,pmText:e.pmText,refDate:n._refDate,renderDay:a?a.day:e.renderDay,rtl:e.rtl,selectedEventsMap:n._selectedEventsMap,showEventTooltip:e.showEventTooltip,theme:e.theme,themeVariant:e.themeVariant,timeFormat:e.timeFormat,timezonePlugin:e.timezonePlugin,toText:e.toText},o=Dc({},s,{allDayText:e.allDayText,checkSize:n._checkSize,colorsMap:n._colorsMap,currentTimeIndicator:n._currentTimeIndicator,dateFormatFull:e.dateFormatFull,dateFormatLong:e.dateFormatLong,dragTimeStep:n._dragTimeStep,dragToMove:e.dragToMove,eventDragEnd:n._onEventDragStop,eventOverlap:e.eventOverlap,extendDefaultEvent:e.extendDefaultEvent,externalDrag:e.externalDrag,externalDrop:e.externalDrop,groupBy:e.groupBy,height:t.height,immutableData:e.immutableData,invalidateEvent:e.invalidateEvent,invalidsMap:n._invalidsMap,maxDate:n._maxDate,minDate:n._minDate,moreEventsPluralText:e.moreEventsPluralText,moreEventsText:e.moreEventsText,navService:n._navService,navigateToEvent:n._navigateToEvent,newEventText:e.newEventText,onCellClick:n._onCellClick,onCellDoubleClick:n._onCellDoubleClick,onCellRightClick:n._onCellRightClick,onEventClick:n._onEventClick,onEventDelete:n._onEventDelete,onEventDoubleClick:n._onEventDoubleClick,onEventDragEnd:n._onEventDragEnd,onEventDragStart:n._onEventDragStart,onEventHoverIn:n._onEventHoverIn,onEventHoverOut:n._onEventHoverOut,onEventRightClick:n._onEventRightClick,onMoreClick:n._onMoreClick,onPopoverClose:n._onPopoverClose,renderBufferAfter:a?a.bufferAfter:e.renderBufferAfter,renderBufferBefore:a?a.bufferBefore:e.renderBufferBefore,renderEvent:a?a.scheduleEvent:e.renderScheduleEvent,renderEventContent:a?a.scheduleEventContent:e.renderScheduleEventContent,renderResource:a?a.resource:e.renderResource,resources:e.resources,scroll:n._shouldScrollSchedule,selected:n._selectedDateTime,showEventBuffer:e.showEventBuffer,width:t.width});return(0,r.createElement)(em,Dc({ref:n._setEl},s,{activeDate:n._active,calendarScroll:n._calendarScroll,calendarType:n._calendarType,colors:e.colors,context:e.context,cssClass:n._cssClass,downIcon:e.downIcon,dragData:t.labelDragData,dragToMove:e.dragToMove||e.externalDrag,endDay:n._rangeEndDay,eventRange:n._rangeType,eventRangeSize:n._showSchedule?n._scheduleSize:n._showTimeline?n._timelineSize:n._eventListSize,hasContent:n._showEventList||n._showSchedule||n._showTimeline,hasPicker:!0,height:e.height,invalid:e.invalid,instanceService:n._instanceService,labels:e.labels,labelList:n._calendarLabelList,labelsMap:n._labelsMap,marked:e.marked,marksMap:n._marksMap,max:e.max,min:e.min,mouseSwipe:!e.dragToCreate&&"single"!==e.clickToCreate||!n._showEventLabels&&!n._showEventCount,mousewheel:e.mousewheel,navService:n._navService,navView:n._navView,nextIconH:e.nextIconH,nextIconV:e.nextIconV,nextPageText:e.nextPageText,noOuterChange:!n._showEventList,onCellHoverIn:n._onCellHoverIn,onCellHoverOut:n._onCellHoverOut,onDayClick:n._onDayClick,onDayDoubleClick:n._onDayDoubleClick,onDayRightClick:n._onDayRightClick,onGestureStart:n._onGestureStart,onLabelClick:n._onLabelClick,onLabelDoubleClick:n._onLabelDoubleClick,onLabelRightClick:n._onLabelRightClick,onLabelHoverIn:n._onLabelHoverIn,onLabelHoverOut:n._onLabelHoverOut,onLabelDelete:n._onEventDelete,onLabelUpdateStart:n._onLabelUpdateStart,onLabelUpdateMove:n._onLabelUpdateMove,onLabelUpdateEnd:n._onLabelUpdateEnd,onLabelUpdateModeOn:n._onLabelUpdateModeOn,onLabelUpdateModeOff:n._onLabelUpdateModeOff,onPageChange:n._onPageChange,onPageLoaded:n._onPageLoaded,onPageLoading:n._onPageLoading,onResize:n._onResize,pageLoad:n._pageLoad,prevIconH:e.prevIconH,prevIconV:e.prevIconV,prevPageText:e.prevPageText,resourcesMap:n._resourcesMap,responsiveStyle:!0,renderHeader:a?a.header:e.renderHeader,renderDayContent:a?a.dayContent:e.renderDayContent,renderLabel:a?a.label:e.renderLabel,renderLabelContent:a?a.labelContent:e.renderLabelContent,selectedDates:n._selectedDates,selectView:"page",showCalendar:n._showCalendar,showControls:e.showControls,showLabelCount:n._showEventCount,showOuterDays:n._showOuterDays,showSchedule:n._showSchedule||n._showTimeline,showToday:e.showToday,showWeekNumbers:n._showWeekNumbers,size:n._calendarSize,startDay:n._rangeStartDay,swipe:!t.isTouchDrag,upIcon:e.upIcon,valid:e.valid,weeks:n._calendarSize,width:e.width,eventText:e.eventText,eventsText:e.eventsText,fromText:e.fromText,moreEventsPluralText:e.moreEventsPluralText,moreEventsText:e.moreEventsText,todayText:e.todayText,toText:e.toText,weekText:e.weekText,yearSuffix:e.yearSuffix}),n._showDate&&(0,r.createElement)("div",{className:"mbsc-schedule-date-header mbsc-flex"+n._theme+n._hb},n._showSchedule&&!n._showCalendar&&e.resources&&(0,r.createElement)("div",{className:"mbsc-schedule-time-col"}),(0,r.createElement)("div",{className:"mbsc-schedule-date-header-text mbsc-flex-1-1"+n._theme},n._selectedDateHeader),n._showSchedule&&!n._showCalendar&&e.resources&&(0,r.createElement)("div",{className:"mbsc-schedule-fake-scroll-y"})),n._showEventList&&(0,r.createElement)("div",{className:"mbsc-flex-1-1 mbsc-event-list"+(t.isListScrollable?" mbsc-event-list-scroll":""),dangerouslySetInnerHTML:n._eventListHTML,onScroll:n._onScroll,ref:n._setList},i),n._showSchedule&&(0,r.createElement)(wp,Dc({},o,{endDay:n._scheduleEndDay,endTime:n._scheduleEndTime,maxEventStack:n._scheduleMaxEventStack,minEventWidth:n._scheduleMinEventWidth,renderDayContent:a?a.dayContent:e.renderDayContent,showAllDay:n._showScheduleAllDay,showDays:n._showScheduleDays,size:n._scheduleSize,startDay:n._scheduleStartDay,startTime:n._scheduleStartTime,timeCellStep:n._scheduleTimeCellStep,timeLabelStep:n._scheduleTimeLabelStep,timezones:n._scheduleTimezones,type:n._scheduleType,onWeekDayClick:n._onWeekDayClick})),n._showTimeline&&(0,r.createElement)(Sp,Dc({},o,{connections:e.connections,downIcon:e.chevronIconDown,dragBetweenSlots:e.dragBetweenSlots,dragToCreate:!e.slots&&e.dragToCreate,dragToResize:!e.slots&&e.dragToResize,endDay:n._timelineEndDay,endTime:n._timelineEndTime,eventHeight:n._timelineEventHeight,eventList:n._timelineListing,maxEventStack:n._timelineMaxEventStack,nextIcon:e.nextIconH,nextIconRtl:e.prevIconH,onResourceCollapse:n._proxy,onResourceExpand:n._proxy,quarterText:e.quarterText,renderDayFooter:a?a.dayFooter:e.renderDayFooter,renderHour:a?a.hour:e.renderHour,renderHourFooter:a?a.hourFooter:e.renderHourFooter,renderMonth:a?a.month:e.renderMonth,renderMonthFooter:a?a.monthFooter:e.renderMonthFooter,renderQuarter:a?a.quarter:e.renderQuarter,renderQuarterFooter:a?a.quarterFooter:e.renderQuarterFooter,renderWeek:a?a.week:e.renderWeek,renderWeekFooter:a?a.weekFooter:e.renderWeekFooter,renderYear:a?a.year:e.renderYear,renderYearFooter:a?a.yearFooter:e.renderYearFooter,renderResourceFooter:a?a.resourceFooter:e.renderResourceFooter,renderResourceHeader:a?a.resourceHeader:e.renderResourceHeader,renderSidebar:a?a.sidebar:e.renderSidebar,renderSidebarFooter:a?a.sidebarFooter:e.renderSidebarFooter,renderSidebarHeader:a?a.sidebarHeader:e.renderSidebarHeader,renderSlot:a?a.slot:e.renderSlot,resolution:n._timelineResolution,resolutionVertical:n._timelineResolutionVertical,rowHeight:n._timelineRowHeight,weekNumbers:n._showTimelineWeekNumbers,weekText:e.weekText,size:n._timelineSize,slots:e.slots,startDay:n._timelineStartDay,startTime:n._timelineStartTime,timeCellStep:n._timelineTimeCellStep,timeLabelStep:n._timelineTimeLabelStep,type:n._timelineType,virtualScroll:!n._print&&n._timelineVirtualScroll})),(0,r.createElement)(Bf,{anchor:n._anchor,closeOnScroll:!0,contentPadding:!1,context:t.popoverContext||e.context,cssClass:"mbsc-calendar-popup "+(t.popoverHidden?"mbsc-popover-hidden ":"")+n._popoverClass,display:"anchored",isOpen:t.showPopover,locale:e.locale,maxHeight:"24em",onClose:n._onPopoverClose,rtl:e.rtl,scrollLock:!1,showOverlay:!1,theme:e.theme,themeVariant:e.themeVariant},t.popoverList&&(0,r.createElement)(ep,{ref:n._setPopoverList,theme:e.theme,themeVariant:e.themeVariant,rtl:e.rtl,className:"mbsc-popover-list"},t.popoverList.map((function(r,i){return Dp(n,r,i,t.popoverDate,e,!0,a)})))),t.labelDragData&&t.labelDragData.draggedEvent&&!t.isTouchDrag&&(0,r.createElement)("div",{className:"mbsc-calendar-dragging"}))}(e,t,this)},t}(Zm),Cp=[],Tp=[];function Ip(e,t,n,r,a){return Dc({closeOnOverlayClick:!1,context:t.context,cssClass:"mbsc-alert",display:t.display||"center",onClose:function(){e.shift()},onClosed:function(){Np(t,r,a)},theme:t.theme,themeVariant:t.themeVariant},n)}function Mp(e,t,n,r){return Ip(Tp,e,{animation:e.animation||(r?"pop":void 0),buttons:[],closeOnOverlayClick:!1,contentPadding:r,cssClass:"mbsc-"+(r?"toast":"snackbar")+" mbsc-"+(e.color?e.color:"color-none")+" "+(e.cssClass||""),display:e.display||"bottom",focusOnClose:!1,focusOnOpen:!1,focusTrap:!1,onOpen:function(t,n){!function(e,t){!1!==e.duration&&setTimeout((function(){t.close()}),e.duration||3e3)}(e,n)},scrollLock:!1,setActive:!1,showOverlay:!1,touchUi:!0},t,n)}function Np(e,t,n,r){n&&n(r),e.callback&&e.callback(r),e.onClose&&e.onClose(r),Cp.length?Cp[0].open():Tp.length&&Tp[0].open(),t&&t()}function Lp(e){var t=Tp[0];Tp.push(e),Cp.length||(t?t.close():e.open())}Lc&&_h.Promise;var Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.open=function(){t._popup&&function(e){Cp.length||e.open(),Cp.push(e)}(t._popup)},t.close=function(){t._popup&&t._popup.close()},t._setRef=function(e){t._popup=e},t}return Sc(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.isOpen!==t.isOpen&&(t.isOpen?this.open():this.close())},t}(r.PureComponent),Ap=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.open=function(){t._popup&&Lp(t._popup)},t}return Sc(t,e),t.prototype.render=function(){var e=this.props,t=function(e,t,n){return Mp(e,void 0,void 0,!0)}(e);return(0,r.createElement)(Bf,Dc({ref:this._setRef},t),function(e){return(0,r.createElement)("div",{className:"mbsc-toast-background mbsc-toast-message"},e.message||"")}(e))},t}(Rp),Op=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.open=function(){t._popup&&Lp(t._popup)},t._onButtonClick=function(){var e=t.props;t.close(),e.button&&e.button.action&&e.button.action()},t}return Sc(t,e),t.prototype.render=function(){var e=this.props,t=function(e,t,n){return Mp(e,void 0,void 0,!1)}(e);return(0,r.createElement)(Bf,Dc({ref:this._setRef},t),function(e,t){return(0,r.createElement)("div",{className:"mbsc-toast-background mbsc-snackbar-cont mbsc-flex"},(0,r.createElement)("div",{className:"mbsc-snackbar-message mbsc-flex-1-1"},e.message||""),e.button&&(0,r.createElement)(bd,{className:"mbsc-snackbar-button",icon:e.button.icon,onClick:t,theme:e.theme,themeVariant:e.themeVariant,variant:"flat"},e.button.text))}(e,this._onButtonClick))},t}(Rp),Pp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._options=[],t._selectMap=new Map,t._onFilterChange=function(e){var n=e.target.value;clearTimeout(t._debounce),t._filterInput.value=n,t._debounce=setTimeout((function(){t._filter(n)}),300)},t._onFilterClear=function(){var e=t._filterInput;e&&(e.value=""),t._filter("")},t._onResize=function(e){t.setState({width:e.windowWidth})},t._onChange=function(e){var n=e.value;t._parsedValue=n,t._saveSelected(n),t._change(n),t._hook("onChange",e)},t._onClose=function(e){t._hook("onClose",e),t._filterText&&setTimeout((function(){return t._onFilterClear()}),100)},t._onWheelMove=function(e){var n=e.wheelIndex,r=e.selection,a=e.dataItem;if(!t._selectOnScroll&&!r&&1===n){var i=Iu(t._options,(function(e){return e.value===a.value}));return[a.isGroup?a.value:t._groupReMap[i.group||""]]}},t._shouldValidate=function(e,n){var r=e.selectMultiple!==n.selectMultiple||!e.filter&&e.data!==n.data||t._groupChanged;return t._groupChanged=!1,r},t._writeValue=function(e,n,r){var a=e.value;if(e.value=n,t._isSelect){fu(r)||(r=[r]);for(var i=t.s.selectElement,s=i.options,o=!1,l=0;l<s.length;l++){var c=s[l],u=c.selected;c.selected=r.indexOf(c.value)>-1,u!==c.selected&&(o=!0)}return o&&Gh(i,ld),o}return a!==n},t._format=function(e){var n=e[t.s.showGroupWheel?1:0],r=t.s.selectMultiple?n:[n];return(r.map&&r.map((function(e){if(t._map)return t._map.get(e)}))||[]).join(", ")},t._parse=function(e){var n,r=t._map,a=t._reMap,i=t.s.selectMultiple,s=t.s.defaultSelection,o=i?s?void 0!==s.length?s:s.slice():[]:void 0!==s?s:null;if(t._parsedValue=e,r)if(i&&!gu(e)){var l=[];if(void 0===e.length)l.push(e);else if(vu(e))for(var c=0,u=e.split(", ");c<u.length;c++){var h=u[c],d=a.get(h);void 0!==d&&l.push(d)}else for(var f=0,m=e;f<m.length;f++){var p=m[f];r.has(p)&&l.push(p)}n=l}else r.has(e)?n=e:vu(e)&&a.has(e)&&(n=a.get(e));if(void 0===n&&(n=o),t.s.showGroupWheel){var v=i?n[0]:n,g=Iu(t._options,(function(e){return e.value===v}));return[g&&t._groupReMap[g.group||""],n]}return[n]},t._get=function(e){var n=e[t.s.showGroupWheel?1:0];return t.s.selectMultiple?n||[]:n},t._valueEquals=function(e,n){return t.s.selectMultiple?function(e,t){if(e===t)return!0;if(e&&!t||t&&!e)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e||[],n||[]):e===n},t._validate=function(e){var n=e.values,r=e.direction,a=e.wheels,i=e.index,s=t._disabled,o=t._selectOnScroll,l=t.s.selectMultiple,c=t.s.showGroupWheel,u=c?[t._disabledGroups,s]:[s],h=c?1:0,d=t._get(n),f={disabled:u};if(i===h||void 0===i)if(l){var m=[];d.forEach((function(e){s.get(e)||m.push(e)})),f.valid=t._parse(m),void 0!==i&&(f.valid[0]=n[0])}else{if(gu(d)&&!o)return f.valid=c?[null,null]:[null],f;var p=nm(a[h],n[h],s,r);if(c){var v=Iu(t._options,(function(e){return e.value===p}));f.valid=[t._groupReMap[v.group||""],p]}else f.valid=[p]}else{var g=nm(a[0],n[0],u[0],r),_="mbsc-group-0"===g?void 0:t._groupMap[g],y=Iu(t._options,(function(e){return!(e.group!==_||o&&s.get(e.value))})),b=t._touchUi||void 0===y.group?y.value:g;if(o)f.valid=[g,b];else{f.valid=[g,n[1]];var w=l?[b]:b,E=t._touchUi?g:void 0;f.indexes=[E,w]}}return f},t._setScroller=function(e){t._scroller=e},t._setInput=function(e){t._filterInput=e&&e.nativeElement},t._saveSelected=function(e){if(t.s.selectMultiple){var n=new Map;Qh(e,(function(e){var r=t._map.get(e);n.set(e,r)})),t._selectMap=n}},t}return Sc(t,e),t.prototype._change=function(e){},t.prototype.reloadOptionElements=function(){var e=this;this._optionsReloaded=!0,this._setOptionsFromElm(),setTimeout((function(){e.forceUpdate()}))},t.prototype.setVal=function(e){this._proxy("setVal",[e])},t.prototype.getVal=function(){return gu(this._parsedValue)?this._parsedValue:this._proxy("getVal")},t.prototype.setTempVal=function(e){this._proxy("setTempVal",[e])},t.prototype.getTempVal=function(){return this._proxy("getTempVal")},t.prototype.open=function(){this._proxy("open")},t.prototype.close=function(){this._proxy("close")},t.prototype._render=function(e){var t=this._prevS,n=this._touchUi&&(!e.selectMultiple||"ios"===(e.baseTheme||e.theme)),r=this._touchUi&&!e.selectMultiple,a=e.element!==t.element||e.selectElement!==t.selectElement,i=e.data!==t.data,s=i||this._optionsReloaded,o=e.placeholder,l=e.display!==t.display||o!==t.placeholder||r!==this._selectOnScroll,c=s||a||e.invalid!==t.invalid||this._selectOnScroll!==r,u=e.showGroupWheel!==t.showGroupWheel;if(this._selectOnScroll=r,u&&(this._groupChanged=!0),(a||l)&&(this._isSelect=void 0!==e.selectElement,this._isSelect?this._setOptionsFromElm():e.element||(this._options=[])),(i||l)&&e.data&&this._createOptionList(e.data),c&&(this._disabled=function(e,t){var n=new Map;return e&&e.forEach((function(e){e.disabled&&n.set(e.value,!0)})),t&&t.forEach((function(e){n.set(e,!0)})),n}(this._options,e.invalid),this._disabledGroups=function(e,t){var n=new Map;return t&&t.forEach((function(t){var r=t.group,a=t.value;r&&(n.has(r)||n.set(r,!0),e.get(a)||n.set(r,!1))})),n}(this._disabled,r?this._options:void 0)),(c||u||n!==this._spaceAround||e.filter!==t.filter||e.selectMultiple!==t.selectMultiple)&&this._createWheels(this._filterText,n),s||e.filter!==t.filter||e.touchUi!==t.touchUi||e.rows!==t.rows){var h=e.filter?1/0:this._wheels[0][e.showGroupWheel?1:0].data.length,d=(this._respProps||{}).rows,f=this.props.rows,m=this._touchUi?e.rows:Math.min(d||f||7,h);this._rows=f||m}this._wheelWidth=e.wheelWidth||(e.filter?e.showGroupWheel?[150,250]:400:void 0),this._spaceAround=n,this._optionsReloaded=!1},t.prototype._createOptionList=function(e){var t=this.s,n=t.placeholder,r=[],a=new Map,i=new Map;this._selectMap.forEach((function(e,t){a.set(t,e)}));var s=!1,o=function(e,t){e&&void 0!==e.value||(e={text:e,value:e}),gu(e.value)&&(s=!0),a.set(e.value,e.text),i.set(e.text,e.value),r.splice(t,0,e)};e.forEach(o),"inline"===t.display&&this._selectOnScroll&&n&&!s&&o({value:"",text:n},0),this._map=a,this._reMap=i,this._options=r},t.prototype._proxy=function(e,t){var n=this._inst||this._scroller;if(n)return n[e].apply(n,t)},t.prototype._createWheels=function(e,t){var n=this,r=this.s,a=r.selectMultiple,i=r.filter&&e?function(e,t){if(!t)return e;var n=t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(n,"i");return e.filter((function(e){return r.test(e.text)}))}(this._options,e):this._options,s=[],o=[],l={};this._groupMap={},this._groupReMap={},i.forEach((function(e){var t=e.group,r=void 0===t?"":t,a=l[r],i={display:e.text,value:e.value,data:e,disabled:n._disabled.get(e.value)};a?a.push(i):l[r]=[i]}));var c=0;Object.keys(l).forEach((function(e){var t=""===e?"mbsc-group-0":"mbsc-group-"+ ++c,r=l[e];""===e?(s.unshift.apply(s,r),n._selectOnScroll&&o.unshift({display:"",value:t})):(s.push({display:e,isGroup:!0,value:t}),s.push.apply(s,r),o.push({display:e,value:t}),n._disabled.set(t,!0)),n._groupMap[t]=e,n._groupReMap[e]=t}));var u={checkmark:!0,circular:!1,closeOnTap:!a,data:s,label:r.label,multiple:a,spaceAround:t},h={checkmark:!1,circular:!1,cssClass:"mbsc-select-group-wheel"+(a?" mbsc-select-group-wheel-multi":""),data:o,label:r.groupText,multiple:!1,spaceAround:t};this._noResults=r.filter&&!i.length,this._wheels=r.showGroupWheel?[[h,u]]:[[u]]},t.prototype._setOptionsFromElm=function(){for(var e=this.s.selectElement,t=Vh(e),n=e.options,r=[],a=!1,i=!1,s=0;s<n.length;s++){var o=n[s],l=o.parentElement,c="optgroup"===l.nodeName.toLowerCase()?l.label:void 0;""!==o.value?r.push({disabled:o.disabled,group:c,text:o.text,value:o.value}):a=!0,o.defaultSelected&&(i=!0)}!a&&t&&(e.insertBefore(t.createElement("option"),e.childNodes[0]||null),i||(e.value="")),this._createOptionList(r)},t.prototype._filter=function(e){!1!==this._hook("onFilter",{filterText:e})&&(this._filterText=e,this._createWheels(e,this._spaceAround)),this.forceUpdate()},t.defaults=Dc({},Tf.defaults,{dropdown:!0,filterEmptyText:"No results",filterPlaceholderText:"Search",groupText:"Group",rows:5}),t._name="Select",t}(sd);var Fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._filterRenderer=function(){return function(e){var t=e.s;return(0,r.createElement)("div",{className:"mbsc-select-filter-cont"+e._theme+e._rtl},(0,r.createElement)(vm,{ref:e._setInput,autoComplete:"off",className:"mbsc-select-filter",inputClass:"mbsc-select-filter-input",placeholder:t.filterPlaceholderText,onInput:e._onFilterChange,theme:t.theme,themeVariant:t.themeVariant,rtl:t.rtl,inputStyle:"box"}),e._filterText?(0,r.createElement)(od,{className:"mbsc-select-filter-clear"+e._rtl,onClick:e._onFilterClear,svg:t.clearIcon,theme:t.theme}):null)}(t)},t._filterEmptyRenderer=function(){return function(e){return e._noResults?(0,r.createElement)("div",{className:"mbsc-select-empty-text mbsc-flex"+e._theme},e.s.filterEmptyText):null}(t)},t}return Sc(t,e),t.prototype._template=function(e){return function(e,t,n,a){return(0,r.createElement)(_m,{ariaLabel:e.ariaLabel,activeElm:e.filter?".mbsc-select-filter-input":void 0,anchor:e.anchor,animation:e.animation,buttons:e.buttons,cancelText:e.cancelText,circular:e.circular,className:(e.cssClass||"")+(t._noResults?" mbsc-select-empty":"")+" mbsc-select-scroller mbsc-select-scroller-"+e.display,clearText:e.clearText,closeOnEsc:e.closeOnEsc,closeOnOverlayClick:e.closeOnOverlayClick,closeText:e.closeText,context:e.context,defaultValue:e.defaultValue,disabled:e.disabled,display:e.display,dropdown:e.dropdown,element:e.element,endIcon:e.endIcon,endIconSrc:e.endIconSrc,endIconSvg:e.endIconSvg,error:e.error,errorMessage:e.errorMessage,focusOnClose:e.focusOnClose,focusOnOpen:e.focusOnOpen,focusTrap:e.focusTrap,formatValue:t._format,getValue:t._get,headerText:e.headerText,height:e.height,inputComponent:e.inputComponent,inputProps:e.inputProps,inputStyle:e.inputStyle,invalid:e.invalid,itemHeight:e.itemHeight,isOpen:e.isOpen,label:e.label,labelStyle:e.labelStyle,maxHeight:e.maxHeight,maxWheelWidth:e.maxWheelWidth,maxWidth:e.maxWidth,minWheelWidth:e.minWheelWidth,modelValue:e.modelValue,name:e.name,onCancel:t._proxyHook,onChange:t._onChange,onClose:t._onClose,onOpen:t._proxyHook,onResize:t._onResize,onTempChange:t._proxyHook,onWheelMove:t._onWheelMove,parseValue:t._parse,placeholder:e.placeholder,ref:t._setScroller,renderInContent:t._filterEmptyRenderer,renderItem:e.renderItem,renderPreContent:e.filter?t._filterRenderer:void 0,rows:t._rows,rtl:e.rtl,selectMultiple:e.selectMultiple,selectOnScroll:t._selectOnScroll,setText:e.setText,shouldValidate:t._shouldValidate,showArrow:e.showArrow,showInput:e.showInput,showOnClick:e.showOnClick,showOnFocus:e.showOnFocus,showOverlay:e.showOverlay,startIcon:e.startIcon,startIconSrc:e.startIconSrc,startIconSvg:e.startIconSvg,tagInput:e.tagInput,theme:e.theme,themeVariant:e.themeVariant,touchUi:t._touchUi,validate:t._validate,value:e.value,valueEquality:t._valueEquals,valueMap:t._map,wheelWidth:t._wheelWidth,wheels:t._wheels,width:e.width,writeValue:t._writeValue},n)}(e,this,e.children)},t}(Pp);gc.fw="react",gc.fwv=r.version,Uc.datetime=vh,Uc.http=Jh;var Vp=n(579);!function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Hc[r]=e[r]}Lc&&jc.next(Hc)}({theme:"ios",themeVariant:"light"});const zp=new Date,Hp=[],Up=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#3f51b5","#009788","#4baf4f","#7e5d4e"];const Bp=function(){const[e,t]=(0,r.useState)(),[n,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(Hp),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[p,v]=(0,r.useState)(),[g,_]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[w,E]=(0,r.useState)(null),[S,D]=(0,r.useState)(null),[k,C]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[M,N]=(0,r.useState)(!0),[L,R]=(0,r.useState)(0),[A,O]=(0,r.useState)([]),[P,F]=(0,r.useState)("busy"),[V,z]=(0,r.useState)(zp),[H,U]=(0,r.useState)(!1),[B,W]=(0,r.useState)(null),[j,Y]=(0,r.useState)(""),[q,K]=(0,r.useState)(""),[G,Q]=(0,r.useState)(""),[X,$]=(0,r.useState)(!1),[J,Z]=(0,r.useState)(""),[ee,te]=(0,r.useState)([]),[ne,re]=(0,r.useState)(null),[ae,ie]=(0,r.useState)(null),se=(0,r.useRef)(),oe=(0,r.useCallback)((async()=>{try{const[e,t]=await Promise.all([uc(Sl(pc,"test","eventId")),dc(xl(pc,"workerCollection"))]);if(e.exists()){const n=e.data();he(n,t.docs)}else console.log("No such document!")}catch(e){console.error("Error fetching document: ",e)}}),[]);(0,r.useEffect)((()=>{oe()}),[oe]),(0,r.useEffect)((()=>{(async()=>{const e=xl(pc,"test"),t=(await dc(e)).docs.map((e=>({id:e.id,...e.data()})));a(t),s(t)})()}),[]);const le=(0,r.useCallback)((async()=>{const e=o.start instanceof Object?o.start.toISOString():o.start,t=o.end instanceof Object?o.end.toISOString():o.end,n=ee.map((e=>{const t=_e.find((t=>t.value===e));return{id:e,name:t?t.text:""}})),r={title:k||"\uc0c8 \uc774\ubca4\ud2b8",start:e,end:t,selectedPM:ce(J),selectedWorker:n,color:j||""};try{if(g){const e=Sl(pc,"test",o.id);await function(e,t,n){e=vl(e,wl);const r=vl(e.firestore,kl),a=zl(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=x(t))||t instanceof Ml?Wl(a,"updateDoc",e._key,t,n,o):Bl(a,"updateDoc",e._key,t),fc(r,[i.toMutation(e._key,ma.exists(!0))])}(e,r);const t=i.map((e=>e.id===o.id?{id:e.id,...r}:e));s(t)}else{const e=await function(e,t){const n=vl(e.firestore,kl),r=Sl(e),a=ac(e.converter,t);return fc(n,[Hl(zl(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,ma.exists(!1))]).then((()=>r))}(xl(pc,"test"),r);s([...i,{id:e.id,...r}])}d(!1)}catch(a){console.error("\uc774\ubca4\ud2b8 \uc800\uc7a5 \uc911 \uc624\ub958 \ubc1c\uc0dd:",a)}}),[g,i,k,A,J,ee,j]),ce=e=>{const t=_e.find((t=>t.value===e));return t?t.text:""},ue=(0,r.useCallback)((async e=>{try{await(t=Sl(pc,"test",e.id),fc(vl(t.firestore,kl),[new Ca(t._key,ma.none())])),s(i.filter((t=>t.id!==e.id)))}catch(n){console.error("Error deleting event:",n)}var t}),[i]),he=e=>{console.log("event="+JSON.stringify(e)),C(e.title||""),I(""),O([e.start,e.end]),Y(e.color||"");const{selectedPM:t,selectedWorker:n}=e;Z(t);const r=Array.isArray(n)?n.map((e=>e.id)):[];te(r),d(!0)},de=(0,r.useMemo)((()=>({calendar:{labels:!0,popover:!0,popoverClass:"custom-event-popover"}})),[]),fe=(0,r.useMemo)((()=>["cancel",{text:"Set",keyCode:"enter",handler:()=>{Y(G),U(!1)},cssClass:"mbsc-popup-button-primary"}]),[G]),me=((0,r.useCallback)((e=>{re(e)}),[]),(0,r.useCallback)((e=>{ie(e)}),[]),(0,r.useCallback)((()=>{m(!1)}),[])),pe=(0,r.useMemo)((()=>({medium:{display:"anchored",touchUi:!1,buttons:[]}})),[]),ve=(0,r.useMemo)((()=>({action:()=>{s((e=>[...e,c]))},text:"Undo"})),[c]),ge=(0,r.useCallback)((()=>{console.log("Snackbar is closing"),$(!1)}),[]),_e=[{text:"\uc774\ubbfc\uaddc",value:1},{text:"\uace0\uc815\ud55c",value:2},{text:"\ubcc0\uc6b0\uc11d",value:3},{text:"\uc774\uc2b9\uc5fd",value:4},{text:"\uc1a1\uac74\ud76c",value:5},{text:"\ubc15\ud0dc\ud658",value:6},{text:"\uc1a1\uc9c0\ud638",value:7},{text:"\uae40\ubfe1\ubfe1",value:8},{text:"\uc774\ubfcc\ub9ac",value:9}],ye=(0,r.useCallback)((e=>{const t=e.original.selectedWorker?e.original.selectedWorker.length:0;return(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("div",{children:e.title}),(0,Vp.jsxs)("div",{className:"md-custom-event-cont",children:[(0,Vp.jsxs)("div",{className:"mbsc-custom-event-name",children:[(0,Vp.jsx)("b",{children:" PM "}),": ",e.original.selectedPM]}),(0,Vp.jsxs)("div",{className:"mbsc-custom-event-name",children:[(0,Vp.jsx)("b",{children:" \uc791\uc5c5\uc790 "})," : ",t]})]})]})}),[]),be=(0,r.useCallback)((e=>{Z(e.value)}),[]),we=(0,r.useCallback)((e=>{const t=Array.isArray(e.value)?e.value:[e.value];te(t)}),[]),Ee=(0,r.useCallback)((e=>{C(e.target.value)}),[]),xe=((0,r.useCallback)((e=>{I(e.target.value)}),[]),(0,r.useCallback)((e=>{N(e.target.checked)}),[]),(0,r.useCallback)((e=>{R(e.target.value)}),[]),(0,r.useCallback)((e=>{O(e.value)}),[])),Se=((0,r.useCallback)((e=>{F(e.target.value)}),[]),(0,r.useCallback)((()=>{ue(o),d(!1)}),[ue,o])),De=(0,r.useCallback)((e=>{z(e.date)}),[]),ke=(0,r.useCallback)((e=>{_(!0),l({...e.event}),he(e.event),b(e.domEvent.target),d(!0);const{selectedPM:t,selectedWorker:n}=e.event;Z(t);const r=Array.isArray(n)?n.map((e=>e.id)):[];te(r)}),[he]),Ce=(0,r.useCallback)((e=>{_(!1),l(e.event),he(e.event),b(e.target),d(!0)}),[he]),Te=(0,r.useCallback)((e=>{ue(e.event)}),[ue]),Ie=(0,r.useCallback)((()=>{}),[]),Me=((0,r.useMemo)((()=>M?["date"]:["datetime"]),[M]),(0,r.useMemo)((()=>M?{medium:{controls:["calendar"],touchUi:!1}}:{medium:{controls:["calendar","time"],touchUi:!1}}),[M])),Ne=(0,r.useMemo)((()=>g?"Edit event":"New Event"),[g]),Le=(0,r.useMemo)((()=>g?["cancel",{handler:()=>{le()},keyCode:"enter",text:"Save",cssClass:"mbsc-popup-button-primary"}]:["cancel",{handler:()=>{le()},keyCode:"enter",text:"Add",cssClass:"mbsc-popup-button-primary"}]),[g,le]),Re=(0,r.useMemo)((()=>({medium:{display:"anchored",width:400,fullScreen:!1,touchUi:!1}})),[]),Ae=(0,r.useCallback)((()=>{g||s([...i]),d(!1)}),[g,i]),Oe=(0,r.useCallback)((e=>{Q(e)}),[]),Pe=(0,r.useCallback)((e=>{Oe(j||""),W(e.currentTarget),U(!0)}),[Oe,j]),Fe=(0,r.useCallback)((e=>{const t=e.currentTarget.getAttribute("data-value");Q(t),K(t),se.current.s.buttons.length||(Y(t),U(!1))}),[K,Q,Y,se]);return(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)(kp,{view:de,data:n,renderEventContent:ye,clickToCreate:"double",dragToCreate:!0,dragToMove:!0,dragToResize:!0,selectedDate:V,onSelectedDateChange:De,onEventClick:ke,onEventCreated:Ce,onEventDeleted:Te,className:"mainCalender",onEventUpdated:Ie}),(0,Vp.jsxs)(Bf,{display:"center",contentPadding:!1,headerText:Ne,anchor:y,buttons:Le,isOpen:h,onClose:Ae,responsive:Re,children:[(0,Vp.jsxs)("div",{className:"mbsc-form-group",children:[(0,Vp.jsx)(vm,{label:"\ud604\uc7a5\uba85",value:k,onChange:Ee}),(0,Vp.jsx)(Fp,{label:"PM",data:_e,display:"center",value:J,onChange:be,touchUi:!1}),(0,Vp.jsx)(Fp,{label:"\uc791\uc5c5\uc790",display:"center",data:_e,value:ee,onChange:we,selectMultiple:!0,touchUi:!1})]}),(0,Vp.jsxs)("div",{className:"mbsc-form-group",children:[(0,Vp.jsx)(vm,{ref:E,label:"Start & End",placeholder:"Please Select...",value:A.length?"".concat(new Date(A[0]).toLocaleDateString()," - ").concat(new Date(A[1]).toLocaleDateString()):""}),(0,Vp.jsx)(Um,{select:"range",controls:["calendar"],touchUi:!0,display:"anchored",startInput:w,endInput:S,showRangeLabels:!1,responsive:Me,onChange:xe,value:A})]}),(0,Vp.jsxs)("div",{onClick:Pe,className:"event-color-c",children:[(0,Vp.jsx)("div",{className:"event-color-label",children:"Color"}),(0,Vp.jsx)("div",{className:"event-color",style:{background:j}})]}),g?(0,Vp.jsx)("div",{className:"mbsc-button-group",children:(0,Vp.jsx)(bd,{className:"mbsc-button-block",color:"danger",variant:"outline",onClick:Se,children:"Delete event"})}):null]}),(0,Vp.jsxs)(Bf,{display:"anchored",contentPadding:!1,showArrow:!1,showOverlay:!1,anchor:B,isOpen:H,buttons:fe,responsive:pe,ref:se,onClose:()=>U(!1),children:[(0,Vp.jsx)("div",{className:"crud-color-row",children:Up.map(((e,t)=>t<5?(0,Vp.jsx)("div",{onClick:Fe,className:"crud-color-c "+(G===e?"selected":""),"data-value":e,children:(0,Vp.jsx)("div",{className:"crud-color mbsc-icon mbsc-font-icon mbsc-icon-material-check",style:{background:e}})},t):null))}),(0,Vp.jsx)("div",{className:"crud-color-row",children:Up.map(((e,t)=>t>=5?(0,Vp.jsx)("div",{onClick:Fe,className:"crud-color-c "+(G===e?"selected":""),"data-value":e,children:(0,Vp.jsx)("div",{className:"crud-color mbsc-icon mbsc-font-icon mbsc-icon-material-check",style:{background:e}})},t):null))})," ",(0,Vp.jsx)(Ap,{message:p,isOpen:f,onClose:me})]}),(0,Vp.jsx)(Op,{isOpen:X,message:"Event deleted",button:ve,onClose:ge})]})},Wp=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)}))};a.createRoot(document.getElementById("root")).render((0,Vp.jsx)(r.StrictMode,{children:(0,Vp.jsx)(Bp,{})})),Wp()})();
//# sourceMappingURL=main.12d16674.js.map